{"version":3,"sources":["app/context/shared-subjects.ts","app/shared/main-footer.tsx","icon.png","app/wigetds/logo.tsx","app/shared/main-nav.tsx","app/consts/literals.ts","app/wigetds/autofit-textarea.tsx","app/wigetds/json-path-guide.tsx","app/context/pref.ts","app/libs/hooks/wasm-api.ts","app/tool-blocks/json-formatter.tsx","app/libs/helpers.ts","app/tool-blocks/base64serde.tsx","app/tool-blocks/url-parser.tsx","app/tool-blocks/crontab-parser.tsx","app/consts/tool-sider-configs.tsx","app/libs/hooks/localstore.ts","app/shared/setting.tsx","app/shared/tools-sider.tsx","app/pages/main-page.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SharedSubjects","require","activeToolNode$","ReplaySubject","windowSizeChange$","tauri$","beEvent$","Subject","this","tauriAPI","window","__TAURI__","next","SharedSubjectContext","createContext","MainFooter","className","vertical","type","LogoComponent","content","href","style","textDecoration","spacing","align","src","logo","alt","Title","heading","MainNav","headerNode","Header","navFooter","Footer","position","size","onClick","open","icon","Computer","theme","fill","defaultOpenKeys","mode","userSelect","AutoFitTextArea","props","useObservableState","obs","cls","setCls","isLoading","loading","setLoading","useEffect","isOnError","length","console","debug","onChange","value","placeholder","ref","forwardedRef","bottom","paddingLeft","zIndex","AutoFitTextAreaWithRef","React","JsonPathGuide","overflowY","display","flexDirection","StoreItem","key","defaultValue","$","trim","toLowerCase","val","getValueFromStore","storeVal","JSON","stringify","localStorage","setItem","observer","subscribe","includes","getItem","innerValue","parse","undefined","e","Pref","darkModeEnabled","osName","toolsSiderCollapsed","jsonFormatterDefaultIndentSpace","instance","useWasmAPI","from","ErrorDisplay","input","errors","onFirstErrorRange","useState","errorTags","setErrorTags","ellipsePlaceHolderStart","tags","map","vErr","idx","errAtGreaterThan","Number","index_start","errHasLeftContent","index_end","startAt","endAt","errorHintText","slice","cursorPositionStart","cursorPositionEnd","visibility","padding","fontSize","description","JsonFormatterBlock","jsonIndentState","getInstance","jsonPathValue","setJsonPathValue","showJsonPathGuide","setShowJsonPathGuide","inputRef","useRef","jsonPathRef","copy","useClipboard","onSuccess","_","Toast","success","wasmAPI","changedInput","then","wasm","error","validate_json","code","setValidationErrors","changed","indent","setOutputJson","setOutput","inputValue","setInputValue","outputValue","setOutputValue","editorTheme","setEditorTheme","validationErrors","useMount","enabled","outObj","onInputChanged","onCopy","setRandomJson","inputVal","get_random_json","onCompressClicked","onIndentSelectionChanged","onClearClicked","isSidebarCollapsed","isTauriAppContext","Consumer","isTauri","visible","onCancel","gutter","span","height","disabled","width","Option","fullMode","bordered","closeIcon","_start","_end","res","JSONPath","path","json","base64encode","str","encode","encodeURIComponent","btoa","base64decode","decode","atob","decodeURIComponent","formatNumber","n","fractionDigits","ns","toFixed","x","split","x1","x2","rgx","test","replace","arrayBufferToBase64","dView","arr1","Array","prototype","call","item","String","fromCharCode","join","saveBase64AsFile","base64","fileName","link","document","createElement","body","appendChild","setAttribute","download","click","removeChild","Base64Serde","search","location","params","URLSearchParams","set","setSearchParams","defaultTabIdx","setDefaultTabIdx","useSearchParams","searchParams","tabIndex","get","defaultActiveKey","activeKey","tab","itemKey","Base64SerdeStringBlockBlock","codingType","setCodingType","inValue","setInValue","outValue","setOutValue","setInputForm","justifyContent","alignItems","randSentence","paddingRight","v","target","valueOf","Base64SerdeImageBlockBlock","useContext","createImage","data","fileType","newImage","onerror","onInValueChanged","base64SourceType","setBase64SourceType","imgSize","setImageSize","setImgSrc","tag","blobSize","imgSrc","fetch","base64Response","blob","setImageBlobSize","imgTag","setImgTag","imgBlobSize","imgContainerRef","extractBase64","inData","matches","match","base64Data","base64String","originalImageResized","getElementById","imgContainer","current","removeExisting","id","onload","naturalWidth","naturalHeight","formatBytes","isLoadingFile","setIsLoadingFile","fileReaderRef","fillBase64FormFromFile","img","hidden","parentElement","tauri","dialog","filePath","invoke","invokeRes","sampleData","data1","evt","Blob","files","selectedFile","arrayBuffer","Uint8Array","finally","children","base64Raw","fileExt","catch","err","UrlParser","TabPane","Percentage","UrlParserBlock","d","query","parsedUrl","setParsedUrl","parsedUrlObj","parseUrl","Item","protocol","port","resource","pathname","user","hash","exampleCrontabs","des","exp","CrontabParser","Text","Typography","defaultExplain","explain","setExplain","isErroCron","setIsErrorCron","showCrontabHelp","setShowCrontabHelp","inputExp","setInputExp","defaultData","setData","exmapleIdx","setExampleIdx","onInpuExpChanged","defautlErr","parseRes","parse_crontab_string","cronstrue","toString","expSegs","isAllMinutes","isAllHours","isAllDays","isAllMonths","isAllWeekdays","Set","minutes","m","padStart","hours","days","months","weekdays","next_executions","local","utc","errMsg","startsWith","Math","floor","random","onSelect","index","marginTop","CrontabParserResDisplay","CrontabHelp","CrontabParserBlock","ToolSiderConfigs","navItemProps","text","svg","CodeBrackets","node","PayCode","LinkOne","Calendar","useLocalStore","saved","initial","Object","assign","GetStorageValue","setValue","EchooSettingsDefault","SettingsModal","onVisibleChange","settings","setSettings","shown","setShown","formRef","centered","footer","closable","keepDOM","bodyStyle","overflow","initValues","onValueChange","Magic","Select","noLabel","field","label","IMac","ToolsSider","sharedSubsCtx","navRef","selectedItems","setSelectedItems","values","i","tools","setTools","keyword","filteredTools","filter","toUpperCase","filteredItemKeys","firstKey","setToolSearchKeyword","collapsed","hideSearchBar","sidebarCollapsed","setSideBarCollapsed","hide","navNode","findDOMNode","nodes","getElementsByClassName","toolItemKey","defaultKey","keys","toolSiderConfigs","k","setShowSettings","searchToolInputRef","hotkeyHandlers","SEARCH_TOOLS","useCallback","ke","focus","HeaderNode","showSettings","FooterNode","selectedKeys","multiple","items","isCollapsed","collapseButton","header","handlers","keyMap","siderToolItem","log","MainPage","Layout","Content","sharedSubs","activeToolNode","setActiveToolNode","event","listen","Notification","showClose","isTauriApp","Sider","App","setIsTauri","sendEvent","innerWidth","innerHeight","addEventListener","t","enableDark","enable","hasAttribute","removeAttribute","mql","matchMedia","os","appDir","s","forEach","basename","Provider","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.30b8bf0b.chunk.js","sourcesContent":["import { createContext, ReactNode } from \"react\";\nimport { ReplaySubject, Subject } from \"rxjs\";\n\nconst tauri = require(\"@tauri-apps/api\")\n\nclass SharedSubjects {\n\tpublic activeToolNode$ = new ReplaySubject<ReactNode>(1);\n\t// public toolsNavSearch$ = new ReplaySubject<string>(1)\n\tpublic windowSizeChange$ = new ReplaySubject<[number, number]>(1)\n\t// public toolMainContentSizeChanged$ = new ReplaySubject<[number, number]>(1)\n\t// public toolContentWidthChanged$ = new ReplaySubject<number>(1)\n\t// public toolContentHeightChanged$ = new ReplaySubject<number>(1)\n\tpublic tauri$: ReplaySubject<typeof tauri>\n\tpublic beEvent$: Subject<object> = new Subject<any>()\n\n\tconstructor() {\n\t\tthis.tauri$ = new ReplaySubject<typeof tauri | undefined>(1)\n\n\t\t// @ts-ignore\n\t\tconst tauriAPI = window.__TAURI__\n\t\tthis.tauri$.next(tauriAPI)\n\t}\n}\n\nexport const SharedSubjectContext = createContext(new SharedSubjects());\n","import { Space } from \"@douyinfe/semi-ui\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\n\nexport const MainFooter = () => {\n\treturn <Space className='main-footer' vertical>\n\t\t<Text type='tertiary'>Copyright © 2022 by <b>Echoo.app</b></Text>\n\t</Space>;\n};\n","export default __webpack_public_path__ + \"static/media/icon.719a6b8e.png\";","// @flow\nimport * as React from 'react';\nimport {Space, Tooltip, Typography} from \"@douyinfe/semi-ui\";\nimport \"./log.scss\"\nimport logo from \"../../icon.png\";\n\nexport const LogoComponent = () => {\n    return (\n        <Tooltip content={\"Utilities for developers\"}>\n            <a href=\"/\" style={{textDecoration: 'none'}}>\n                <Space spacing={10} align={\"center\"}>\n                    <img src={logo} alt='Utilities for developers'/>\n                    <Space spacing={5} align={\"baseline\"}>\n                        <Space spacing={3} align={\"baseline\"}>\n                            <Typography.Title heading={2} type={\"primary\"}>Echoo</Typography.Title>\n                            <Typography.Title heading={6} type={\"tertiary\"}>.app</Typography.Title>\n                        </Space>\n                    </Space>\n                </Space>\n            </a>\n        </Tooltip>\n    );\n};","import {IconGithubLogo} from \"@douyinfe/semi-icons\";\nimport {Button, Nav, Space, Tooltip} from \"@douyinfe/semi-ui\";\nimport \"./main-nav.scss\"\n\nimport {LogoComponent} from \"../wigetds/logo\";\nimport {GITHUB_HOMEPAGE, RELEASE_DOWNLOAD_PAGE} from \"../consts/literals\";\nimport {Computer} from \"@icon-park/react/es\";\n\nexport const MainNav = () => {\n\n    const onDownloadClicked = () => {\n        window.open(RELEASE_DOWNLOAD_PAGE, \"blank\",)\n    }\n\n    const onHomePageClicked = () => {\n        window.open(GITHUB_HOMEPAGE, \"blank\",)\n    }\n\n    const headerNode = <Nav.Header>\n        <LogoComponent/>\n    </Nav.Header>\n\n    const navFooter = <Nav.Footer>\n        <Space>\n            <Tooltip content='Offline desktop client'\n                     position='bottomLeft'>\n                <Button size={\"large\"} onClick={onDownloadClicked}\n                        icon={<Computer theme=\"outline\" size=\"21\" fill=\"var(--semi-color-primary)\"/>}/>\n            </Tooltip>\n            <Button size={\"large\"} icon={<IconGithubLogo size={\"extra-large\"} onClick={onHomePageClicked}\n            />}/>\n        </Space>\n    </Nav.Footer>\n\n    return (\n        <Nav defaultOpenKeys={[\"Home\"]} mode=\"horizontal\" style={{userSelect: \"none\"}}>\n            {headerNode}\n            {navFooter}\n        </Nav>\n    )\n};\n","export const GITHUB_HOMEPAGE = \"https://github.com/zsmatrix62/echoo-app\"\nexport const RELEASE_DOWNLOAD_PAGE = \"https://github.com/zsmatrix62/echoo-app/releases\"\n","import * as React from 'react';\nimport {ForwardedRef, Ref, useEffect} from 'react';\nimport {Spin, TextArea} from \"@douyinfe/semi-ui\";\nimport \"./autofit-textarea.scss\"\nimport {useObservableState} from \"observable-hooks\";\n\ntype Props = {\n    placeholder?: string\n    forwardedRef?: Ref<HTMLTextAreaElement>\n    value?: string,\n    onChange?: (val: string) => void,\n    isOnError?: Array<any>\n    isLoading?: boolean\n};\nconst AutoFitTextArea = (props: Props) => {\n    const [cls, setCls] = useObservableState<string>((obs) => {\n        return obs\n    }, \"text-area mod-normal\")\n\n    const [loading, setLoading] = useObservableState<boolean | undefined>(obs => {\n        return obs\n    }, props.isLoading)\n    useEffect(() => {\n        // eslint-disable-next-line no-self-compare\n        if (props.isOnError?.length ?? 0 > 0) {\n            console.debug('setting error selection color')\n            setCls(\"text-area mod-error\")\n        } else {\n            console.debug(\"reverting selection color\")\n            setCls(\"text-area mod-normal\")\n        }\n    }, [props.isOnError, setCls])\n\n    useEffect(() => {\n        setLoading(props.isLoading)\n    }, [props.isLoading, setLoading])\n    return (\n        <>\n            <TextArea\n                onChange={props.onChange}\n                value={props.value}\n                className={cls}\n                placeholder={props.placeholder}\n                ref={props.forwardedRef}>\n            </TextArea>\n            {\n                loading &&\n                <Spin style={{position: \"fixed\", bottom: 95, paddingLeft: 10, zIndex: 99}}/>\n            }\n        </>\n    );\n};\n\n\nexport const AutoFitTextAreaWithRef = React.forwardRef((props: Props, ref: ForwardedRef<HTMLTextAreaElement>) => {\n    return <AutoFitTextArea forwardedRef={ref} {...props}/>\n})","// @flow\nimport * as React from 'react';\nimport \"./json-path-guide.scss\"\nimport {Space} from \"@douyinfe/semi-ui\";\n\nexport const JsonPathGuide = () => {\n    return (\n        <Space style={{overflowY: \"scroll\", display: 'flex', flexDirection: \"column\"}}>\n            <>\n                <h2>Operators</h2>\n                <table>\n                    <thead>\n                    <tr>\n                        <th align=\"left\">Operator</th>\n                        <th align=\"left\">Description</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\"><code>$</code></td>\n                        <td align=\"left\">The root element to query. This starts all path expressions.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>@</code></td>\n                        <td align=\"left\">The current node being processed by a filter predicate.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>*</code></td>\n                        <td align=\"left\">Wildcard. Available anywhere a name or numeric are required.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>..</code></td>\n                        <td align=\"left\">Deep scan. Available anywhere a name is required.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>.&lt;name&gt;</code></td>\n                        <td align=\"left\">Dot-notated child</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>['&lt;name&gt;' (, '&lt;name&gt;')]</code></td>\n                        <td align=\"left\">Bracket-notated child or children</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[&lt;number&gt; (, &lt;number&gt;)]</code></td>\n                        <td align=\"left\">Array index or indexes</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[start:end]</code></td>\n                        <td align=\"left\">Array slice operator</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[?(&lt;expression&gt;)]</code></td>\n                        <td align=\"left\">Filter expression. Expression must evaluate to a boolean value.</td>\n                    </tr>\n                    </tbody>\n                </table>\n            </>\n            <>\n                <h2>Filter Operators</h2>\n                <table>\n                    <thead>\n                    <tr>\n                        <th align=\"left\">Operator</th>\n                        <th align=\"left\">Description</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\">==</td>\n                        <td align=\"left\">left is equal to right (note that 1 is not equal to '1')</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">!=</td>\n                        <td align=\"left\">left is not equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&lt;</td>\n                        <td align=\"left\">left is less than right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&lt;=</td>\n                        <td align=\"left\">left is less or equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&gt;</td>\n                        <td align=\"left\">left is greater than right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&gt;=</td>\n                        <td align=\"left\">left is greater than or equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">=~</td>\n                        <td align=\"left\">left matches regular expression [?(@.name =~ /foo.*?/i)]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">in</td>\n                        <td align=\"left\">left exists in right [?(@.size in ['S', 'M'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">nin</td>\n                        <td align=\"left\">left does not exists in right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">subsetof</td>\n                        <td align=\"left\">left is a subset of right [?(@.sizes subsetof ['S', 'M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">anyof</td>\n                        <td align=\"left\">left has an intersection with right [?(@.sizes anyof ['M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">noneof</td>\n                        <td align=\"left\">left has no intersection with right [?(@.sizes noneof ['M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">size</td>\n                        <td align=\"left\">size of left (array or string) should match right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">empty</td>\n                        <td align=\"left\">left (array or string) should be empty</td>\n                    </tr>\n                    </tbody>\n                </table>\n            </>\n        </Space>\n    );\n}","import {Observer, ReplaySubject, Subscribable, Unsubscribable} from \"rxjs\";\n\nclass StoreItem<T> implements Subscribable<T> {\n    public $: ReplaySubject<T> = new ReplaySubject<T>()\n\n    constructor(private readonly key: string, private defaultValue: T\n    ) {\n        // console.log(key, defaultValue)\n        this.key = this.key.trim().toLowerCase()\n        this.$.next(this.value)\n    }\n\n    public get value() {\n        let val = this.getValueFromStore();\n        console.debug(`read value from store: ${this.key} = ${val}`)\n        return val\n    }\n\n    public set value(value: T) {\n        let storeVal = JSON.stringify({value: value})\n        console.debug(`setting store item: ${this.key}=${storeVal}`)\n        localStorage.setItem(this.key, storeVal)\n        this.$.next(value)\n    }\n\n    public subscribe(observer: Partial<Observer<T>> | undefined): Unsubscribable {\n        return this.$.subscribe(observer)\n    }\n\n    public toggle() {\n        if ([\"Boolean\", \"boolean\"].includes(typeof this.value)) {\n            // @ts-ignore\n            this.value = !this.value;\n        }\n    }\n\n    private getValueFromStore(): T {\n        let value: string = localStorage.getItem(this.key) ?? '';\n        if (!value) {\n            return this.defaultValue\n        }\n        try {\n            let initial = JSON.parse(value);\n            let innerValue = initial[\"value\"]\n            if (innerValue === undefined) {\n                this.value = this.defaultValue\n                return this.defaultValue\n            }\n            return innerValue;\n        } catch (e) {\n            return this.defaultValue\n        }\n    }\n}\n\nexport class Pref {\n    private static instance: Pref\n\n    public darkModeEnabled = new StoreItem<boolean>(\"pref:dark-mode\", false)\n    public theme = new StoreItem<string>(\"pref:theme\", \"system\")\n    public osName = new StoreItem<string>(\"pref:os\", \"\")\n    public toolsSiderCollapsed = new StoreItem<boolean>(\"pref:sider-collapsed\", true)\n    public jsonFormatterDefaultIndentSpace = new StoreItem<number>(\"pref:json-formatter:default-indent-space\", 2)\n\n    public static getInstance(): Pref {\n        if (!Pref.instance) {\n            Pref.instance = new Pref();\n        }\n        return Pref.instance\n    }\n}\n\n\n","import {useObservableState} from \"observable-hooks\";\nimport {from} from \"rxjs\";\n\nexport const useWasmAPI = () => {\n    return useObservableState(from(import('wasm-api')))\n}","import {\n\tBanner,\n\tButton,\n\tCol,\n\tInput,\n\tRow,\n\tSelect,\n\tSideSheet,\n\tSpace,\n\tToast,\n} from '@douyinfe/semi-ui'\nimport './json-formatter.scss'\nimport {\n\tIconArrowUp,\n\tIconCopy,\n\tIconHelpCircle,\n\tIconLayers,\n} from '@douyinfe/semi-icons'\nimport { useEffect, useRef, useState } from 'react'\nimport { useObservableState } from 'observable-hooks'\nimport { useMount } from 'react-use'\nimport { AutoFitTextAreaWithRef } from '../wigetds/autofit-textarea'\nimport Text from '@douyinfe/semi-ui/lib/es/typography/text'\nimport useClipboard from 'use-clipboard-hook'\nimport { JSONPath } from 'jsonpath-plus'\nimport { JsonPathGuide } from '../wigetds/json-path-guide'\nimport { Pref } from '../context/pref'\nimport CodeMirror from '@uiw/react-codemirror'\nimport { isTauriAppContext } from '../../App'\nimport { useWasmAPI } from '../libs/hooks/wasm-api'\nimport { ValidationError } from 'wasm-api'\nimport { json } from '@codemirror/lang-json'\n\nconst ErrorDisplay = ({\n\tinput,\n\terrors,\n\tonFirstErrorRange,\n}: {\n\tinput?: string\n\terrors: Array<ValidationError>\n\tonFirstErrorRange?: (start: number, end: number) => void\n}) => {\n\tconst [errorTags, setErrorTags] = useState<Array<JSX.Element>>([])\n\tuseEffect(() => {\n\t\tif (errors.length === 0) {\n\t\t\treturn\n\t\t}\n\t\tif (!input) {\n\t\t\treturn\n\t\t}\n\n\t\tconst prefixCount = 10\n\t\tconst ellipsePlaceHolderStart = '... '\n\t\tconst ellipsePlaceHolderEnd = ' ...'\n\t\tlet tags = errors.map((vErr, idx) => {\n\t\t\tlet errAtGreaterThan = Number(vErr.index_start) - prefixCount > 0\n\t\t\tlet errHasLeftContent =\n\t\t\t\tNumber(vErr.index_end) + prefixCount < input.length\n\n\t\t\tlet startAt = errAtGreaterThan\n\t\t\t\t? Number(vErr.index_start) - prefixCount\n\t\t\t\t: 0\n\t\t\tlet endAt = errHasLeftContent\n\t\t\t\t? Number(vErr.index_end) + prefixCount\n\t\t\t\t: Number(vErr.index_end)\n\n\t\t\tconst errorHintText = `${errAtGreaterThan ? ellipsePlaceHolderStart : ''\n\t\t\t\t} ${input.slice(startAt, endAt)}${errHasLeftContent ? ellipsePlaceHolderEnd : ''\n\t\t\t\t}`\n\n\t\t\tlet cursorPositionStart = errAtGreaterThan\n\t\t\t\t? startAt - ellipsePlaceHolderStart.length\n\t\t\t\t: startAt\n\t\t\tlet cursorPositionEnd = Number(vErr.index_start)\n\n\t\t\tif (endAt === input.length) {\n\t\t\t\tcursorPositionStart = endAt - errorHintText.length\n\t\t\t\tcursorPositionEnd = endAt - 1\n\t\t\t}\n\n\t\t\tif (onFirstErrorRange) {\n\t\t\t\tonFirstErrorRange!(startAt, endAt)\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div key={idx}>\n\t\t\t\t\t<Space vertical align={'start'} spacing={10}>\n\t\t\t\t\t\t<Text type={'danger'}>\n\t\t\t\t\t\t\t<code>{errorHintText}</code>\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text type={'danger'}>\n\t\t\t\t\t\t\t<code\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tvisibility: 'hidden',\n\t\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{input.slice(cursorPositionStart, cursorPositionEnd)}\n\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t<IconArrowUp />\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<code>\n\t\t\t\t\t\t\t<Text type=\"danger\" style={{ fontSize: 18 }}>\n\t\t\t\t\t\t\t\t{vErr.description}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</code>\n\t\t\t\t\t</Space>\n\t\t\t\t</div>\n\t\t\t)\n\t\t})\n\t\tsetErrorTags(tags)\n\t}, [errors, input, onFirstErrorRange])\n\treturn <Space>{errorTags}</Space>\n}\n\nexport const JsonFormatterBlock = () => {\n\tlet inputPlaceholder =\n\t\t'Enter your text, Drag/drop files, Right click to load file'\n\tconst jsonIndentState = useObservableState<number>(\n\t\tPref.getInstance().jsonFormatterDefaultIndentSpace.$\n\t)\n\tconst [jsonPathValue, setJsonPathValue] = useState<string>('')\n\tconst [showJsonPathGuide, setShowJsonPathGuide] = useState<boolean>(false)\n\tconst inputRef = useRef<HTMLTextAreaElement>(null)\n\tconst jsonPathRef = useRef<HTMLInputElement>(null)\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tToast.success('JSON copied')\n\t\t},\n\t})\n\n\tconst wasmAPI = useWasmAPI()\n\n\tconst [inputValue, setInputValue] = useObservableState<string | undefined>(\n\t\t(obs) => {\n\t\t\tobs.subscribe((changedInput) => {\n\t\t\t\timport('wasm-api').then((wasm) => {\n\t\t\t\t\tlet error = wasm?.validate_json(changedInput!)\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tif (error.code === 'E100') {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetValidationErrors([error])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tconst setOutput = (changed: string) => {\n\t\t\t\tPref.getInstance().jsonFormatterDefaultIndentSpace.subscribe({\n\t\t\t\t\tnext: (indent) => {\n\t\t\t\t\t\tsetValidationErrors([])\n\t\t\t\t\t\tsetOutputJson(changed === '' ? '{}' : changed, indent)\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tobs.subscribe((changed) => {\n\t\t\t\tsetOutput(changed ?? '')\n\t\t\t})\n\t\t\treturn obs\n\t\t},\n\t\tundefined\n\t)\n\n\tconst [outputValue, setOutputValue] = useObservableState<string | undefined>(\n\t\t(obs) => {\n\t\t\treturn obs\n\t\t},\n\t\tundefined\n\t)\n\n\tconst [editorTheme, setEditorTheme] = useObservableState<string | undefined>(\n\t\t(obs) => {\n\t\t\treturn obs\n\t\t},\n\t\tundefined\n\t)\n\n\tconst [validationErrors, setValidationErrors] = useObservableState<\n\t\tArray<any>\n\t>((obs) => {\n\t\treturn obs\n\t}, [])\n\n\tuseMount(() => {\n\t\tPref.getInstance().darkModeEnabled.subscribe({\n\t\t\tnext: (enabled) => {\n\t\t\t\tsetEditorTheme(enabled ? 'dark' : 'light')\n\t\t\t},\n\t\t})\n\t})\n\n\tconst setOutputJson = (val?: string, indent?: number | string) => {\n\t\tlet outObj = {}\n\t\tlet content = ''\n\t\ttry {\n\t\t\tif (val) {\n\t\t\t\toutObj = JSON.parse(val)\n\t\t\t\tif (indent === 91) {\n\t\t\t\t\tindent = '\\t'\n\t\t\t\t}\n\t\t\t\tcontent = JSON.stringify(outObj, null, indent)\n\t\t\t}\n\t\t} catch (e) {\n\t\t} finally {\n\t\t\tsetOutputValue(content)\n\t\t}\n\t}\n\n\tconst onInputChanged = (val: string) => {\n\t\tsetInputValue(val)\n\t\tsetJsonPathValue('')\n\t}\n\n\tconst onCopy = () => {\n\t\tcopy(outputValue)\n\t}\n\n\tfunction setRandomJson() {\n\t\tconst inputVal = wasmAPI?.get_random_json()\n\t\tsetInputValue(inputVal)\n\t}\n\n\tfunction onCompressClicked() {\n\t\tonIndentSelectionChanged(0)\n\t}\n\n\tfunction onClearClicked() {\n\t\tsetInputValue('')\n\t}\n\n\tfunction onIndentSelectionChanged(\n\t\tvalue: string | number | any[] | Record<string, any> | undefined\n\t) {\n\t\tconst indent = value as number\n\t\tconsole.debug(`setting output json as ${indent} spaces indent`)\n\t\tsetOutputJson(outputValue, indent)\n\t\tPref.getInstance().jsonFormatterDefaultIndentSpace.value = indent\n\t}\n\n\tconst isSidebarCollapsed = useObservableState(\n\t\tPref.getInstance().toolsSiderCollapsed.$\n\t)\n\n\t// noinspection RequiredAttributes\n\treturn (\n\t\t<isTauriAppContext.Consumer>\n\t\t\t{(isTauri) => (\n\t\t\t\t<Row className=\"json-formatter-container\">\n\t\t\t\t\t<SideSheet\n\t\t\t\t\t\tsize={'large'}\n\t\t\t\t\t\tvisible={showJsonPathGuide}\n\t\t\t\t\t\tonCancel={() => {\n\t\t\t\t\t\t\tsetShowJsonPathGuide(false)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<JsonPathGuide />\n\t\t\t\t\t</SideSheet>\n\n\t\t\t\t\t<Row className=\"json-formatter-container-child\" gutter={10}>\n\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\tspan={9}\n\t\t\t\t\t\t\tclassName={`input-block ${isTauri ? 'mod-input-block-is-tauri' : ''\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Row style={{ padding: '10px 0' }}>\n\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t<Button onClick={setRandomJson}>Sample</Button>\n\t\t\t\t\t\t\t\t\t<Button onClick={onClearClicked}>Clear</Button>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row style={{ height: '100%' }}>\n\t\t\t\t\t\t\t\t<AutoFitTextAreaWithRef\n\t\t\t\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t\t\t\t\tonChange={onInputChanged}\n\t\t\t\t\t\t\t\t\tforwardedRef={inputRef}\n\t\t\t\t\t\t\t\t\tisOnError={validationErrors}\n\t\t\t\t\t\t\t\t\tplaceholder={inputPlaceholder}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\tspan={15}\n\t\t\t\t\t\t\tclassName={`input-block ${isTauri ? 'mod-input-block-is-tauri' : ''\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\t\tstyle={{ padding: '10px 0', flexDirection: 'row-reverse' }}\n\t\t\t\t\t\t\t\ttype={'flex'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled={!outputValue}\n\t\t\t\t\t\t\t\t\t\tonClick={onCompressClicked}\n\t\t\t\t\t\t\t\t\t\ticon={<IconLayers />}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCompress\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tdisabled={!outputValue}\n\t\t\t\t\t\t\t\t\t\tvalue={jsonIndentState}\n\t\t\t\t\t\t\t\t\t\tdefaultValue={jsonIndentState}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\n\t\t\t\t\t\t\t\t\t\tonChange={onIndentSelectionChanged}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={2}>2 spaces</Select.Option>\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={4}>4 spaces</Select.Option>\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={91}>1 tab</Select.Option>\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={0}>minified</Select.Option>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled={!outputValue}\n\t\t\t\t\t\t\t\t\t\tonClick={onCopy}\n\t\t\t\t\t\t\t\t\t\ticon={<IconCopy />}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCopy\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row className=\"cm-block\">\n\t\t\t\t\t\t\t\t{validationErrors.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<Banner\n\t\t\t\t\t\t\t\t\t\tclassName=\"validation-error\"\n\t\t\t\t\t\t\t\t\t\tfullMode={false}\n\t\t\t\t\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t\t\t\ticon={null}\n\t\t\t\t\t\t\t\t\t\tcloseIcon={null}\n\t\t\t\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\t\t\t\t<ErrorDisplay\n\t\t\t\t\t\t\t\t\t\t\t\tonFirstErrorRange={(_start, _end) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// inputRef?.current?.setSelectionRange(start, end)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tinput={inputValue}\n\t\t\t\t\t\t\t\t\t\t\t\terrors={validationErrors}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\t\t\t\tclassName={`cm-block-group\n\t\t\t\t\t\t\t\t\t\t${isTauri ? 'mod-cm-in-tauri' : 'mod-cm-in-browser'}\n\t\t\t\t\t\t\t\t\t\t${isSidebarCollapsed ? 'mod-cm-sider-collapsed' : 'mod-cm-sider-expanded'}\n\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\ttype={'flex'}\n\t\t\t\t\t\t\t\t\t\tgutter={10}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<CodeMirror\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={outputValue}\n\t\t\t\t\t\t\t\t\t\t\t\t// extensions={[json()]}\n\t\t\t\t\t\t\t\t\t\t\t\ttheme={editorTheme! as 'light' | 'dark'}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Space style={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!validationErrors || !outputValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'JSON Path'}\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={jsonPathRef}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={jsonPathValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(val) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetJsonPathValue(val)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet res = JSONPath({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: val,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjson: JSON.parse(inputValue!),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetOutputJson(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(res),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjsonIndentState\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetInputValue(inputValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<IconHelpCircle />}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowJsonPathGuide(true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t</isTauriAppContext.Consumer>\n\t)\n}\n","import {RefObject} from \"react\";\nimport {findDOMNode} from \"react-dom\";\n\nexport function GetRefNodeSize(ref: RefObject<any>) {\n    const htmlNode = findDOMNode(ref.current) as HTMLElement\n    return [htmlNode.offsetWidth ?? 0, htmlNode.offsetHeight ?? 0]\n}\n\nexport function base64encode(str: string) {\n    let encode = encodeURIComponent(str)\n    return window.btoa(encode)\n}\n\nexport function base64decode(str: string) {\n    let decode = window.atob(str);\n    return decodeURIComponent(decode)\n}\n\nexport function findNodesByClassName<T extends HTMLElement>(parent: HTMLElement, className: string): Array<T> {\n    let nodes = parent.getElementsByClassName(className)\n    let returnVals: Array<T> = []\n    for (let nodesKey in nodes) {\n        let node = nodes[nodesKey];\n        if (node instanceof HTMLElement) {\n            returnVals.push(node as T)\n        }\n    }\n    return returnVals\n}\n\nexport function formatNumber(n: number, fractionDigits: number = 0) {\n    let ns = n.toFixed(fractionDigits) + '';\n    let x = ns.split('.');\n    let x1 = x[0];\n    let x2 = x.length > 1 ? '.' + x[1] : '';\n    let rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1)) {\n        // eslint-disable-next-line no-useless-concat\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n}\n\nexport function base64ToArrayBuffer(base64: string) {\n    const binary_string = window.atob(base64);\n    const len = binary_string.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes;\n}\n\nexport function arrayBufferToBase64(dView: Uint8Array) {\n\n    const arr = Array.prototype.slice.call(dView); //Create a normal array\n\n    const arr1 = arr.map(function (item) {\n        return String.fromCharCode(item);    //Convert\n    });\n\n    return window.btoa(arr1.join(''));   //Form a string\n\n}\n\n\nexport function saveBase64AsFile(base64: string, fileName: string) {\n    const link = document.createElement(\"a\");\n    document.body.appendChild(link);\n    link.setAttribute(\"type\", \"hidden\");\n    link.href = \"data:text/plain;base64,\" + base64;\n    link.download = fileName;\n    link.click();\n    document.body.removeChild(link);\n}\n\nexport function getOS() {\n    return window.navigator.appName\n}","import * as React from 'react';\nimport {useContext, useRef, useState} from 'react';\nimport {Button, Radio, RadioGroup, Row, Space, TabPane, Tabs, Toast, Tooltip} from \"@douyinfe/semi-ui\";\nimport \"./base64serde.scss\"\nimport \"../shared/styles/h-layout.scss\"\nimport {IconArrowUp, IconCopy, IconDownload, IconFile, IconImage} from \"@douyinfe/semi-icons\";\nimport {AutoFitTextAreaWithRef} from \"../wigetds/autofit-textarea\";\nimport {useMount} from \"react-use\";\nimport {useSearchParams} from \"react-router-dom\";\nimport {useObservableState} from \"observable-hooks\";\nimport useClipboard from \"use-clipboard-hook\";\nimport {arrayBufferToBase64, base64decode, base64encode, formatNumber, saveBase64AsFile} from \"../libs/helpers\";\nimport {randSentence} from \"@ngneat/falso\"\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport sampleData from \"../../assets/base64-img-sample.json\"\nimport {isTauriAppContext} from '../../App';\n\nexport const Base64Serde = () => {\n    // noinspection DuplicatedCode\n    const [defaultTabIdx, setDefaultTabIdx] = useObservableState<string>(\n        obs => {\n            obs.subscribe(idx => {\n                const search = window.location.search;\n                const params = new URLSearchParams(search);\n                params.set(\"tab\", idx)\n                setSearchParams(params)\n            })\n            return obs\n        },\n        \"1\")\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    useMount(() => {\n        let tabIndex = searchParams.get(\"tab\")\n        if (tabIndex) {\n            setDefaultTabIdx(tabIndex);\n        }\n    })\n\n    return (\n\n        <isTauriAppContext.Consumer>\n            {\n                (isTauri) => (\n                    <Tabs defaultActiveKey={defaultTabIdx}\n                          activeKey={defaultTabIdx}\n                          onChange={(key) => {\n                              setDefaultTabIdx(key)\n                          }}\n                          className={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n                    >\n                        <TabPane tab={<span> <IconFile/> String </span>} itemKey=\"1\">\n                            <Base64SerdeStringBlockBlock/>\n                        </TabPane>\n                        <TabPane tab={<span> <IconImage/> Image </span>} itemKey=\"2\">\n                            <Base64SerdeImageBlockBlock/>\n                        </TabPane>\n                    </Tabs>\n                )\n            }\n        </isTauriAppContext.Consumer>\n    );\n};\n\nexport const Base64SerdeStringBlockBlock = () => {\n        const [codingType, setCodingType] = useState<number>(0)\n        const [inValue, setInValue] = useObservableState<String>(obs => {\n                return obs\n            }, ''\n        )\n        const [outValue, setOutValue] = useObservableState<String>(obs => {\n            return obs\n        }, '')\n        const {copy} = useClipboard({\n            onSuccess: (_) => {\n                Toast.success({\n                    content: `${codingType === 0 ? 'encoded' : 'decoded'} content copied`,\n                },)\n            }\n        });\n\n        const setInputForm = (value: string) => {\n            setInValue(value)\n            setOutValue(codingType === 0 ? base64encode(value) : base64decode(value))\n        }\n\n        const onGenSampleClicked = () => {\n            setInputForm(randSentence({length: 1})[0])\n        }\n\n        const onClearClicked = () => {\n            setInputForm(\"\")\n        }\n\n        const onCopy = () => {\n            copy(outValue.valueOf())\n        }\n\n        const onUseAsInputClicked = () => {\n            setOutValue(\"\");\n            setInValue(outValue)\n        }\n\n        return (\n            <Row className='h-layout-child-container' type={\"flex\"}>\n                <Row className={'h-layout-child'}>\n                    <Row type='flex' className='header' style={{justifyContent: \"space-between\", alignItems: \"center\"}}>\n                        <Space>\n                            <Button onClick={onGenSampleClicked}>Sample</Button>\n                            <Button onClick={onClearClicked} disabled={!inValue}>Clear</Button>\n                        </Space>\n                        <RadioGroup\n                            style={{paddingRight: 5}}\n                            defaultValue={codingType} value={codingType} onChange={(v) => {\n                            setCodingType(v.target.value as number)\n                            if (inValue !== '') {\n                                try {\n                                    setOutValue(codingType === 1 ? base64encode(inValue.valueOf()) : base64decode(inValue.valueOf()))\n                                } catch (e) {\n                                    setOutValue(\"\")\n                                } finally {\n                                }\n                            }\n                        }}>\n                            <Radio value={0}>Encode</Radio>\n                            <Radio value={1}>Decode</Radio>\n                        </RadioGroup>\n                    </Row>\n                    <Row className={'mod-section-content mod-no-footer'}>\n                        <AutoFitTextAreaWithRef value={inValue.valueOf()} onChange={(value) => {\n                            setInputForm(value)\n                        }}/>\n                    </Row>\n                </Row>\n                <Row className={'h-layout-child'}>\n                    <Row className='header'>\n                        <Space>\n                            <Button onClick={onCopy} disabled={outValue === ''} icon={<IconCopy/>}>Copy</Button>\n                            <Button onClick={onUseAsInputClicked} disabled={outValue === ''} icon={<IconArrowUp/>}>Use\n                                as input</Button>\n                        </Space>\n                    </Row>\n                    <Row className={'mod-section-content mod-no-footer'}>\n                        <AutoFitTextAreaWithRef value={outValue.valueOf()}/>\n                    </Row>\n                </Row>\n            </Row>\n        );\n    }\n;\n\n// noinspection JSUnusedGlobalSymbols\nexport const Base64SerdeImageBlockBlock = () => {\n    const isTauri = useContext(isTauriAppContext)\n    const createImage = (data: string, fileType = \"image/jpeg\") => {\n        let src = `data:${fileType};base64,`;\n        src += data\n        let newImage = document.createElement(\"img\");\n        newImage.src = src\n        newImage.onerror = function (_) {\n            newImage.src = \"\"\n        }\n        return newImage\n    }\n\n    const [base64SourceType, setBase64SourceType] = useObservableState<number>((obs) => {\n        obs.subscribe(_ => {\n            onInValueChanged(\"\")\n        })\n        return obs\n    }, 0)\n\n    const [imgSize, setImageSize] = useState<[number, number]>([0, 0])\n    const [, setImgSrc] = useObservableState<string>(obs => {\n        return obs\n    }, '')\n    const [imgTag, setImgTag] = useObservableState<HTMLImageElement | null>(obs => {\n        // calculate input base64 size\n        obs.subscribe(async tag => {\n            let blobSize = 0\n            if (tag) {\n                let src = \"\"\n                try {\n                    src = tag?.src\n                } catch (e) {\n                }\n                try {\n                    const imgSrc = src ?? \"\"\n                    setImgSrc(imgSrc)\n                    const base64Response = await fetch(imgSrc);\n                    blobSize = (await base64Response.blob()).size\n                } catch (e) {\n                    blobSize = 0\n                } finally {\n                }\n            }\n            setImageBlobSize(blobSize)\n        })\n        return obs\n    }, null)\n\n    const [imgBlobSize, setImageBlobSize] = useState<number>(0)\n\n    const [inValue, setInValue] = useObservableState<string>(obs => {\n        return obs\n    }, \"\")\n    const imgContainerRef = useRef<HTMLDivElement>(null)\n\n\n    const onGenSampleClicked = () => {\n        let data = sampleData.data\n        if (base64SourceType === 1) {\n            data = sampleData.data1\n        }\n        onInValueChanged(data);\n    }\n\n    const onClearClicked = () => {\n        onInValueChanged(\"\")\n    }\n\n    const extractBase64 = (inData: string) => {\n        if (!inData) {\n            return \"\"\n        }\n\n        // source in image tag\n        let matches = inData.match(/data:image\\/[^;]+;base64[^\"]+/igm);\n        if (matches && matches.length > 0) {\n            let fistMatch = matches[0]\n            let base64Data = fistMatch.split(\"base64,\")[1]\n            base64Data = base64Data.slice(0, base64Data.length);\n            return base64Data\n        }\n        return inData;\n    }\n\n    const onInValueChanged = (data: string, fileType: string = \"image/jpeg\") => {\n        setInValue(data);\n\n        // data might be raw base64 string, image html tag, or css url pattern\n        let base64String = extractBase64(data)\n\n        let originalImageResized = document.getElementById(\"created-img-resized\") as HTMLImageElement;\n\n        let imgContainer = imgContainerRef.current\n        const removeExisting = () => {\n            if (imgContainer && originalImageResized) {\n                imgContainer.removeChild(originalImageResized)\n                setImgTag(null)\n            }\n        }\n\n        removeExisting()\n\n        if (base64String === \"\") {\n            setImageSize([0, 0])\n            return\n        } else {\n            try {\n                originalImageResized = createImage(base64String, fileType);\n            } catch (e) {\n                setImageSize([0, 0])\n                return\n            } finally {\n\n            }\n            originalImageResized.id = \"created-img-resized\"\n            originalImageResized.onload = function () {\n                setImageSize([originalImageResized.naturalWidth, originalImageResized.naturalHeight])\n            }\n            if (imgContainer) {\n                imgContainer.appendChild(originalImageResized)\n                setImgTag(originalImageResized)\n            }\n        }\n    }\n\n    const formatBytes = (n: number) => {\n        if (n >= 1024 && n <= 1024 * 1024) {\n            return `${formatNumber(n / 1024, 2)} kB`\n        }\n        if (n >= 1024 * 1024) {\n            return `${formatNumber(n / (1024 * 1024), 2)} MB`\n        }\n\n        return `${formatNumber(n)} bytes`;\n    }\n\n    //<editor-fold desc=\"Read image from fs\">\n    const [isLoadingFile, setIsLoadingFile] = useState<boolean>(false)\n    const fileReaderRef = useRef<HTMLInputElement>(null)\n    const fillBase64FormFromFile = (data: Uint8Array, fileType: string = \"image/jpeg\") => {\n        const base64String = arrayBufferToBase64(data)\n\n        let img = createImage(base64String, fileType)\n        img.hidden = true\n        img.id = \"temp_img\"\n        if (base64SourceType === 0) {\n            onInValueChanged(base64String, fileType)\n        }\n        if (base64SourceType === 1) {\n            onInValueChanged(`<img src=\"${img.src}\" alt=\"\">`, fileType)\n        }\n\n        setIsLoadingFile(false)\n        img.parentElement?.removeChild(img)\n    }\n    const handelInputChange = () => {\n        if (fileReaderRef?.current?.files) {\n            const selectedFile = fileReaderRef!.current!.files![0];\n            setIsLoadingFile(true)\n            selectedFile.arrayBuffer().then((data) => {\n                fillBase64FormFromFile(new Uint8Array(data), selectedFile.type)\n            }).finally(\n                () => {\n                    setIsLoadingFile(false)\n                }\n            )\n        }\n    }\n\n    async function onLoadFileClicked() {\n        if (fileReaderRef.current) {\n            setIsLoadingFile(true)\n            if (isTauri) {\n                // @ts-ignore\n                const tauri = window.__TAURI__;\n                let filePath = await tauri.dialog.open();\n                if (filePath) {\n                    tauri.invoke(\"read_binary_file\", {\"path\": filePath}).then((invokeRes: [string, Uint8Array]) => {\n                        let data = invokeRes[1]\n                        fillBase64FormFromFile(data)\n                    });\n                }\n            } else {\n                fileReaderRef.current.click()\n            }\n            setIsLoadingFile(false)\n        }\n    }\n\n    //</editor-fold>\n\n    return (\n        <Row className='h-layout-child-container'>\n            <Row className='h-layout-child'>\n                <Space className='header'>\n                    <Space>\n                        <Button onClick={onGenSampleClicked}>Sample</Button>\n                        <Button onClick={onClearClicked} disabled={!inValue}>Clear</Button>\n                    </Space>\n                    <RadioGroup\n                        style={{paddingRight: 10}}\n                        defaultValue={base64SourceType} value={base64SourceType}\n                        onChange={(evt) => {\n                            setBase64SourceType(evt.target.value as number)\n                        }}>\n\n                        <Tooltip content={\"Raw base64 string\"}>\n                            <Radio value={0}>\n                                Raw String\n                            </Radio>\n                        </Tooltip>\n                        <Tooltip content={\"HTML/CSS containing base64 string\"}>\n                            <Radio value={1}>HTML / CSS</Radio>\n                        </Tooltip>\n                    </RadioGroup>\n                </Space>\n                <Row className='mod-section-content'>\n                    <AutoFitTextAreaWithRef value={inValue} onChange={(val) => {\n                        onInValueChanged(val)\n                    }}/>\n                </Row>\n                <Row className='footer'>\n                    <span style={{display: \"flex\", flexDirection: \"row-reverse\"}}>\n                        <Text><code>{formatBytes(new Blob([inValue]).size)}</code></Text>\n                    </span>\n                </Row>\n            </Row>\n            <Row className='h-layout-child'>\n                <Row className='header'>\n                    <Space>\n                        <input type={\"file\"} style={{display: \"none\"}} ref={fileReaderRef}\n                               onChange={handelInputChange}/>\n                        <Button loading={isLoadingFile} icon={<IconFile/>} children={\"Load File ...\"}\n                                onClick={onLoadFileClicked}/>\n                        <Button onClick={onClearClicked} disabled={!imgTag}>Clear</Button>\n                        <Button icon={<IconDownload/>} children={\"Save\"} disabled={!imgTag} onClick={async () => {\n                            const base64Raw = base64SourceType === 0 ? inValue : extractBase64(inValue);\n                            if (imgTag) {\n                                let fileExt: string\n                                fileExt = imgTag.src.split(\"image/\")[1].split(\";\")[0] ?? \"\"\n                                if (imgTag.src) {\n                                    if (isTauri) {\n                                        // @ts-ignore\n                                        let tauri = window.__TAURI__;\n                                        tauri.invoke(\"write_binary_file\", {\n                                            \"data\": base64Raw,\n                                            \"fileName\": `img.${fileExt}`\n                                        })\n                                            .catch((err: string) => {\n                                                Toast.error(err)\n                                            })\n                                    } else {\n\n                                        saveBase64AsFile(base64Raw, `img.${fileExt}`);\n                                    }\n                                }\n                            }\n                        }}/>\n                    </Space>\n                </Row>\n                <Row className='mod-section-content'>\n                    <div className='img-container' ref={imgContainerRef}/>\n                </Row>\n\n                <Row className='footer' style={{display: \"flex\", flexDirection: \"row-reverse\"}}>\n                    <Text><code>{imgSize.join(\"x\")} | {formatBytes(imgBlobSize)}</code></Text>\n                </Row>\n            </Row>\n        </Row>\n    );\n};\n","import {\n\tButton,\n\tCol,\n\tDescriptions,\n\tRow,\n\tSpace,\n\tTabs,\n\tToast,\n} from '@douyinfe/semi-ui'\nimport { useObservableState } from 'observable-hooks'\nimport { useSearchParams } from 'react-router-dom'\nimport { useMount } from 'react-use'\nimport '../shared/styles/h-layout.scss'\nimport { isTauriAppContext } from '../../App'\nimport { Percentage } from '@icon-park/react'\nimport './url-parser.scss'\nimport { AutoFitTextAreaWithRef } from '../wigetds/autofit-textarea'\nimport { Pref } from '../context/pref'\nimport { IconCopy } from '@douyinfe/semi-icons'\nimport parseUrl from 'parse-url'\nimport useClipboard from 'use-clipboard-hook'\n\nexport const UrlParser = () => {\n\t// noinspection DuplicatedCode\n\tconst [defaultTabIdx, setDefaultTabIdx] = useObservableState<string>(\n\t\t(obs) => {\n\t\t\tobs.subscribe((idx) => {\n\t\t\t\tconst search = window.location.search\n\t\t\t\tconst params = new URLSearchParams(search)\n\t\t\t\tparams.set('tab', idx)\n\t\t\t\tsetSearchParams(params)\n\t\t\t})\n\t\t\treturn obs\n\t\t},\n\t\t'1'\n\t)\n\tconst [searchParams, setSearchParams] = useSearchParams()\n\n\tuseMount(() => {\n\t\tlet tabIndex = searchParams.get('tab')\n\t\tif (tabIndex) {\n\t\t\tsetDefaultTabIdx(tabIndex)\n\t\t}\n\t})\n\n\treturn (\n\t\t<isTauriAppContext.Consumer>\n\t\t\t{(isTauri) => (\n\t\t\t\t<Tabs\n\t\t\t\t\tdefaultActiveKey={defaultTabIdx}\n\t\t\t\t\tactiveKey={defaultTabIdx}\n\t\t\t\t\tonChange={(key) => {\n\t\t\t\t\t\tsetDefaultTabIdx(key)\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n\t\t\t\t>\n\t\t\t\t\t<Tabs.TabPane\n\t\t\t\t\t\ttab={\n\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t<Percentage style={{ height: 18 }} /> <span>Parse</span>{' '}\n\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t}\n\t\t\t\t\t\titemKey={'1'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<UrlParserBlock />\n\t\t\t\t\t</Tabs.TabPane>\n\t\t\t\t\t{/*<Tabs.TabPane tab={<Space><LinkTwo style={{height: 18}}/> <span>Encode/Decode</span> </Space>}*/}\n\t\t\t\t\t{/*              itemKey={\"2\"}>*/}\n\t\t\t\t\t{/*</Tabs.TabPane>*/}\n\t\t\t\t</Tabs>\n\t\t\t)}\n\t\t</isTauriAppContext.Consumer>\n\t)\n}\n\nexport const UrlParserBlock = () => {\n\tconst SAMPLE_URL =\n\t\t'https://www.google.com:443/search?sxsrf=ALeKk03TpCS68ykjCqWWm7_5xDzmkdCBsw%3A1591797655810&ei=l-fgXsOCMcyl-Qaq8p6AAw&q=sample+long+query+string+url&oq=sample+long+query+string+url&gs_lcp=CgZwc3ktYWIQAzoECAAQRzoCCAA6BggAEBYQHjoICCEQFhAdEB46BAgjECc6BwgAEBQQhwI6BwgjELACECc6BAgAEA06CAgAEAgQDRAeOgoIABAIEA0QChAeUIcLWP4vYIAyaAFwAXgAgAF-iAHQC5IBAzkuNpgBAKABAaoBB2d3cy13aXo&sclient=psy-ab&ved=0ahUKEwiDqtCutPfpAhXMUt4KHSq5BzAQ4dUDCAw&uact=5&bb[]=1&bb[]=ab&&bb[]=x#some-hash'\n\n\tconst [editorTheme, setEditorTheme] = useObservableState<string | undefined>(\n\t\t(obs) => {\n\t\t\treturn obs\n\t\t},\n\t\tundefined\n\t)\n\n\tuseMount(() => {\n\t\tPref.getInstance().darkModeEnabled.subscribe({\n\t\t\tnext: (enabled) => {\n\t\t\t\tsetEditorTheme(enabled ? 'dark' : 'light')\n\t\t\t},\n\t\t})\n\t})\n\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tToast.success({\n\t\t\t\tcontent: `query content copied`,\n\t\t\t})\n\t\t},\n\t})\n\n\tinterface ParsedUrl {\n\t\tprotocols: string[]\n\t\tprotocol: string\n\t\tport?: string\n\t\tresource: string\n\t\tuser: string\n\t\tpathname: string\n\t\thash: string\n\t\tsearch: string\n\t\thref: string\n\t\tquery: {\n\t\t\t[key: string]: any\n\t\t}\n\t}\n\n\tconst [parsedUrl, setParsedUrl] = useObservableState<ParsedUrl | null>(\n\t\t(obs) => {\n\t\t\tobs.subscribe((d) => {\n\t\t\t\tif (!d) {\n\t\t\t\t\tsetOutValue('')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tsetOutValue(JSON.stringify(d?.query ?? {}, null, '\\t'))\n\t\t\t})\n\t\t\treturn obs\n\t\t},\n\t\tnull\n\t)\n\tconst [outValue, setOutValue] = useObservableState<string>((obs) => obs, '')\n\tconst [inValue, setInValue] = useObservableState<string>((obs) => {\n\t\tobs.subscribe((changed) => {\n\t\t\tif (!changed) {\n\t\t\t\tsetParsedUrl(null)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet parsedUrlObj = parseUrl(changed)\n\t\t\tsetParsedUrl(parsedUrlObj)\n\t\t})\n\t\treturn obs\n\t}, '')\n\n\treturn (\n\t\t<Row className={'parser-block-container'}>\n\t\t\t<Row className={'url-input-container'}>\n\t\t\t\t<Row className=\"actions\">\n\t\t\t\t\t<Space>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetInValue(SAMPLE_URL)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSample\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetInValue('')\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Space>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"url-input-element\">\n\t\t\t\t\t<AutoFitTextAreaWithRef\n\t\t\t\t\t\tvalue={inValue.valueOf()}\n\t\t\t\t\t\tonChange={(v) => {\n\t\t\t\t\t\t\tsetInValue(v)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder=\"Input/Paste URL here ...\"\n\t\t\t\t\t/>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t\t<Row className=\"output-container\">\n\t\t\t\t<Col span={21} className=\"segments\">\n\t\t\t\t\t<Descriptions align={'left'} className=\"des\">\n\t\t\t\t\t\t<Descriptions.Item itemKey={'Protocol'}>\n\t\t\t\t\t\t\t{parsedUrl?.protocol ?? ' - '}\n\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t{parsedUrl?.port ? (\n\t\t\t\t\t\t\t<Descriptions.Item itemKey={'Port'}>\n\t\t\t\t\t\t\t\t{parsedUrl?.port ?? ' - '}\n\t\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Descriptions.Item itemKey={'Host'}>\n\t\t\t\t\t\t\t{parsedUrl?.resource ?? ' - '}\n\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t<Descriptions.Item itemKey={'Path'}>\n\t\t\t\t\t\t\t{parsedUrl?.pathname ?? ' - '}\n\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t{parsedUrl?.user ? (\n\t\t\t\t\t\t\t<Descriptions.Item itemKey={'User'}>\n\t\t\t\t\t\t\t\t{parsedUrl?.user ?? ' - '}\n\t\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{parsedUrl?.hash ? (\n\t\t\t\t\t\t\t<Descriptions.Item itemKey={'Hash'}>\n\t\t\t\t\t\t\t\t{parsedUrl?.hash ?? ' - '}\n\t\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Descriptions.Item itemKey={'Query'} className={'query'}>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{parsedUrl?.search ?? ' - '}{' '}\n\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t</Descriptions>\n\t\t\t\t</Col>\n\t\t\t\t<Col span={2} style={{ paddingLeft: 10 }}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={<IconCopy />}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcopy(outValue)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={!outValue}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCopy\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t{/* <CodeMirror\n              editable={false}\n              value={outValue}\n              className=\"query-json\"\n              lang=\"json\"\n              extensions={[json()]}\n              theme={editorTheme! as 'light' | 'dark'}\n            /> */}\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Row>\n\t)\n}\n","import { Button, Typography, Col, Input, Row, Select, Space, SideSheet, Descriptions, Toast } from \"@douyinfe/semi-ui\"\nimport { isTauriAppContext } from \"../../App\"\nimport \"./crontab-paser.scss\"\nimport { useWasmAPI } from '../libs/hooks/wasm-api'\nimport { useEffect, useState } from \"react\"\nimport cronstrue from \"cronstrue\"\nimport { IconHelpCircle } from \"@douyinfe/semi-icons\"\nimport { Data, } from \"@douyinfe/semi-ui/lib/es/descriptions\"\nimport useClipboard from \"use-clipboard-hook\"\nimport \"../shared/styles/h-layout.scss\"\n\ntype crontabExample = {\n\tdes: string,\n\texp: string\n}\n\nconst exampleCrontabs: Array<crontabExample> = [\n\t{ des: \"Every minute\", exp: \"* * * * *\" },\n\t{ des: \"Every Five Minutes\", exp: \"*/5 * * * *\" },\n\t{ des: \"Every Hour\", exp: \"0 * * * *\" },\n\t{ des: \"Every Six Hours\", exp: \"*/6 * * * *\" },\n\t{ des: \"Evry 5 minutes from 9am to 5pm\", exp: \"*/5 9-17 * * *\" },\n\t{ des: \"Every minute on Sunday\", exp: \"* * * * SUN\" },\n\t{ des: \"Every day at 2am\", exp: \"0 2 * * *\" },\n\t{ des: \"On October 1st at 3pm\", exp: \"0 15 1 10 *\" },\n]\n\nconst CrontabParser = () => {\n\tconst { Text, } = Typography\n\tconst wasmAPI = useWasmAPI()\n\n\tconst defaultExplain = \"Please enter a cron expression\"\n\tconst [explain, setExplain] = useState(defaultExplain)\n\tconst [isErroCron, setIsErrorCron] = useState(false)\n\tconst [showCrontabHelp, setShowCrontabHelp] = useState(false)\n\tconst [inputExp, setInputExp] = useState(\"\")\n\tconst [data, setData] = useState<Array<Data>>(defaultData)\n\tconst [exmapleIdx, setExampleIdx] = useState<number | undefined>()\n\n\tconst onInpuExpChanged = (exp: string) => {\n\t\tsetInputExp(exp)\n\t\tsetExampleIdx(undefined)\n\t\tif (!exp) {\n\t\t\tsetExplain(defaultExplain)\n\t\t\tsetIsErrorCron(false)\n\t\t\treturn\n\t\t}\n\t\tconst defautlErr = () => {\n\t\t\tsetExplain(`Invalid Expression`)\n\t\t\tsetIsErrorCron(true)\n\t\t}\n\t\ttry {\n\t\t\tconst parseRes = wasmAPI?.parse_crontab_string(exp)\n\t\t\ttry {\n\t\t\t\tconst explain = cronstrue.toString(exp)\n\t\t\t\tsetExplain(explain.replace(\"aN:\", \"00:\"))\n\t\t\t\tsetIsErrorCron(false)\n\t\t\t\tconst expSegs = exp.replace(/\\s\\s/g, '').split(\" \")\n\t\t\t\tconst isAllMinutes = expSegs[0] === \"*\"\n\t\t\t\tconst isAllHours = expSegs[1] === \"*\"\n\t\t\t\tconst isAllDays = expSegs[2] === \"*\"\n\t\t\t\tconst isAllMonths = expSegs[3] === \"*\"\n\t\t\t\tconst isAllWeekdays = expSegs[4] === \"*\"\n\t\t\t\tsetData([\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Minutes\", value: isAllMinutes ? \"(All)\" : Array.from(new Set(parseRes?.minutes)).map((m: Number) => { return \":\" + `${m}`.padStart(2, \"0\") }).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Hours\", value: isAllHours ? \"(All)\" : Array.from(new Set(parseRes?.hours)).map((m: Number) => { return `${m}`.padStart(2, \"0\") }).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{ key: \"Days\", value: isAllDays ? \"(All)\" : Array.from(new Set(parseRes?.days)).map((m: Number) => { return `${m}` }).join(', '), },\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Day of Month\", value: isAllMonths ? \"(All)\" : Array.from(new Set(parseRes?.months)).map((m: Number) => {\n\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\"January\",\n\t\t\t\t\t\t\t\t\"February\",\n\t\t\t\t\t\t\t\t\"March\",\n\t\t\t\t\t\t\t\t\"April\",\n\t\t\t\t\t\t\t\t\"May\",\n\t\t\t\t\t\t\t\t\"June\",\n\t\t\t\t\t\t\t\t\"July\",\n\t\t\t\t\t\t\t\t\"August\",\n\t\t\t\t\t\t\t\t\"September\",\n\t\t\t\t\t\t\t\t\"October\",\n\t\t\t\t\t\t\t\t\"November\",\n\t\t\t\t\t\t\t\t\"December\"\n\n\t\t\t\t\t\t\t][(m) as number - 1]\n\t\t\t\t\t\t}).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Day of Week\", value: isAllWeekdays ? \"(All)\" : Array.from(new Set(parseRes?.weekdays)).map((m: Number) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t0: \"Sunday\",\n\t\t\t\t\t\t\t\t1: \"Monday\",\n\t\t\t\t\t\t\t\t2: \"Tuesday\",\n\t\t\t\t\t\t\t\t3: \"Wedensday\",\n\t\t\t\t\t\t\t\t4: \"Thursday\",\n\t\t\t\t\t\t\t\t5: \"Friday\",\n\t\t\t\t\t\t\t\t6: \"Saturday\",\n\n\t\t\t\t\t\t\t}[(m) as number - 1]\n\t\t\t\t\t\t}).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Next executions\", value:\n\t\t\t\t\t\t\t<Space vertical={true}>\n\t\t\t\t\t\t\t\t{parseRes?.next_executions.split(\"#\").map((n, idx) => {\n\t\t\t\t\t\t\t\t\tlet [local, utc] = n.split(\",\");\n\t\t\t\t\t\t\t\t\treturn <Space key={idx}>\n\t\t\t\t\t\t\t\t\t\t<Text code>{local}</Text>\n\t\t\t\t\t\t\t\t\t\t<span>{utc}</span>\n\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Space>\n\n\t\t\t\t\t}\n\t\t\t\t])\n\t\t\t} catch (_) {\n\t\t\t\tdefautlErr()\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tlet errMsg = `${e}`;\n\t\t\tif (errMsg.startsWith(\"RuntimeError\")) {\n\t\t\t\tconsole.error(e)\n\t\t\t\tdefautlErr();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetExplain(errMsg)\n\t\t\tsetIsErrorCron(true)\n\t\t}\n\t}\n\n\t// @ts-ignore\n\tconst onExampleSelected = (index: any) => {\n\t\tconst exp = exampleCrontabs[index].exp\n\t\tsetInputExp(exp)\n\t\tonInpuExpChanged(exp)\n\t}\n\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tToast.success({\n\t\t\t\tcontent: `Copied Crontab expression.`,\n\t\t\t})\n\t\t},\n\t})\n\n\t// setInputExp(\"0 */21 * * WED-THU\")\n\t// onInpuExpChanged(\"0 */21 * * WED-THU\")\n\n\treturn (\n\t\t<Row>\n\t\t\t<SideSheet\n\t\t\t\tsize={'medium'}\n\t\t\t\tvisible={showCrontabHelp}\n\t\t\t\tonCancel={() => {\n\t\t\t\t\tsetShowCrontabHelp(false)\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<CrontabHelp />\n\t\t\t</SideSheet>\n\t\t\t<Row className={'crontab-input-actions'}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Space>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tlet idx = Math.floor(exampleCrontabs.length * Math.random());\n\t\t\t\t\t\t\tconst exp = exampleCrontabs[idx].exp\n\t\t\t\t\t\t\tsetInputExp(exp)\n\t\t\t\t\t\t\tsetExplain(defaultExplain)\n\t\t\t\t\t\t\tonInpuExpChanged(exp)\n\t\t\t\t\t\t\tsetExampleIdx(idx)\n\t\t\t\t\t\t}} > Sample </Button>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tsetInputExp(\"\")\n\t\t\t\t\t\t\tsetExplain(defaultExplain)\n\t\t\t\t\t\t\tonInpuExpChanged(\"\")\n\t\t\t\t\t\t\tsetData(defaultData)\n\t\t\t\t\t\t}} > Clear </Button>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tcopy(inputExp)\n\t\t\t\t\t\t}} disabled={!inputExp} > Copy </Button>\n\t\t\t\t\t</Space>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t\t<Row className={'crontab-input-container'}>\n\t\t\t\t<Col span={11} style={{ paddingLeft: \"5px\" }}>\n\t\t\t\t\t<Space style={{ width: \"100%\" }} >\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={<IconHelpCircle />}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetShowCrontabHelp(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"* * * * *\" value={inputExp} onChange={onInpuExpChanged}></Input>\n\t\t\t\t\t</Space>\n\n\t\t\t\t</Col>\n\t\t\t\t<Col span={11} style={{ paddingLeft: \"10px\" }}>\n\t\t\t\t\t<Select style={{ width: \"100%\" }}\n\t\t\t\t\t\tplaceholder=\"Pick an example ...\"\n\t\t\t\t\t\tonSelect={onExampleSelected}\n\t\t\t\t\t\tdefaultValue={undefined}\n\t\t\t\t\t\tvalue={exmapleIdx}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\texampleCrontabs.map((exp, idx) => {\n\t\t\t\t\t\t\t\treturn <Select.Option\n\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\tvalue={idx}>{`${exp.des} (${exp.exp})`}</Select.Option>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</Select>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"crontab-content\">\n\t\t\t\t<Row className={'crontab-explain'}>\n\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t<Text type={isErroCron ? \"danger\" : \"secondary\"}>{explain}</Text>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row style={{ marginTop: \"20px\" }}>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<CrontabParserResDisplay data={data} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t</Row >\n\t)\n}\n\nlet defaultData: Array<Data> = [\n\t{ key: \"Minutes\", value: \"-\" },\n\t{ key: \"Hours\", value: \"-\" },\n\t{ key: \"Day of Month\", value: \"-\" },\n\t{ key: \"Months\", value: \"-\" },\n\t{ key: \"Day of Week\", value: \"-\" },\n\t{ key: \"Next executions\", value: \"-\" },\n]\nconst CrontabParserResDisplay = (props: { data: Array<Data> }) => {\n\tconst [data, setData] = useState<Array<Data> | undefined>()\n\n\tuseEffect(() => {\n\t\tsetData(props.data)\n\t}, [props])\n\n\treturn <Descriptions\n\t\talign={'left'}\n\t\tstyle={{ width: \"100%\" }} data={data}> </Descriptions>\n}\n\nconst CrontabHelp = () => {\n\treturn <Row>\n\t\t<Col>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Field</th>\n\t\t\t\t\t\t\t\t<th>Required</th>\n\t\t\t\t\t\t\t\t<th>Allowed values</th>\n\t\t\t\t\t\t\t\t<th>Allowed special characters</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Minutes</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>0–59</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Hours</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>0–23</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Day of month</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>1–31</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Month</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>1–12 or Jan-Dec</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Day of week</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>1–7 or Sun-Sat</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\n\t\t</Col>\n\t</Row>\n}\n\nexport const CrontabParserBlock = () => {\n\treturn (\n\t\t<isTauriAppContext.Consumer>\n\t\t\t{(isTauri) => (\n\t\t\t\t<Row className={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n\t\t\t\t\tstyle={{ padding: \"10px 10px\" }}\n\t\t\t\t>\n\t\t\t\t\t<CrontabParser></CrontabParser>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t</isTauriAppContext.Consumer>\n\t)\n}\n","import { NavItemProps } from \"@douyinfe/semi-ui/lib/es/navigation\";\nimport { Calendar, CodeBrackets, LinkOne, PayCode } from \"@icon-park/react\";\nimport { ReactNode } from \"react\";\nimport { JsonFormatterBlock } from \"../tool-blocks/json-formatter\";\nimport { Icon } from \"@douyinfe/semi-ui\";\nimport { Base64Serde } from \"../tool-blocks/base64serde\";\nimport { UrlParser } from \"../tool-blocks/url-parser\";\nimport { CrontabParserBlock } from \"../tool-blocks/crontab-parser\";\n\ntype ToolSiderItem = {\n\tnavItemProps: NavItemProps;\n\tnode: ReactNode;\n};\n\nconst ToolSiderConfigs: { [key: string]: ToolSiderItem } = {\n\t\"json-formatter\": {\n\t\tnavItemProps: {\n\t\t\titemKey: \"json-formatter\",\n\t\t\ttext: \"JSON Formatter\",\n\t\t\ticon: <Icon svg={<CodeBrackets theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <JsonFormatterBlock />,\n\t},\n\t\"base64-serde\": {\n\t\tnavItemProps: {\n\t\t\titemKey: \"base64-serde\",\n\t\t\ttext: \"Base64 Coders\",\n\t\t\ticon: <Icon svg={<PayCode theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <Base64Serde />,\n\t},\n\t\"url-parser\": {\n\t\tnavItemProps: {\n\t\t\titemKey: \"url-parser\",\n\t\t\ttext: \"URL Parser\",\n\t\t\ticon: <Icon svg={<LinkOne theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <UrlParser />,\n\t},\n\t\"crontab-parser\": {\n\t\tnavItemProps: {\n\t\t\titemKey: \"crontab-parser\",\n\t\t\ttext: \"Crontab Parser\",\n\t\t\ticon: <Icon svg={<Calendar theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <CrontabParserBlock />,\n\t}\n};\n\nexport default ToolSiderConfigs;\n","import {useEffect, useState} from \"react\";\n\nexport function GetStorageValue<T>(key: string, defaultValue: T) {\n    const saved = localStorage.getItem(key);\n    if (!saved) {\n        return defaultValue\n    }\n    try {\n        const initial = JSON.parse(saved);\n        Object.assign(defaultValue, initial)\n        return initial || defaultValue;\n    } catch (e) {\n        return defaultValue\n    }\n}\n\nexport const useLocalStore = function <T>(key: string, defaultValue: T) {\n    const [value, setValue] = useState<T>(GetStorageValue(key, defaultValue));\n\n    function f(val: T) {\n        localStorage.setItem(key, JSON.stringify(value))\n        setValue(val)\n    }\n\n    useEffect(() => {\n        localStorage.setItem(key, JSON.stringify(value))\n    }, [key, value])\n\n    return [value, f]\n}","import { useEffect, useRef } from 'react';\nimport { Button, Col, Form, Modal, Row, Space, Typography } from \"@douyinfe/semi-ui\";\nimport Section from \"@douyinfe/semi-ui/lib/es/form/section\";\nimport { IMac, Magic, } from \"@icon-park/react\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport { IconMoon, IconSun } from \"@douyinfe/semi-icons\";\nimport { useLocalStore } from \"../libs/hooks/localstore\";\nimport { useObservableState } from \"observable-hooks\";\nimport { Pref } from \"../context/pref\";\n\nexport type EchooSettings = {\n\t\"general:share-analytics\": boolean\n\t\"appearance:theme\": \"dark\" | \"light\" | \"system\"\n\t\"updates:check-automatically\": boolean\n}\n\nexport const EchooSettingsDefault: EchooSettings = {\n\t\"general:share-analytics\": true,\n\t\"appearance:theme\": \"system\",\n\t\"updates:check-automatically\": true\n}\n\ntype settingsModelProps = { visible: boolean, onVisibleChange: (v: boolean) => void }\nexport const SettingsModal = ({ visible, onVisibleChange }: settingsModelProps) => {\n\tconst [settings, setSettings] = useLocalStore(\"settings\", EchooSettingsDefault)\n\tconst [shown, setShown] = useObservableState<boolean>(obs => {\n\t\tobs.subscribe(shown => {\n\t\t\tonVisibleChange(shown)\n\t\t})\n\t\treturn obs\n\t}, visible)\n\n\tconst formRef = useRef<Form>(null)\n\n\tconst onChangeOfAnyField = (v: any) => {\n\t\t// @ts-ignore\n\t\tsetSettings(v)\n\n\t\tlet theme = v['appearance:theme'];\n\t\tPref.getInstance().theme.$.next(theme)\n\t}\n\n\tuseEffect(() => {\n\t\tsetShown(visible)\n\t}, [setShown, visible])\n\n\t// noinspection RequiredAttributes\n\treturn (\n\t\t<Modal centered visible={shown}\n\t\t\tfooter={\n\t\t\t\t<Button type={\"danger\"} onClick={() => {\n\t\t\t\t\tsetShown(!shown)\n\t\t\t\t}}>Close</Button>\n\t\t\t}\n\t\t\tclosable={false}\n\t\t\twidth={\"600px\"}\n\t\t\theight={\"520px\"}\n\t\t\tkeepDOM={true}\n\t\t\tbodyStyle={{ overflow: 'auto', height: \"400px\", width: \"600px\" }}\n\t\t>\n\t\t\t<Form initValues={settings} ref={formRef} onValueChange={onChangeOfAnyField}\n\t\t\t\tstyle={{ height: \"100%\" }}>\n\t\t\t\t<Section text={<Space> <Magic size={28} /> <Typography.Text\n\t\t\t\t\tstyle={{ fontSize: 18 }}>Appearance</Typography.Text> </Space>}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t<Space spacing={20}>\n\t\t\t\t\t\t\t\t<Text>Theme</Text>\n\t\t\t\t\t\t\t\t<Form.Select noLabel field={\"appearance:theme\"}>\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IMac style={{ height: 14 }} />\n\t\t\t\t\t\t\t\t\t\t\t<span>System</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"system\"} />\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IconMoon />\n\t\t\t\t\t\t\t\t\t\t\t<span>Dark</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"dark\"} />\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IconSun />\n\t\t\t\t\t\t\t\t\t\t\t<span>Light</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"light\"} />\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Section>\n\t\t\t\t{/*{isTauri &&*/}\n\t\t\t\t{/*    <Section text={<Space> <UpdateRotation size={28}/> <Typography.Text*/}\n\t\t\t\t{/*        style={{fontSize: 18}}>Updates</Typography.Text> </Space>}>*/}\n\n\t\t\t\t{/*        <Space>*/}\n\t\t\t\t{/*            <Form.Checkbox noLabel field=\"updates:check-automatically\">*/}\n\t\t\t\t{/*                Check for updates automatically*/}\n\t\t\t\t{/*            </Form.Checkbox>*/}\n\n\t\t\t\t{/*            <Tooltip content={\"Check now\"}>*/}\n\t\t\t\t{/*                <Button icon={<IconSync/>} size={\"small\"}/>*/}\n\t\t\t\t{/*            </Tooltip>*/}\n\t\t\t\t{/*        </Space>*/}\n\t\t\t\t{/*    </Section>*/}\n\t\t\t\t{/*}*/}\n\t\t\t</Form>\n\t\t</Modal>\n\t);\n};\n","import {Button, Input, Nav, Space} from \"@douyinfe/semi-ui\";\nimport {OnSelectedData} from \"@douyinfe/semi-ui/lib/es/navigation\";\nimport React, {useContext, useRef, useState} from \"react\";\nimport ToolSiderConfigs from \"../consts/tool-sider-configs\";\nimport toolSiderConfigs from \"../consts/tool-sider-configs\";\nimport {SharedSubjectContext} from \"../context/shared-subjects\";\nimport {useMount} from \"react-use\";\nimport {useSearchParams} from 'react-router-dom';\nimport \"./tools-sider.scss\"\nimport {useObservableState} from \"observable-hooks/dist/esm2015\";\nimport {GlobalHotKeys} from \"react-hotkeys\";\nimport {IconSetting, IconSidebar} from \"@douyinfe/semi-icons\";\nimport {findDOMNode} from \"react-dom\";\nimport {Pref} from \"../context/pref\";\nimport {SettingsModal} from \"./setting\";\n\nexport const ToolsSider = () => {\n    const sharedSubsCtx = useContext(SharedSubjectContext);\n    const navRef = useRef<Nav>(null)\n    const [selectedItems, setSelectedItems] = useObservableState<Array<string>>(obs => {\n        return obs\n    }, [\"json-formatter\"])\n    const [tools, setTools] = useObservableState((obs) => {\n        return obs\n    }, Object.values(ToolSiderConfigs).map((i) => {\n        return i.navItemProps;\n    }))\n\n    const [, setToolSearchKeyword] = useObservableState<string>(obs => {\n        obs.subscribe(keyword => {\n            let filteredTools = Object.values(ToolSiderConfigs).filter(i => {\n                return (i.navItemProps.text as string).toUpperCase().trim().includes(keyword.toUpperCase().trim())\n            }).map((i) => {\n                return i.navItemProps;\n            })\n            setTools(filteredTools)\n            let filteredItemKeys = filteredTools.map(i => {\n                return i.itemKey as string\n            });\n            if (filteredItemKeys.length >= 1) {\n                console.debug(`filtered tool item keys: ${filteredItemKeys}`);\n                let firstKey = filteredItemKeys[0]\n                console.debug(`filtered first key: ${firstKey}`)\n                setSelectedItems([firstKey])\n                // send first node to content\n                sharedSubsCtx.activeToolNode$.next(ToolSiderConfigs[firstKey].node);\n            }\n        })\n        return obs\n    }, \"\")\n\n\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [sidebarCollapsed, setSideBarCollapsed] = useObservableState<boolean>(obs => {\n        obs.subscribe(collapsed => {\n            Pref.getInstance().toolsSiderCollapsed.value = collapsed as boolean\n            hideSearchBar(collapsed)\n        })\n        return obs\n    }, Pref.getInstance().toolsSiderCollapsed.value);\n\n    const hideSearchBar = (hide: Boolean) => {\n        // if collapsed remove header blank from nav header which is\n        // <div class=\"semi-navigation-header semi-navigation-header-collapsed\"></div>\n        // the header left a blank because <GlobalHotKeys> is blocking the place\n        let navNode = findDOMNode(navRef.current) as Element\n        if (navNode) {\n            let nodes = navNode.getElementsByClassName(\"semi-navigation-header\")\n            if (nodes.length >= 0) {\n                let node = nodes.item(0) as HTMLElement\n                node!.style!.display = hide ? \"none\" : \"block\"\n            }\n        }\n    }\n\n    // handle events\n    const onSiderToolSelected = (data: OnSelectedData) => {\n        let siderToolItem = ToolSiderConfigs[data.itemKey];\n        if (siderToolItem) {\n            console.log(`tool <${data.itemKey}> activated`);\n            sharedSubsCtx.activeToolNode$.next(siderToolItem.node);\n            let itemKey = data.itemKey as string\n            setSelectedItems([itemKey])\n            setSearchParams({\"tk\": itemKey})\n        }\n    };\n\n    // const search = useLocation().search\n\n    // hooks\n    useMount(() => {\n        hideSearchBar(sidebarCollapsed)\n    })\n\n    useMount(() => {\n        const toolItemKey = searchParams.get(\"tk\")\n\n        // init tool node\n        // default show json-formatter\n        let defaultKey = selectedItems[0]\n        if (toolItemKey && Object.keys(toolSiderConfigs).map(k => {\n            return k.toUpperCase().trim()\n        }).includes(toolItemKey?.toUpperCase().trim())) {\n            defaultKey = toolItemKey.toLowerCase().trim()\n            setSelectedItems([defaultKey])\n        }\n        sharedSubsCtx.activeToolNode$.next(ToolSiderConfigs[defaultKey].node);\n    });\n\n    useMount(() => {\n        sharedSubsCtx.beEvent$.subscribe((evt: any) => {\n            if (evt[\"event\"] === \"open-settings\") {\n                setShowSettings(true)\n            }\n        })\n    })\n\n    //<editor-fold desc=\"Define hot keys\">\n    const searchToolInputRef = useRef<HTMLInputElement>(null)\n    const onFocusSearchTools = React.useCallback((ke: (KeyboardEvent | undefined)) => {\n        console.debug(\"hotkey invoked: focus search tools\", JSON.stringify(ke))\n        setSideBarCollapsed(false)\n        searchToolInputRef.current?.focus();\n    }, [setSideBarCollapsed])\n    const hotkeyHandlers = {\n        SEARCH_TOOLS: onFocusSearchTools\n    }\n    const keyMap = {\n        SEARCH_TOOLS: \"command+.\"\n    };\n    //</editor-fold>\n\n    const HeaderNode =\n        <Input ref={searchToolInputRef}\n               onChange={(value) => {\n                   setToolSearchKeyword(value)\n               }}\n               placeholder=\"Search by ⌘ + .\"/>\n\n\n    const [showSettings, setShowSettings] = useState(false)\n\n    const FooterNode = <Space vertical={sidebarCollapsed}>\n        <Button icon={<IconSidebar/>} onClick={() => {\n            if (sidebarCollapsed) {\n                setSideBarCollapsed(false);\n            } else {\n                setSideBarCollapsed(true)\n            }\n\n        }}/>\n        <Button icon={<IconSetting/>}\n                onClick={() => {\n                    setShowSettings(true)\n                }}/>\n    </Space>\n\n    return (\n        <>\n            <SettingsModal visible={showSettings} onVisibleChange={setShowSettings}/>\n            <Nav\n                ref={navRef}\n                selectedKeys={selectedItems}\n                multiple={false}\n                style={{}}\n                mode=\"vertical\"\n                items={tools}\n                isCollapsed={sidebarCollapsed as boolean}\n                footer={{\n                    collapseButton: true,\n                    children: FooterNode\n                }}\n                header={<GlobalHotKeys handlers={hotkeyHandlers}\n                                       keyMap={keyMap}>{!sidebarCollapsed ? HeaderNode : null}</GlobalHotKeys>}\n                onSelect={onSiderToolSelected}\n                className={'tools-sider'}\n            />\n        </>\n    );\n};\n","import { Layout, Notification } from \"@douyinfe/semi-ui\";\nimport Sider from \"@douyinfe/semi-ui/lib/es/layout/Sider\";\nimport { useObservableState } from \"observable-hooks\";\nimport { ReactNode, useContext, useEffect } from \"react\";\nimport { SharedSubjectContext } from \"../context/shared-subjects\";\nimport { MainFooter } from \"../shared/main-footer\";\nimport { MainNav } from \"../shared/main-nav\";\nimport { ToolsSider } from \"../shared/tools-sider\";\nimport { isTauriAppContext } from \"../../App\";\nimport \"./main-page.scss\";\n\nexport const MainPage = () => {\n  const { Header, Content } = Layout;\n  const sharedSubs = useContext(SharedSubjectContext);\n  const isTauri = useContext(isTauriAppContext);\n  const [activeToolNode, setActiveToolNode] = useObservableState<ReactNode>(\n    (obs) => {\n      obs.subscribe((node) => {\n        console.debug(`active tool node set: ${node}`);\n      });\n      return obs;\n    },\n    null\n  );\n\n  // hooks\n  useEffect(() => {\n    sharedSubs.activeToolNode$.subscribe((node) => {\n      console.debug(`activeToolNode$ received next: ${node}`);\n      setActiveToolNode(node);\n    });\n  }, [setActiveToolNode, sharedSubs]);\n\n  useEffect(() => {\n    if (isTauri) {\n      // @ts-ignore\n      let tauri = window.__TAURI__;\n      tauri.event.listen(\"be-error\", (event: object) => {\n        Notification.error({\n          // @ts-ignore\n          content: event[\"payload\"] as string,\n          position: \"topRight\",\n          showClose: false,\n        });\n      });\n\n      tauri.event.listen(\"be-success\", (event: object) => {\n        Notification.success({\n          // @ts-ignore\n          content: event[\"payload\"] as string,\n          position: \"topRight\",\n          showClose: false,\n        });\n      });\n    }\n  }, [isTauri]);\n\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauriApp) => (\n        <Layout className=\"main-layout\">\n          {!isTauriApp && (\n            <Header>\n              <MainNav />\n            </Header>\n          )}\n          <Layout className=\"central-layout\">\n            <Sider children={<ToolsSider />} />\n            <Content children={activeToolNode} />\n          </Layout>\n          {!isTauriApp && (\n            <Layout.Footer className=\"main-footer-container\">\n              <MainFooter />\n            </Layout.Footer>\n          )}\n        </Layout>\n      )}\n    </isTauriAppContext.Consumer>\n  );\n};\n","import { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport \"./App.scss\";\nimport { MainPage } from \"./app/pages/main-page\";\nimport { useMount } from \"react-use\";\nimport { createContext, useContext } from \"react\";\nimport { SharedSubjectContext } from \"./app/context/shared-subjects\";\nimport { useObservableState } from \"observable-hooks\";\nimport { Pref } from \"./app/context/pref\";\nimport { useLocalStore } from \"./app/libs/hooks/localstore\";\nimport { EchooSettings, EchooSettingsDefault } from \"./app/shared/setting\";\n\nexport const isTauriAppContext = createContext(false);\n\nfunction App() {\n  const sharedSubsCtx = useContext(SharedSubjectContext);\n  // const appEnvs = useContext(AppEnvsContext)\n  const [isTauri, setIsTauri] = useObservableState((obs) => {\n    return obs;\n  }, false);\n\n  // hooks\n  // listen window resize events\n  useMount(() => {\n    const sendEvent = () => {\n      sharedSubsCtx.windowSizeChange$.next([\n        window.innerWidth ?? 0,\n        window.innerHeight ?? 0,\n      ]);\n    };\n    window.addEventListener(\"resize\", () => {\n      sendEvent();\n    });\n    sendEvent();\n  });\n\n  // check is in tauri client or not\n  useMount(() => {\n    sharedSubsCtx.tauri$.subscribe((t) => {\n      if (t) {\n        setIsTauri(true);\n      } else {\n        setIsTauri(false);\n      }\n    });\n  });\n\n  const [settings] = useLocalStore<EchooSettings>(\n    \"settings\",\n    EchooSettingsDefault\n  );\n\n  // subscribe dark mode\n  useMount(() => {\n    function enableDark(enable: boolean) {\n      const body = document.body;\n      if (enable) {\n        body.setAttribute(\"theme-mode\", \"dark\");\n      } else {\n        if (body.hasAttribute(\"theme-mode\")) {\n          body.removeAttribute(\"theme-mode\");\n        }\n      }\n      Pref.getInstance().darkModeEnabled.$.next(enable);\n    }\n\n    // @ts-ignore\n    Pref.getInstance().theme.$.next(settings[\"appearance:theme\"] as string);\n    Pref.getInstance().theme.subscribe({\n      next: (theme) => {\n        const mql = window.matchMedia(\"(prefers-color-scheme: dark)\");\n        switch (theme) {\n          case \"dark\":\n            enableDark(true);\n            break;\n          case \"light\":\n            enableDark(false);\n            break;\n          default:\n            enableDark(mql.matches);\n            mql.addEventListener(\"change\", (e) => {\n              enableDark(e.matches);\n            });\n        }\n      },\n    });\n  });\n\n  useMount(() => {\n    // @ts-ignore\n    let tauri = window.__TAURI__;\n    if (tauri) {\n      tauri.invoke(\"get_system\", {}).then((os: string) => {\n        Pref.getInstance().osName.value = os;\n      });\n      tauri.path.appDir().then((s: any) => {\n        console.log(s);\n      });\n      [\"open-settings\", \"open-about\", \"open-help\"].forEach((evt) => {\n        tauri.event.listen(evt, (event: object) => {\n          sharedSubsCtx.beEvent$.next(event);\n        });\n      });\n    }\n  });\n\n  return (\n    <BrowserRouter basename={window.location.pathname || \"\"}>\n      <isTauriAppContext.Provider value={isTauri}>\n        <Routes>\n          <Route path=\"/\" element={<MainPage />}>\n            {\" \"}\n          </Route>\n        </Routes>\n      </isTauriAppContext.Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App/>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}