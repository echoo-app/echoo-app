{"version":3,"sources":["reportWebVitals.ts","app/context/shared-subjects.ts","app/shared/main-footer.tsx","icon.png","app/wigetds/logo.tsx","app/shared/main-nav.tsx","app/consts/literals.ts","app/wigetds/autofit-textarea.tsx","app/wigetds/json-path-guide.tsx","app/context/pref.ts","app/libs/hooks/wasm-api.ts","app/tool-blocks/json-formatter.tsx","app/libs/helpers.ts","app/tool-blocks/base64serde.tsx","app/tool-blocks/url-parser.tsx","app/tool-blocks/crontab-parser.tsx","utils/calendar.js","app/shared/copyableInput.tsx","app/tool-blocks/unix-time-converter.tsx","app/tool-blocks/url-encode.tsx","app/tool-blocks/uuid-generator.tsx","app/tool-blocks/hash-gnerater.tsx","app/consts/tool-sider-configs.tsx","app/libs/hooks/localstore.ts","app/shared/privacy.tsx","app/shared/setting.tsx","app/shared/tools-sider.tsx","app/pages/main-page.tsx","app/shared/first-lanching-dialog.tsx","App.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SharedSubjects","activeToolNode$","ReplaySubject","windowSizeChange$","beEvent$","Subject","SharedSubjectContext","createContext","pjson","require","MainFooter","className","vertical","type","Text","size","version","LogoComponent","content","href","style","textDecoration","spacing","align","src","logo","alt","Title","heading","MainNav","useState","isMac","setIsMac","useMount","window","navigator","userAgent","includes","headerNode","Header","navFooter","Footer","position","rel","target","minHeight","onClick","open","icon","Computer","theme","fill","defaultOpenKeys","mode","userSelect","AutoFitTextArea","props","useObservableState","obs","cls","setCls","isLoading","loading","setLoading","useEffect","isOnError","length","console","debug","onChange","value","placeholder","ref","forwardedRef","bottom","paddingLeft","zIndex","AutoFitTextAreaWithRef","React","JsonPathGuide","overflowY","display","flexDirection","StoreItem","key","defaultValue","$","this","trim","toLowerCase","next","val","getValueFromStore","storeVal","JSON","stringify","localStorage","setItem","observer","subscribe","getItem","innerValue","parse","undefined","e","Pref","darkModeEnabled","isFirstLanching","allowAnalytics","osName","toolsSiderCollapsed","jsonFormatterDefaultIndentSpace","instance","useWasmAPI","from","ErrorDisplay","input","errors","onFirstErrorRange","errorTags","setErrorTags","ellipsePlaceHolderStart","tags","map","vErr","idx","errAtGreaterThan","Number","index_start","errHasLeftContent","index_end","startAt","endAt","errorHintText","slice","cursorPositionStart","cursorPositionEnd","visibility","padding","fontSize","description","JsonFormatterBlock","jsonIndentState","getInstance","jsonPathValue","setJsonPathValue","showJsonPathGuide","setShowJsonPathGuide","inputRef","useRef","jsonPathRef","copy","useClipboard","onSuccess","_","Toast","success","wasmAPI","changedInput","wasm","error","validate_json","code","setValidationErrors","changed","indent","setOutputJson","setOutput","inputValue","setInputValue","outputValue","setOutputValue","editorTheme","setEditorTheme","validationErrors","enabled","outObj","onInputChanged","onCopy","setRandomJson","inputVal","get_random_json","onCompressClicked","onIndentSelectionChanged","onClearClicked","isTauriAppContext","Consumer","isTauri","visible","onCancel","gutter","span","height","flex","disabled","width","Option","fullMode","bordered","closeIcon","_start","_end","name","editorProps","$blockScrolling","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","readOnly","res","JSONPath","path","json","base64encode","str","encode","encodeURIComponent","btoa","base64decode","decode","atob","decodeURIComponent","formatNumber","n","fractionDigits","ns","toFixed","x","split","x1","x2","rgx","test","replace","arrayBufferToBase64","dView","arr1","Array","prototype","call","item","String","fromCharCode","join","saveBase64AsFile","base64","fileName","link","document","createElement","body","appendChild","setAttribute","download","click","removeChild","Base64Serde","search","location","params","URLSearchParams","set","setSearchParams","defaultTabIdx","setDefaultTabIdx","useSearchParams","searchParams","tabIndex","get","defaultActiveKey","activeKey","tab","itemKey","Base64SerdeStringBlockBlock","codingType","setCodingType","inValue","setInValue","outValue","setOutValue","setInputForm","justifyContent","alignItems","randSentence","paddingRight","v","valueOf","Base64SerdeImageBlockBlock","useContext","createImage","data","fileType","newImage","onerror","onInValueChanged","base64SourceType","setBase64SourceType","imgSize","setImageSize","setImgSrc","tag","blobSize","imgSrc","fetch","base64Response","blob","setImageBlobSize","imgTag","setImgTag","imgBlobSize","imgContainerRef","extractBase64","inData","matches","match","base64Data","base64String","originalImageResized","getElementById","imgContainer","current","removeExisting","id","onload","naturalWidth","naturalHeight","formatBytes","isLoadingFile","setIsLoadingFile","fileReaderRef","fillBase64FormFromFile","img","hidden","parentElement","tauri","__TAURI__","dialog","filePath","invoke","invokeRes","sampleData","data1","evt","Blob","files","selectedFile","arrayBuffer","Uint8Array","finally","children","base64Raw","fileExt","catch","err","UrlParser","TabPane","Percentage","UrlParserBlock","d","query","parsedUrl","setParsedUrl","parsedUrlObj","parseUrl","Item","protocol","port","resource","pathname","user","hash","exampleCrontabs","des","exp","CrontabParser","Typography","defaultExplain","explain","setExplain","isErroCron","setIsErrorCron","showCrontabHelp","setShowCrontabHelp","inputExp","setInputExp","defaultData","setData","exmapleIdx","setExampleIdx","onInpuExpChanged","defautlErr","parseRes","parse_crontab_string","cronstrue","toString","expSegs","isAllMinutes","isAllHours","isAllDays","isAllMonths","isAllWeekdays","Set","minutes","m","padStart","hours","days","months","weekdays","next_executions","local","utc","errMsg","startsWith","Math","floor","random","onSelect","index","marginTop","CrontabParserResDisplay","CrontabHelp","CrontabParserBlock","theDay","date","ceil","Date","getFullYear","theWeek","now","startWeek","getDay","dateFormat","timestamp","formats","zero","myDate","year","month","getMonth","day","getDate","hour","getHours","minite","getMinutes","second","getSeconds","Y","H","i","s","CopyableInput","copiedOk","setCopiedOk","setTimeout","contentEditable","validateStatus","state","Correct","Copy","WEEK_STR","MONTH_STR","UnixTimeConverterPage","dateType","setDateType","curDate","setCurDate","formApi","itemStyle","renderLabelText","text","fontWeight","isValidDate","isNaN","getTime","setOtherField","curField","t","setField","setValue","setError","presetsTimes","start","end","boxSizing","getFormApi","api","onValueChange","changeValue","setValues","InputGroup","label","Input","field","initValue","Select","getValue","DatePicker","presets","toUTCString","round","getYear","title","UrlEncodePage","typeRadios","curType","setCurType","encodeURI","decodeURI","duration","inputChange","CornerLeftUp","VerCopyItem","LeftBlock","decodeUuidUpperCased$","BehaviorSubject","decodeUuidRes","setDecodeUuidRes","decodeUuidResV1Tm","setDecodeUuidResV1Tm","checked","decodeUuidUpperCased","setDecodeUuidUpperCased","decodeInputValue","setDecodeInputValue","uuid","decode_uuid","yes","transUUIDResCase","version_num","clock","rfc4122","epcho","setDecodeInput","uupercase","std_string","toUpperCase","urn_string","simple_string","raw_content","flexWrap","gen_uuid_v1","gen_uuid_v4","overflow","scrollbarWidth","integer_value","variant","reverse","Uuid35Input","inputUuid","setInputUuid","inputName","setInputName","cb","setNs","onInputUuidChanged","ns_uuid","uuid_namespace","RightBlock","inputHeight","setInputHeight","IDsTextArea","rows","otherHeight","parent","getElementsByClassName","clientHeight","winHeight","innerHeight","addEventListener","resizeUpdate","removeEventListener","h","tabRef","tabKeyMap","visibleTabs","setVisibleTabs","c","setUuids","onGenerateClicked","uuidCount","setUuidCount","uuidsState","setUuidsSate","useObservableCallback","e$","uuids$","useSubscription","uuids","fillTextArea","pipe","strings","setUuidStrings","uuidString$","u","setUuidString","uppercase","uuidString","enableUuidCount","setEnableUuidCount","nsName","setNsName","genVersion","setGenVersion","setUppserCase","ie","onUppercaseChanged","uppercase$","$e","setActiveIndex","activeIndexChanged$","genRange","gen_uuid_v3","gen_uuid_v5","gen_ulid","gen_nanoid","ver","min","max","hideButtons","justify","paddingTop","tabPosition","Object","keys","k","UUIDGeneratorBlock","headerStyle","bodyStyle","tip","fileLoading","onTextChanged","is_sample","TextEncoder","onLoadFileClicked","hashFields","_setHashFields","setHashFields$","hashFields$","hashFieldsLoading","setHashFieldsLoading","matchField","_setMatchField","setMatchField$","matchField$","matchInput","forEach","f","algoItems","md5","digest_md5","sha224","digest_sha224","sha256","digest_sha256","sha348","digest_sha348","sha512","digest_sha512","digest_sha3_224","digest_sha3_256","digest_sha3_384","digest_sha3_512","algo","source","_items","gen_hash_func","found","genHashField","selectSample","contents","sample","inputMatchFieldChanged","matched","weight","spinning","HashGeneratorBlock","setInput","isSample","setIsSample","setIsLoading","indicator","childStyle","ToolSiderConfigs","navItemProps","svg","CodeBrackets","node","PayCode","LinkOne","Calendar","Time","FingerprintThree","WavesRight","useLocalStore","saved","initial","assign","GetStorageValue","PrivacyPage","Paragraph","EchooSettingsDefault","SettingsModal","onVisibleChange","settings","setSettings","shown","setShown","formRef","useLocation","showPrivacy","setShowPrivacy","centered","footer","closable","keepDOM","initValues","Magic","noLabel","IMac","ToolsSider","sharedSubsCtx","navRef","selectedItems","setSelectedItems","values","tools","setTools","keyword","filteredTools","filter","filteredItemKeys","firstKey","setToolSearchKeyword","collapsed","hideSearchBar","sidebarCollapsed","setSideBarCollapsed","hide","navNode","findDOMNode","nodes","toolItemKey","defaultKey","toolSiderConfigs","setShowSettings","searchToolInputRef","hotkeyHandlers","SEARCH_TOOLS","useCallback","ke","focus","HeaderNode","showSettings","FooterNode","selectedKeys","multiple","items","isCollapsed","collapseButton","header","handlers","keyMap","siderToolItem","log","tk","MainPage","Layout","Content","sharedSubs","activeToolNode","setActiveToolNode","event","listen","Notification","showClose","isTauriApp","Sider","FirstLanchingModalSettingsDefault","FirstLanchingModal","allow","PersonalPrivacy","Protect","Github","RadioGroup","rules","required","message","Radio","App","setIsTauri","p","sendEvent","innerWidth","enableDark","enable","hasAttribute","removeAttribute","mql","matchMedia","showFirstLanchingDialog","setShowFirstLanchingDialog","injectAnalyticsCodes","os","appDir","getElementsByTagName","ga_s","gs_ss","async","innerHTML","tag_mgr_head","Provider","locale","en_GB","ReactDOM","render","basename","element"],"mappings":"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","file":"static/js/main.90e7800a.chunk.js","sourcesContent":["import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import { createContext, ReactNode } from \"react\";\nimport { ReplaySubject, Subject } from \"rxjs\";\n\nclass SharedSubjects {\n\tpublic activeToolNode$ = new ReplaySubject<ReactNode>(1);\n\t// public toolsNavSearch$ = new ReplaySubject<string>(1)\n\tpublic windowSizeChange$ = new ReplaySubject<[number, number]>(1)\n\t// public toolMainContentSizeChanged$ = new ReplaySubject<[number, number]>(1)\n\t// public toolContentWidthChanged$ = new ReplaySubject<number>(1)\n\t// public toolContentHeightChanged$ = new ReplaySubject<number>(1)\n\tpublic beEvent$: Subject<object> = new Subject<any>()\n}\n\nexport const SharedSubjectContext = createContext(new SharedSubjects());\n","import { Space, Tag, Typography } from \"@douyinfe/semi-ui\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\n\nconst pjson = require('../../../package.json')\nexport const MainFooter = () => {\n\treturn <Space className='main-footer' vertical>\n\t\t<Text type='tertiary'>\n\t\t\t<Space>\n\t\t\t\t<span>Copyright © 2022</span>\n\t\t\t\t<b>Echoo.app</b>\n\t\t\t\t<Tag><Typography.Text size={'small'} type=\"tertiary\">v{pjson.version}</Typography.Text></Tag>\n\t\t\t</Space>\n\t\t</Text>\n\t</Space>;\n};\n","export default __webpack_public_path__ + \"static/media/icon.719a6b8e.png\";","// @flow\nimport { Space, Tooltip, Typography } from \"@douyinfe/semi-ui\";\nimport \"./log.scss\"\nimport logo from \"../../icon.png\";\n\nexport const LogoComponent = () => {\n\treturn (\n\t\t<Tooltip content={\"Utilities for developers\"}>\n\t\t\t<a href=\"/\" style={{ textDecoration: 'none' }}>\n\t\t\t\t<Space spacing={10} align={\"center\"}>\n\t\t\t\t\t<img src={logo} alt='Utilities for developers' />\n\t\t\t\t\t<Space spacing={5} align={\"baseline\"}>\n\t\t\t\t\t\t<Space spacing={3} align={\"baseline\"}>\n\t\t\t\t\t\t\t<Typography.Title heading={2} type={\"primary\"}>Echoo</Typography.Title>\n\t\t\t\t\t\t\t<Typography.Title heading={6} type={\"tertiary\"}>.app</Typography.Title>\n\t\t\t\t\t\t</Space>\n\t\t\t\t\t</Space>\n\t\t\t\t</Space>\n\t\t\t</a>\n\t\t</Tooltip>\n\t);\n};\n","import { IconGithubLogo } from \"@douyinfe/semi-icons\";\nimport { Button, Nav, Space, Tooltip } from \"@douyinfe/semi-ui\";\nimport \"./main-nav.scss\";\n\nimport { LogoComponent } from \"../wigetds/logo\";\nimport { GITHUB_HOMEPAGE, RELEASE_DOWNLOAD_PAGE } from \"../consts/literals\";\nimport { Computer } from \"@icon-park/react/es\";\nimport { useMount } from \"react-use\";\nimport { useState } from \"react\";\nexport const MainNav = () => {\n  const onDownloadClicked = () => {\n    window.open(RELEASE_DOWNLOAD_PAGE, \"blank\");\n  };\n\n  const onHomePageClicked = () => {\n    window.open(GITHUB_HOMEPAGE, \"blank\");\n  };\n\n  const [isMac, setIsMac] = useState(false);\n  useMount(() => {\n    setIsMac(window.navigator.userAgent.includes(\"Macintosh\"));\n  });\n\n  const headerNode = (\n    <Nav.Header>\n      <LogoComponent />\n    </Nav.Header>\n  );\n\n  const navFooter = (\n    <Nav.Footer>\n      <Space align=\"center\">\n        <Tooltip content={\"Desktop client\"} position=\"bottomLeft\">\n          {isMac ? (\n            <a\n              rel=\"noreferrer\"\n              href=\"https://apps.apple.com/cn/app/echoo-app/id1612383544?mt=12\"\n              target=\"_blank\"\n            >\n              <img\n                style={{ minHeight: \"42px\" }}\n                alt=\"\"\n                src={process.env.PUBLIC_URL + \"/mac-app-store-badge.svg\"}\n              />\n            </a>\n          ) : (\n            <Button\n              size={\"large\"}\n              onClick={onDownloadClicked}\n              icon={\n                <Computer\n                  theme=\"outline\"\n                  size=\"21\"\n                  fill=\"var(--semi-color-primary)\"\n                />\n              }\n            />\n          )}\n        </Tooltip>\n        <Button\n          size={\"large\"}\n          icon={\n            <IconGithubLogo size={\"extra-large\"} onClick={onHomePageClicked} />\n          }\n        />\n      </Space>\n    </Nav.Footer>\n  );\n\n  return (\n    <Nav\n      defaultOpenKeys={[\"Home\"]}\n      mode=\"horizontal\"\n      style={{ userSelect: \"none\" }}\n    >\n      {headerNode}\n      {navFooter}\n    </Nav>\n  );\n};\n","export const GITHUB_HOMEPAGE = \"https://github.com/zsmatrix62/echoo-app\"\nexport const RELEASE_DOWNLOAD_PAGE = \"https://github.com/zsmatrix62/echoo-app/releases\"\n","import * as React from 'react'\nimport { ForwardedRef, Ref, useEffect } from 'react'\nimport { Spin, TextArea } from '@douyinfe/semi-ui'\nimport './autofit-textarea.scss'\nimport { useObservableState } from 'observable-hooks'\n\ntype Props = {\n  placeholder?: string\n  forwardedRef?: Ref<HTMLTextAreaElement>\n  value?: string\n  onChange?: (val: string) => void\n  isOnError?: Array<any>\n  isLoading?: boolean\n  style?: React.CSSProperties\n}\nconst AutoFitTextArea = (props: Props) => {\n  const [cls, setCls] = useObservableState<string>((obs) => {\n    return obs\n  }, 'text-area mod-normal')\n\n  const [loading, setLoading] = useObservableState<boolean | undefined>(\n    (obs) => {\n      return obs\n    },\n    props.isLoading\n  )\n  useEffect(() => {\n    // eslint-disable-next-line no-self-compare\n    if (props.isOnError?.length ?? 0 > 0) {\n      console.debug('setting error selection color')\n      setCls('text-area mod-error')\n    } else {\n      console.debug('reverting selection color')\n      setCls('text-area mod-normal')\n    }\n  }, [props.isOnError, setCls])\n\n  useEffect(() => {\n    setLoading(props.isLoading)\n  }, [props.isLoading, setLoading])\n  return (\n    <>\n      <TextArea\n        onChange={props.onChange}\n        value={props.value}\n        className={cls}\n        placeholder={props.placeholder}\n        ref={props.forwardedRef}\n        style={props.style}\n      ></TextArea>\n      {loading && (\n        <Spin\n          style={{ position: 'fixed', bottom: 95, paddingLeft: 10, zIndex: 99 }}\n        />\n      )}\n    </>\n  )\n}\n\nexport const AutoFitTextAreaWithRef = React.forwardRef(\n  (props: Props, ref: ForwardedRef<HTMLTextAreaElement>) => {\n    return <AutoFitTextArea forwardedRef={ref} {...props} />\n  }\n)\n","// @flow\nimport * as React from 'react';\nimport \"./json-path-guide.scss\"\nimport {Space} from \"@douyinfe/semi-ui\";\n\nexport const JsonPathGuide = () => {\n    return (\n        <Space style={{overflowY: \"scroll\", display: 'flex', flexDirection: \"column\"}}>\n            <>\n                <h2>Operators</h2>\n                <table>\n                    <thead>\n                    <tr>\n                        <th align=\"left\">Operator</th>\n                        <th align=\"left\">Description</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\"><code>$</code></td>\n                        <td align=\"left\">The root element to query. This starts all path expressions.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>@</code></td>\n                        <td align=\"left\">The current node being processed by a filter predicate.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>*</code></td>\n                        <td align=\"left\">Wildcard. Available anywhere a name or numeric are required.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>..</code></td>\n                        <td align=\"left\">Deep scan. Available anywhere a name is required.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>.&lt;name&gt;</code></td>\n                        <td align=\"left\">Dot-notated child</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>['&lt;name&gt;' (, '&lt;name&gt;')]</code></td>\n                        <td align=\"left\">Bracket-notated child or children</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[&lt;number&gt; (, &lt;number&gt;)]</code></td>\n                        <td align=\"left\">Array index or indexes</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[start:end]</code></td>\n                        <td align=\"left\">Array slice operator</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[?(&lt;expression&gt;)]</code></td>\n                        <td align=\"left\">Filter expression. Expression must evaluate to a boolean value.</td>\n                    </tr>\n                    </tbody>\n                </table>\n            </>\n            <>\n                <h2>Filter Operators</h2>\n                <table>\n                    <thead>\n                    <tr>\n                        <th align=\"left\">Operator</th>\n                        <th align=\"left\">Description</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\">==</td>\n                        <td align=\"left\">left is equal to right (note that 1 is not equal to '1')</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">!=</td>\n                        <td align=\"left\">left is not equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&lt;</td>\n                        <td align=\"left\">left is less than right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&lt;=</td>\n                        <td align=\"left\">left is less or equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&gt;</td>\n                        <td align=\"left\">left is greater than right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&gt;=</td>\n                        <td align=\"left\">left is greater than or equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">=~</td>\n                        <td align=\"left\">left matches regular expression [?(@.name =~ /foo.*?/i)]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">in</td>\n                        <td align=\"left\">left exists in right [?(@.size in ['S', 'M'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">nin</td>\n                        <td align=\"left\">left does not exists in right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">subsetof</td>\n                        <td align=\"left\">left is a subset of right [?(@.sizes subsetof ['S', 'M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">anyof</td>\n                        <td align=\"left\">left has an intersection with right [?(@.sizes anyof ['M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">noneof</td>\n                        <td align=\"left\">left has no intersection with right [?(@.sizes noneof ['M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">size</td>\n                        <td align=\"left\">size of left (array or string) should match right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">empty</td>\n                        <td align=\"left\">left (array or string) should be empty</td>\n                    </tr>\n                    </tbody>\n                </table>\n            </>\n        </Space>\n    );\n}","import { Observer, ReplaySubject, Subscribable, Unsubscribable } from \"rxjs\";\n\nclass StoreItem<T> implements Subscribable<T> {\n\tpublic $: ReplaySubject<T> = new ReplaySubject<T>()\n\n\tconstructor(private readonly key: string, private defaultValue: T\n\t) {\n\t\t// console.log(key, defaultValue)\n\t\tthis.key = this.key.trim().toLowerCase()\n\t\tthis.$.next(this.value)\n\t}\n\n\tpublic get value() {\n\t\tlet val = this.getValueFromStore();\n\t\tconsole.debug(`read value from store: ${this.key} = ${val}`)\n\t\treturn val\n\t}\n\n\tpublic set value(value: T) {\n\t\tlet storeVal = JSON.stringify({ value: value })\n\t\tconsole.debug(`setting store item: ${this.key}=${storeVal}`)\n\t\tlocalStorage.setItem(this.key, storeVal)\n\t\tthis.$.next(value)\n\t}\n\n\tpublic subscribe(observer: Partial<Observer<T>> | undefined): Unsubscribable {\n\t\treturn this.$.subscribe(observer)\n\t}\n\n\tpublic toggle() {\n\t\tif ([\"Boolean\", \"boolean\"].includes(typeof this.value)) {\n\t\t\t// @ts-ignore\n\t\t\tthis.value = !this.value;\n\t\t}\n\t}\n\n\tprivate getValueFromStore(): T {\n\t\tlet value: string = localStorage.getItem(this.key) ?? '';\n\t\tif (!value) {\n\t\t\treturn this.defaultValue\n\t\t}\n\t\ttry {\n\t\t\tlet initial = JSON.parse(value);\n\t\t\tlet innerValue = initial[\"value\"]\n\t\t\tif (innerValue === undefined) {\n\t\t\t\tthis.value = this.defaultValue\n\t\t\t\treturn this.defaultValue\n\t\t\t}\n\t\t\treturn innerValue;\n\t\t} catch (e) {\n\t\t\treturn this.defaultValue\n\t\t}\n\t}\n}\n\nexport class Pref {\n\tprivate static instance: Pref\n\n\tpublic darkModeEnabled = new StoreItem<boolean>(\"pref:dark-mode\", false)\n\tpublic theme = new StoreItem<string>(\"pref:theme\", \"system\")\n\tpublic isFirstLanching = new StoreItem<boolean>(\"pref:is-first-launching\", true)\n\tpublic allowAnalytics = new StoreItem<boolean>(\"pref:allow-analytics\", false)\n\tpublic osName = new StoreItem<string>(\"pref:os\", \"\")\n\tpublic toolsSiderCollapsed = new StoreItem<boolean>(\"pref:sider-collapsed\", true)\n\tpublic jsonFormatterDefaultIndentSpace = new StoreItem<number>(\"pref:json-formatter:default-indent-space\", 2)\n\n\tpublic static getInstance(): Pref {\n\t\tif (!Pref.instance) {\n\t\t\tPref.instance = new Pref();\n\t\t}\n\t\treturn Pref.instance\n\t}\n}\n","import {useObservableState} from \"observable-hooks\";\nimport {from} from \"rxjs\";\n\nexport const useWasmAPI = () => {\n    return useObservableState(from(import('wasm-api')))\n}","import {\n  Banner,\n  Button,\n  Col,\n  Input,\n  Row,\n  Select,\n  SideSheet,\n  Space,\n  Toast,\n} from '@douyinfe/semi-ui'\nimport './json-formatter.scss'\nimport {\n  IconArrowUp,\n  IconCopy,\n  IconHelpCircle,\n  IconLayers,\n} from '@douyinfe/semi-icons'\nimport { useEffect, useRef, useState } from 'react'\nimport { useObservableState } from 'observable-hooks'\nimport { useMount } from 'react-use'\nimport { AutoFitTextAreaWithRef } from '../wigetds/autofit-textarea'\nimport Text from '@douyinfe/semi-ui/lib/es/typography/text'\nimport useClipboard from 'use-clipboard-hook'\nimport { JSONPath } from 'jsonpath-plus'\nimport { JsonPathGuide } from '../wigetds/json-path-guide'\nimport { Pref } from '../context/pref'\nimport { isTauriAppContext } from '../../App'\nimport { useWasmAPI } from '../libs/hooks/wasm-api'\nimport { ValidationError } from 'wasm-api'\nimport AceEditor from 'react-ace'\nimport 'ace-builds/src-noconflict/mode-json'\nimport 'ace-builds/src-noconflict/theme-github'\nimport 'ace-builds/src-noconflict/theme-tomorrow_night'\nimport 'ace-builds/src-noconflict/ext-language_tools'\nimport { NewProperAPIClient } from '../../libs/api/client'\nimport {\n  InDownloadPioBinary,\n  InTryPioBinary,\n} from '../../libs/api/proto/tools_pb'\n\nconst ErrorDisplay = ({\n  input,\n  errors,\n  onFirstErrorRange,\n}: {\n  input?: string\n  errors: Array<ValidationError>\n  onFirstErrorRange?: (start: number, end: number) => void\n}) => {\n  const [errorTags, setErrorTags] = useState<Array<JSX.Element>>([])\n  useEffect(() => {\n    if (errors.length === 0) {\n      return\n    }\n    if (!input) {\n      return\n    }\n\n    const prefixCount = 10\n    const ellipsePlaceHolderStart = '... '\n    const ellipsePlaceHolderEnd = ' ...'\n    let tags = errors.map((vErr, idx) => {\n      let errAtGreaterThan = Number(vErr.index_start) - prefixCount > 0\n      let errHasLeftContent =\n        Number(vErr.index_end) + prefixCount < input.length\n\n      let startAt = errAtGreaterThan\n        ? Number(vErr.index_start) - prefixCount\n        : 0\n      let endAt = errHasLeftContent\n        ? Number(vErr.index_end) + prefixCount\n        : Number(vErr.index_end)\n\n      const errorHintText = `${\n        errAtGreaterThan ? ellipsePlaceHolderStart : ''\n      } ${input.slice(startAt, endAt)}${\n        errHasLeftContent ? ellipsePlaceHolderEnd : ''\n      }`\n\n      let cursorPositionStart = errAtGreaterThan\n        ? startAt - ellipsePlaceHolderStart.length\n        : startAt\n      let cursorPositionEnd = Number(vErr.index_start)\n\n      if (endAt === input.length) {\n        cursorPositionStart = endAt - errorHintText.length\n        cursorPositionEnd = endAt - 1\n      }\n\n      if (onFirstErrorRange) {\n        onFirstErrorRange!(startAt, endAt)\n      }\n\n      return (\n        <div key={idx}>\n          <Space vertical align={'start'} spacing={10}>\n            <Text type={'danger'}>\n              <code>{errorHintText}</code>\n            </Text>\n            <Text type={'danger'}>\n              <code\n                style={{\n                  visibility: 'hidden',\n                  padding: 0,\n                }}\n              >\n                {input.slice(cursorPositionStart, cursorPositionEnd)}\n              </code>\n              <IconArrowUp />\n            </Text>\n            <code>\n              <Text type=\"danger\" style={{ fontSize: 18 }}>\n                {vErr.description}\n              </Text>\n            </code>\n          </Space>\n        </div>\n      )\n    })\n    setErrorTags(tags)\n  }, [errors, input, onFirstErrorRange])\n  return <Space>{errorTags}</Space>\n}\n\nexport const JsonFormatterBlock = () => {\n  let inputPlaceholder =\n    'Enter your text, Drag/drop files, Right click to load file'\n  const jsonIndentState = useObservableState<number>(\n    Pref.getInstance().jsonFormatterDefaultIndentSpace.$\n  )\n  const [jsonPathValue, setJsonPathValue] = useState<string>('')\n  const [showJsonPathGuide, setShowJsonPathGuide] = useState<boolean>(false)\n  const inputRef = useRef<HTMLTextAreaElement>(null)\n  const jsonPathRef = useRef<HTMLInputElement>(null)\n  const { copy } = useClipboard({\n    onSuccess: (_) => {\n      Toast.success('JSON copied')\n    },\n  })\n\n  const wasmAPI = useWasmAPI()\n\n  const [inputValue, setInputValue] = useObservableState<string | undefined>(\n    (obs) => {\n      obs.subscribe((changedInput) => {\n        import('wasm-api').then((wasm) => {\n          let error = wasm?.validate_json(changedInput!)\n          if (error) {\n            if (error.code === 'E100') {\n              return\n            }\n            setValidationErrors([error])\n          }\n        })\n      })\n\n      const setOutput = (changed: string) => {\n        Pref.getInstance().jsonFormatterDefaultIndentSpace.subscribe({\n          next: (indent) => {\n            setValidationErrors([])\n            setOutputJson(changed === '' ? '{}' : changed, indent)\n          },\n        })\n      }\n\n      obs.subscribe((changed) => {\n        setOutput(changed ?? '')\n      })\n      return obs\n    },\n    undefined\n  )\n\n  const [outputValue, setOutputValue] = useObservableState<string | undefined>(\n    (obs) => {\n      return obs\n    },\n    undefined\n  )\n\n  const [editorTheme, setEditorTheme] = useObservableState<string | undefined>(\n    (obs) => {\n      return obs\n    },\n    undefined\n  )\n\n  const [validationErrors, setValidationErrors] = useObservableState<\n    Array<any>\n  >((obs) => {\n    return obs\n  }, [])\n\n  useMount(() => {\n    Pref.getInstance().darkModeEnabled.subscribe({\n      next: (enabled) => {\n        setEditorTheme(enabled ? 'dark' : 'light')\n      },\n    })\n  })\n\n  const setOutputJson = (val?: string, indent?: number | string) => {\n    let outObj = {}\n    let content = ''\n    try {\n      if (val) {\n        outObj = JSON.parse(val)\n        if (indent === 91) {\n          indent = '\\t'\n        }\n        content = JSON.stringify(outObj, null, indent)\n      }\n    } catch (e) {\n    } finally {\n      setOutputValue(content)\n    }\n  }\n\n  const onInputChanged = (val: string) => {\n    setInputValue(val)\n    setJsonPathValue('')\n  }\n\n  const onCopy = () => {\n    copy(outputValue)\n  }\n\n  function setRandomJson() {\n    const inputVal = wasmAPI?.get_random_json()\n    setInputValue(inputVal)\n  }\n\n  function onCompressClicked() {\n    onIndentSelectionChanged(0)\n  }\n\n  function onClearClicked() {\n    setInputValue('')\n  }\n\n  function onIndentSelectionChanged(\n    value: string | number | any[] | Record<string, any> | undefined\n  ) {\n    const indent = value as number\n    console.debug(`setting output json as ${indent} spaces indent`)\n    setOutputJson(outputValue, indent)\n    Pref.getInstance().jsonFormatterDefaultIndentSpace.value = indent\n  }\n\n  const isSidebarCollapsed = useObservableState(\n    Pref.getInstance().toolsSiderCollapsed.$\n  )\n\n  // noinspection RequiredAttributes\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauri) => (\n        <Row className=\"json-formatter-container\">\n          <SideSheet\n            size={'large'}\n            visible={showJsonPathGuide}\n            onCancel={() => {\n              setShowJsonPathGuide(false)\n            }}\n          >\n            <JsonPathGuide />\n          </SideSheet>\n\n          <Row className=\"json-formatter-container-child\" gutter={10}>\n            <Col\n              span={9}\n              className={`input-block ${\n                isTauri ? 'mod-input-block-is-tauri' : ''\n              }`}\n            >\n              <Row style={{ padding: '10px 0' }}>\n                <Space>\n                  <Button onClick={setRandomJson}>Sample</Button>\n                  <Button onClick={onClearClicked}>Clear</Button>\n                </Space>\n              </Row>\n              <Row style={{ height: '100%' }}>\n                <AutoFitTextAreaWithRef\n                  value={inputValue}\n                  onChange={onInputChanged}\n                  forwardedRef={inputRef}\n                  isOnError={validationErrors}\n                  placeholder={inputPlaceholder}\n                />\n              </Row>\n            </Col>\n            <div\n              className={`input-block ${\n                isTauri ? 'mod-input-block-is-tauri' : ''\n              }`}\n              style={{display:'flex',flexDirection:'column',flex:1}}\n            >\n              <Row\n                style={{ padding: '10px 0', flexDirection: 'row-reverse', }}\n                type={'flex'}\n              >\n                <Space>\n                  <Button\n                    disabled={!outputValue}\n                    onClick={onCompressClicked}\n                    icon={<IconLayers />}\n                  >\n                    Compress\n                  </Button>\n                  <Select\n                    disabled={!outputValue}\n                    value={jsonIndentState}\n                    defaultValue={jsonIndentState}\n                    style={{ width: 120 }}\n                    onChange={onIndentSelectionChanged}\n                  >\n                    <Select.Option value={2}>2 spaces</Select.Option>\n                    <Select.Option value={4}>4 spaces</Select.Option>\n                    <Select.Option value={91}>1 tab</Select.Option>\n                    <Select.Option value={0}>minified</Select.Option>\n                  </Select>\n                  <Button\n                    disabled={!outputValue}\n                    onClick={onCopy}\n                    icon={<IconCopy />}\n                  >\n                    Copy\n                  </Button>\n                </Space>\n              </Row>\n              <Row className=\"cm-block\" style={{flex:1}}>\n                {validationErrors.length > 0 ? (\n                  <Banner\n                    className=\"validation-error\"\n                    fullMode={false}\n                    type=\"danger\"\n                    bordered\n                    icon={null}\n                    closeIcon={null}\n                    description={\n                      <ErrorDisplay\n                        onFirstErrorRange={(_start, _end) => {\n                          // inputRef?.current?.setSelectionRange(start, end)\n                        }}\n                        input={inputValue}\n                        errors={validationErrors}\n                      />\n                    }\n                  />\n                ) : (\n                  <Row className={`cm-block-group`} style={{flex:'1',display:'flex',flexDirection:'column'}} gutter={10}>\n                    <Col style={{width:'100%', flex:1}}>\n                      {/* <CodeMirror\n                        value={outputValue}\n                        // extensions={[json()]}\n                        theme={editorTheme! as 'light' | 'dark'}\n                      /> */}\n                      <AceEditor\n                        mode=\"json\"\n                        width='100%'\n                        height='100%'\n                        theme={\n                          editorTheme == 'dark' ? 'tomorrow_night' : 'github'\n                        }\n                        value={outputValue}\n                        name=\"UNIQUE_ID_OF_Col\"\n                        editorProps={{ $blockScrolling: true }}\n                        setOptions={{\n                          enableBasicAutocompletion: true,\n                          enableLiveAutocompletion: true,\n                          enableSnippets: true,\n                        }}\n                        readOnly={true}\n                      />\n                    </Col>\n                    <Col>\n                      <Space style={{ width: '100%',padding:'10px 0' }}>\n                        <Input\n                          type=\"text\"\n                          disabled={!validationErrors || !outputValue}\n                          placeholder={'JSON Path'}\n                          ref={jsonPathRef}\n                          value={jsonPathValue}\n                          onChange={(val) => {\n                            setJsonPathValue(val)\n                            if (val) {\n                              let res = JSONPath({\n                                path: val,\n                                json: JSON.parse(inputValue!),\n                              })\n                              setOutputJson(\n                                JSON.stringify(res),\n                                jsonIndentState\n                              )\n                            } else {\n                              setInputValue(inputValue)\n                            }\n                          }}\n                        />\n                        <Button\n                          icon={<IconHelpCircle />}\n                          onClick={() => {\n                            setShowJsonPathGuide(true)\n                          }}\n                        />\n                      </Space>\n                    </Col>\n                  </Row>\n                )}\n              </Row>\n            </div>\n          </Row>\n        </Row>\n      )}\n    </isTauriAppContext.Consumer>\n  )\n}\n","import {RefObject} from \"react\";\nimport {findDOMNode} from \"react-dom\";\n\nexport function GetRefNodeSize(ref: RefObject<any>) {\n    const htmlNode = findDOMNode(ref.current) as HTMLElement\n    return [htmlNode.offsetWidth ?? 0, htmlNode.offsetHeight ?? 0]\n}\n\nexport function base64encode(str: string) {\n    let encode = encodeURIComponent(str)\n    return window.btoa(encode)\n}\n\nexport function base64decode(str: string) {\n    let decode = window.atob(str);\n    return decodeURIComponent(decode)\n}\n\nexport function findNodesByClassName<T extends HTMLElement>(parent: HTMLElement, className: string): Array<T> {\n    let nodes = parent.getElementsByClassName(className)\n    let returnVals: Array<T> = []\n    for (let nodesKey in nodes) {\n        let node = nodes[nodesKey];\n        if (node instanceof HTMLElement) {\n            returnVals.push(node as T)\n        }\n    }\n    return returnVals\n}\n\nexport function formatNumber(n: number, fractionDigits: number = 0) {\n    let ns = n.toFixed(fractionDigits) + '';\n    let x = ns.split('.');\n    let x1 = x[0];\n    let x2 = x.length > 1 ? '.' + x[1] : '';\n    let rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1)) {\n        // eslint-disable-next-line no-useless-concat\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n}\n\nexport function base64ToArrayBuffer(base64: string) {\n    const binary_string = window.atob(base64);\n    const len = binary_string.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes;\n}\n\nexport function arrayBufferToBase64(dView: Uint8Array) {\n\n    const arr = Array.prototype.slice.call(dView); //Create a normal array\n\n    const arr1 = arr.map(function (item) {\n        return String.fromCharCode(item);    //Convert\n    });\n\n    return window.btoa(arr1.join(''));   //Form a string\n\n}\n\n\nexport function saveBase64AsFile(base64: string, fileName: string) {\n    const link = document.createElement(\"a\");\n    document.body.appendChild(link);\n    link.setAttribute(\"type\", \"hidden\");\n    link.href = \"data:text/plain;base64,\" + base64;\n    link.download = fileName;\n    link.click();\n    document.body.removeChild(link);\n}\n\nexport function getOS() {\n    return window.navigator.appName\n}","import * as React from 'react';\nimport {useContext, useRef, useState} from 'react';\nimport {Button, Radio, RadioGroup, Row, Space, TabPane, Tabs, Toast, Tooltip} from \"@douyinfe/semi-ui\";\nimport \"./base64serde.scss\"\nimport \"../shared/styles/h-layout.scss\"\nimport {IconArrowUp, IconCopy, IconDownload, IconFile, IconImage} from \"@douyinfe/semi-icons\";\nimport {AutoFitTextAreaWithRef} from \"../wigetds/autofit-textarea\";\nimport {useMount} from \"react-use\";\nimport {useSearchParams} from \"react-router-dom\";\nimport {useObservableState} from \"observable-hooks\";\nimport useClipboard from \"use-clipboard-hook\";\nimport {arrayBufferToBase64, base64decode, base64encode, formatNumber, saveBase64AsFile} from \"../libs/helpers\";\nimport {randSentence} from \"@ngneat/falso\"\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport sampleData from \"../../assets/base64-img-sample.json\"\nimport {isTauriAppContext} from '../../App';\n\nexport const Base64Serde = () => {\n    // noinspection DuplicatedCode\n    const [defaultTabIdx, setDefaultTabIdx] = useObservableState<string>(\n        obs => {\n            obs.subscribe(idx => {\n                const search = window.location.search;\n                const params = new URLSearchParams(search);\n                params.set(\"tab\", idx)\n                setSearchParams(params)\n            })\n            return obs\n        },\n        \"1\")\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    useMount(() => {\n        let tabIndex = searchParams.get(\"tab\")\n        if (tabIndex) {\n            setDefaultTabIdx(tabIndex);\n        }\n    })\n\n    return (\n\n        <isTauriAppContext.Consumer>\n            {\n                (isTauri) => (\n                    <Tabs defaultActiveKey={defaultTabIdx}\n                          activeKey={defaultTabIdx}\n                          onChange={(key) => {\n                              setDefaultTabIdx(key)\n                          }}\n                          className={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n                    >\n                        <TabPane tab={<span> <IconFile/> String </span>} itemKey=\"1\">\n                            <Base64SerdeStringBlockBlock/>\n                        </TabPane>\n                        <TabPane tab={<span> <IconImage/> Image </span>} itemKey=\"2\">\n                            <Base64SerdeImageBlockBlock/>\n                        </TabPane>\n                    </Tabs>\n                )\n            }\n        </isTauriAppContext.Consumer>\n    );\n};\n\nexport const Base64SerdeStringBlockBlock = () => {\n        const [codingType, setCodingType] = useState<number>(0)\n        const [inValue, setInValue] = useObservableState<String>(obs => {\n                return obs\n            }, ''\n        )\n        const [outValue, setOutValue] = useObservableState<String>(obs => {\n            return obs\n        }, '')\n        const {copy} = useClipboard({\n            onSuccess: (_) => {\n                Toast.success({\n                    content: `${codingType === 0 ? 'encoded' : 'decoded'} content copied`,\n                },)\n            }\n        });\n\n        const setInputForm = (value: string) => {\n            setInValue(value)\n            setOutValue(codingType === 0 ? base64encode(value) : base64decode(value))\n        }\n\n        const onGenSampleClicked = () => {\n            setInputForm(randSentence({length: 1})[0])\n        }\n\n        const onClearClicked = () => {\n            setInputForm(\"\")\n        }\n\n        const onCopy = () => {\n            copy(outValue.valueOf())\n        }\n\n        const onUseAsInputClicked = () => {\n            setOutValue(\"\");\n            setInValue(outValue)\n        }\n\n        return (\n            <Row className='h-layout-child-container' type={\"flex\"}>\n                <Row className={'h-layout-child'}>\n                    <Row type='flex' className='header' style={{justifyContent: \"space-between\", alignItems: \"center\"}}>\n                        <Space>\n                            <Button onClick={onGenSampleClicked}>Sample</Button>\n                            <Button onClick={onClearClicked} disabled={!inValue}>Clear</Button>\n                        </Space>\n                        <RadioGroup\n                            style={{paddingRight: 5}}\n                            defaultValue={codingType} value={codingType} onChange={(v) => {\n                            setCodingType(v.target.value as number)\n                            if (inValue !== '') {\n                                try {\n                                    setOutValue(codingType === 1 ? base64encode(inValue.valueOf()) : base64decode(inValue.valueOf()))\n                                } catch (e) {\n                                    setOutValue(\"\")\n                                } finally {\n                                }\n                            }\n                        }}>\n                            <Radio value={0}>Encode</Radio>\n                            <Radio value={1}>Decode</Radio>\n                        </RadioGroup>\n                    </Row>\n                    <Row className={'mod-section-content mod-no-footer'}>\n                        <AutoFitTextAreaWithRef value={inValue.valueOf()} onChange={(value) => {\n                            setInputForm(value)\n                        }}/>\n                    </Row>\n                </Row>\n                <Row className={'h-layout-child'}>\n                    <Row className='header'>\n                        <Space>\n                            <Button onClick={onCopy} disabled={outValue === ''} icon={<IconCopy/>}>Copy</Button>\n                            <Button onClick={onUseAsInputClicked} disabled={outValue === ''} icon={<IconArrowUp/>}>Use\n                                as input</Button>\n                        </Space>\n                    </Row>\n                    <Row className={'mod-section-content mod-no-footer'}>\n                        <AutoFitTextAreaWithRef value={outValue.valueOf()}/>\n                    </Row>\n                </Row>\n            </Row>\n        );\n    }\n;\n\n// noinspection JSUnusedGlobalSymbols\nexport const Base64SerdeImageBlockBlock = () => {\n    const isTauri = useContext(isTauriAppContext)\n    const createImage = (data: string, fileType = \"image/jpeg\") => {\n        let src = `data:${fileType};base64,`;\n        src += data\n        let newImage = document.createElement(\"img\");\n        newImage.src = src\n        newImage.onerror = function (_) {\n            newImage.src = \"\"\n        }\n        return newImage\n    }\n\n    const [base64SourceType, setBase64SourceType] = useObservableState<number>((obs) => {\n        obs.subscribe(_ => {\n            onInValueChanged(\"\")\n        })\n        return obs\n    }, 0)\n\n    const [imgSize, setImageSize] = useState<[number, number]>([0, 0])\n    const [, setImgSrc] = useObservableState<string>(obs => {\n        return obs\n    }, '')\n    const [imgTag, setImgTag] = useObservableState<HTMLImageElement | null>(obs => {\n        // calculate input base64 size\n        obs.subscribe(async tag => {\n            let blobSize = 0\n            if (tag) {\n                let src = \"\"\n                try {\n                    src = tag?.src\n                } catch (e) {\n                }\n                try {\n                    const imgSrc = src ?? \"\"\n                    setImgSrc(imgSrc)\n                    const base64Response = await fetch(imgSrc);\n                    blobSize = (await base64Response.blob()).size\n                } catch (e) {\n                    blobSize = 0\n                } finally {\n                }\n            }\n            setImageBlobSize(blobSize)\n        })\n        return obs\n    }, null)\n\n    const [imgBlobSize, setImageBlobSize] = useState<number>(0)\n\n    const [inValue, setInValue] = useObservableState<string>(obs => {\n        return obs\n    }, \"\")\n    const imgContainerRef = useRef<HTMLDivElement>(null)\n\n\n    const onGenSampleClicked = () => {\n        let data = sampleData.data\n        if (base64SourceType === 1) {\n            data = sampleData.data1\n        }\n        onInValueChanged(data);\n    }\n\n    const onClearClicked = () => {\n        onInValueChanged(\"\")\n    }\n\n    const extractBase64 = (inData: string) => {\n        if (!inData) {\n            return \"\"\n        }\n\n        // source in image tag\n        let matches = inData.match(/data:image\\/[^;]+;base64[^\"]+/igm);\n        if (matches && matches.length > 0) {\n            let fistMatch = matches[0]\n            let base64Data = fistMatch.split(\"base64,\")[1]\n            base64Data = base64Data.slice(0, base64Data.length);\n            return base64Data\n        }\n        return inData;\n    }\n\n    const onInValueChanged = (data: string, fileType: string = \"image/jpeg\") => {\n        setInValue(data);\n\n        // data might be raw base64 string, image html tag, or css url pattern\n        let base64String = extractBase64(data)\n\n        let originalImageResized = document.getElementById(\"created-img-resized\") as HTMLImageElement;\n\n        let imgContainer = imgContainerRef.current\n        const removeExisting = () => {\n            if (imgContainer && originalImageResized) {\n                imgContainer.removeChild(originalImageResized)\n                setImgTag(null)\n            }\n        }\n\n        removeExisting()\n\n        if (base64String === \"\") {\n            setImageSize([0, 0])\n            return\n        } else {\n            try {\n                originalImageResized = createImage(base64String, fileType);\n            } catch (e) {\n                setImageSize([0, 0])\n                return\n            } finally {\n\n            }\n            originalImageResized.id = \"created-img-resized\"\n            originalImageResized.onload = function () {\n                setImageSize([originalImageResized.naturalWidth, originalImageResized.naturalHeight])\n            }\n            if (imgContainer) {\n                imgContainer.appendChild(originalImageResized)\n                setImgTag(originalImageResized)\n            }\n        }\n    }\n\n    const formatBytes = (n: number) => {\n        if (n >= 1024 && n <= 1024 * 1024) {\n            return `${formatNumber(n / 1024, 2)} kB`\n        }\n        if (n >= 1024 * 1024) {\n            return `${formatNumber(n / (1024 * 1024), 2)} MB`\n        }\n\n        return `${formatNumber(n)} bytes`;\n    }\n\n    //<editor-fold desc=\"Read image from fs\">\n    const [isLoadingFile, setIsLoadingFile] = useState<boolean>(false)\n    const fileReaderRef = useRef<HTMLInputElement>(null)\n    const fillBase64FormFromFile = (data: Uint8Array, fileType: string = \"image/jpeg\") => {\n        const base64String = arrayBufferToBase64(data)\n\n        let img = createImage(base64String, fileType)\n        img.hidden = true\n        img.id = \"temp_img\"\n        if (base64SourceType === 0) {\n            onInValueChanged(base64String, fileType)\n        }\n        if (base64SourceType === 1) {\n            onInValueChanged(`<img src=\"${img.src}\" alt=\"\">`, fileType)\n        }\n\n        setIsLoadingFile(false)\n        img.parentElement?.removeChild(img)\n    }\n    const handelInputChange = () => {\n        if (fileReaderRef?.current?.files) {\n            const selectedFile = fileReaderRef!.current!.files![0];\n            setIsLoadingFile(true)\n            selectedFile.arrayBuffer().then((data) => {\n                fillBase64FormFromFile(new Uint8Array(data), selectedFile.type)\n            }).finally(\n                () => {\n                    setIsLoadingFile(false)\n                }\n            )\n        }\n    }\n\n    async function onLoadFileClicked() {\n        if (fileReaderRef.current) {\n            setIsLoadingFile(true)\n            if (isTauri) {\n                // @ts-ignore\n                const tauri = window.__TAURI__;\n                let filePath = await tauri.dialog.open();\n                if (filePath) {\n                    tauri.invoke(\"read_binary_file\", {\"path\": filePath}).then((invokeRes: [string, Uint8Array]) => {\n                        let data = invokeRes[1]\n                        fillBase64FormFromFile(data)\n                    });\n                }\n            } else {\n                fileReaderRef.current.click()\n            }\n            setIsLoadingFile(false)\n        }\n    }\n\n    //</editor-fold>\n\n    return (\n        <Row className='h-layout-child-container'>\n            <Row className='h-layout-child'>\n                <Space className='header'>\n                    <Space>\n                        <Button onClick={onGenSampleClicked}>Sample</Button>\n                        <Button onClick={onClearClicked} disabled={!inValue}>Clear</Button>\n                    </Space>\n                    <RadioGroup\n                        style={{paddingRight: 10}}\n                        defaultValue={base64SourceType} value={base64SourceType}\n                        onChange={(evt) => {\n                            setBase64SourceType(evt.target.value as number)\n                        }}>\n\n                        <Tooltip content={\"Raw base64 string\"}>\n                            <Radio value={0}>\n                                Raw String\n                            </Radio>\n                        </Tooltip>\n                        <Tooltip content={\"HTML/CSS containing base64 string\"}>\n                            <Radio value={1}>HTML / CSS</Radio>\n                        </Tooltip>\n                    </RadioGroup>\n                </Space>\n                <Row className='mod-section-content'>\n                    <AutoFitTextAreaWithRef value={inValue} onChange={(val) => {\n                        onInValueChanged(val)\n                    }}/>\n                </Row>\n                <Row className='footer'>\n                    <span style={{display: \"flex\", flexDirection: \"row-reverse\"}}>\n                        <Text><code>{formatBytes(new Blob([inValue]).size)}</code></Text>\n                    </span>\n                </Row>\n            </Row>\n            <Row className='h-layout-child'>\n                <Row className='header'>\n                    <Space>\n                        <input type={\"file\"} style={{display: \"none\"}} ref={fileReaderRef}\n                               onChange={handelInputChange}/>\n                        <Button loading={isLoadingFile} icon={<IconFile/>} children={\"Load File ...\"}\n                                onClick={onLoadFileClicked}/>\n                        <Button onClick={onClearClicked} disabled={!imgTag}>Clear</Button>\n                        <Button icon={<IconDownload/>} children={\"Save\"} disabled={!imgTag} onClick={async () => {\n                            const base64Raw = base64SourceType === 0 ? inValue : extractBase64(inValue);\n                            if (imgTag) {\n                                let fileExt: string\n                                fileExt = imgTag.src.split(\"image/\")[1].split(\";\")[0] ?? \"\"\n                                if (imgTag.src) {\n                                    if (isTauri) {\n                                        // @ts-ignore\n                                        let tauri = window.__TAURI__;\n                                        tauri.invoke(\"write_binary_file\", {\n                                            \"data\": base64Raw,\n                                            \"fileName\": `img.${fileExt}`\n                                        })\n                                            .catch((err: string) => {\n                                                Toast.error(err)\n                                            })\n                                    } else {\n\n                                        saveBase64AsFile(base64Raw, `img.${fileExt}`);\n                                    }\n                                }\n                            }\n                        }}/>\n                    </Space>\n                </Row>\n                <Row className='mod-section-content'>\n                    <div className='img-container' ref={imgContainerRef}/>\n                </Row>\n\n                <Row className='footer' style={{display: \"flex\", flexDirection: \"row-reverse\"}}>\n                    <Text><code>{imgSize.join(\"x\")} | {formatBytes(imgBlobSize)}</code></Text>\n                </Row>\n            </Row>\n        </Row>\n    );\n};\n","import {\n  Button,\n  Col,\n  Descriptions,\n  Row,\n  Space,\n  Tabs,\n  Toast,\n} from \"@douyinfe/semi-ui\";\nimport { useObservableState } from \"observable-hooks\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useMount } from \"react-use\";\nimport \"../shared/styles/h-layout.scss\";\nimport { isTauriAppContext } from \"../../App\";\nimport { Percentage } from \"@icon-park/react\";\nimport \"./url-parser.scss\";\nimport { AutoFitTextAreaWithRef } from \"../wigetds/autofit-textarea\";\nimport { Pref } from \"../context/pref\";\nimport { IconCopy } from \"@douyinfe/semi-icons\";\nimport parseUrl from \"parse-url\";\n\nimport useClipboard from \"use-clipboard-hook\";\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-json\";\nimport \"ace-builds/src-noconflict/theme-github\";\nimport \"ace-builds/src-noconflict/theme-tomorrow_night\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\n\nexport const UrlParser = () => {\n  // noinspection DuplicatedCode\n  const [defaultTabIdx, setDefaultTabIdx] = useObservableState<string>(\n    (obs) => {\n      obs.subscribe((idx) => {\n        const search = window.location.search;\n        const params = new URLSearchParams(search);\n        params.set(\"tab\", idx);\n        setSearchParams(params);\n      });\n      return obs;\n    },\n    \"1\"\n  );\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useMount(() => {\n    let tabIndex = searchParams.get(\"tab\");\n    if (tabIndex) {\n      setDefaultTabIdx(tabIndex);\n    }\n  });\n\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauri) => (\n        <Tabs\n          defaultActiveKey={defaultTabIdx}\n          activeKey={defaultTabIdx}\n          onChange={(key) => {\n            setDefaultTabIdx(key);\n          }}\n          className={`h-layout-container ${isTauri ? \"mod-is-tauri\" : \"\"}`}\n        >\n          <Tabs.TabPane\n            tab={\n              <Space>\n                <Percentage style={{ height: 18 }} /> <span>Parse</span>{\" \"}\n              </Space>\n            }\n            itemKey={\"1\"}\n          >\n            <UrlParserBlock />\n          </Tabs.TabPane>\n          {/*<Tabs.TabPane tab={<Space><LinkTwo style={{height: 18}}/> <span>Encode/Decode</span> </Space>}*/}\n          {/*              itemKey={\"2\"}>*/}\n          {/*</Tabs.TabPane>*/}\n        </Tabs>\n      )}\n    </isTauriAppContext.Consumer>\n  );\n};\n\nexport const UrlParserBlock = () => {\n  const SAMPLE_URL =\n    \"https://www.google.com:443/search?sxsrf=ALeKk03TpCS68ykjCqWWm7_5xDzmkdCBsw%3A1591797655810&ei=l-fgXsOCMcyl-Qaq8p6AAw&q=sample+long+query+string+url&oq=sample+long+query+string+url&gs_lcp=CgZwc3ktYWIQAzoECAAQRzoCCAA6BggAEBYQHjoICCEQFhAdEB46BAgjECc6BwgAEBQQhwI6BwgjELACECc6BAgAEA06CAgAEAgQDRAeOgoIABAIEA0QChAeUIcLWP4vYIAyaAFwAXgAgAF-iAHQC5IBAzkuNpgBAKABAaoBB2d3cy13aXo&sclient=psy-ab&ved=0ahUKEwiDqtCutPfpAhXMUt4KHSq5BzAQ4dUDCAw&uact=5&bb[]=1&bb[]=ab&&bb[]=x#some-hash\";\n\n  const { copy } = useClipboard({\n    onSuccess: (_) => {\n      Toast.success({\n        content: `query content copied`,\n      });\n    },\n  });\n\n  interface ParsedUrl {\n    protocols: string[];\n    protocol: string;\n    port?: string;\n    resource: string;\n    user: string;\n    pathname: string;\n    hash: string;\n    search: string;\n    href: string;\n    query: {\n      [key: string]: any;\n    };\n  }\n\n  const [parsedUrl, setParsedUrl] = useObservableState<ParsedUrl | null>(\n    (obs) => {\n      obs.subscribe((d) => {\n        if (!d) {\n          setOutValue(\"\");\n          return;\n        }\n        setOutValue(JSON.stringify(d?.query ?? {}, null, \"\\t\"));\n      });\n      return obs;\n    },\n    null\n  );\n  const [outValue, setOutValue] = useObservableState<string>((obs) => obs, \"\");\n  const [inValue, setInValue] = useObservableState<string>((obs) => {\n    obs.subscribe((changed) => {\n      if (!changed) {\n        setParsedUrl(null);\n        return;\n      }\n      let parsedUrlObj = parseUrl(changed);\n      setParsedUrl(parsedUrlObj);\n    });\n    return obs;\n  }, \"\");\n  const [editorTheme, setEditorTheme] = useObservableState<string | undefined>(\n    (obs) => {\n      return obs;\n    },\n    undefined\n  );\n  useMount(() => {\n    Pref.getInstance().darkModeEnabled.subscribe({\n      next: (enabled) => {\n        setEditorTheme(enabled ? \"dark\" : \"light\");\n      },\n    });\n  });\n\n  return (\n    <Row className={\"parser-block-container\"}>\n      <Row className={\"url-input-container\"}>\n        <Row className=\"actions\">\n          <Space>\n            <Button\n              onClick={() => {\n                setInValue(SAMPLE_URL);\n              }}\n            >\n              Sample\n            </Button>\n            <Button\n              onClick={() => {\n                setInValue(\"\");\n              }}\n            >\n              Clear\n            </Button>\n          </Space>\n        </Row>\n        <Row className=\"url-input-element\">\n          <AutoFitTextAreaWithRef\n            value={inValue.valueOf()}\n            onChange={(v) => {\n              setInValue(v);\n            }}\n            placeholder=\"Input/Paste URL here ...\"\n          />\n        </Row>\n      </Row>\n      <Row className=\"output-container\">\n        <Col span={10} className=\"segments\">\n          <Descriptions align={\"left\"} className=\"des\">\n            <Descriptions.Item itemKey={\"Protocol\"}>\n              {parsedUrl?.protocol ?? \" - \"}\n            </Descriptions.Item>\n            {parsedUrl?.port ? (\n              <Descriptions.Item itemKey={\"Port\"}>\n                {parsedUrl?.port ?? \" - \"}\n              </Descriptions.Item>\n            ) : (\n              <></>\n            )}\n            <Descriptions.Item itemKey={\"Host\"}>\n              {parsedUrl?.resource ?? \" - \"}\n            </Descriptions.Item>\n            <Descriptions.Item itemKey={\"Path\"}>\n              {parsedUrl?.pathname ?? \" - \"}\n            </Descriptions.Item>\n            {parsedUrl?.user ? (\n              <Descriptions.Item itemKey={\"User\"}>\n                {parsedUrl?.user ?? \" - \"}\n              </Descriptions.Item>\n            ) : (\n              <></>\n            )}\n            {parsedUrl?.hash ? (\n              <Descriptions.Item itemKey={\"Hash\"}>\n                {parsedUrl?.hash ?? \" - \"}\n              </Descriptions.Item>\n            ) : (\n              <></>\n            )}\n            <Descriptions.Item itemKey={\"Query\"} className={\"query\"}>\n              {\" \"}\n              {parsedUrl?.search ?? \" - \"}{\" \"}\n            </Descriptions.Item>\n          </Descriptions>\n        </Col>\n        <Col span={14} style={{height:'100%', paddingLeft: 10,display:'flex',flexDirection:'column'}}>\n          <Row>\n            <Space style={{padding:'10px 0' }}>\n            <Button\n              icon={<IconCopy />}\n              onClick={() => {\n                copy(outValue);\n              }}\n              disabled={!outValue}\n            >\n              Copy\n            </Button>\n            </Space>\n          </Row>\n          <Row style={{flex:1}}>\n            <AceEditor\n              mode=\"json\"\n              width=\"100%\"\n              height=\"100%\"\n              theme={editorTheme == \"dark\" ? \"tomorrow_night\" : \"github\"}\n              value={outValue}\n              name=\"UNIQUE_ID_OF_Col\"\n              editorProps={{ $blockScrolling: true }}\n              setOptions={{\n                enableBasicAutocompletion: true,\n                enableLiveAutocompletion: true,\n                enableSnippets: true,\n              }}\n              readOnly={true}\n            />\n          </Row>\n        </Col>\n      </Row>\n    </Row>\n  );\n};\n","import { Button, Typography, Col, Input, Row, Select, Space, SideSheet, Descriptions, Toast } from \"@douyinfe/semi-ui\"\nimport { isTauriAppContext } from \"../../App\"\nimport \"./crontab-paser.scss\"\nimport { useWasmAPI } from '../libs/hooks/wasm-api'\nimport { useEffect, useState } from \"react\"\nimport cronstrue from \"cronstrue\"\nimport { IconHelpCircle } from \"@douyinfe/semi-icons\"\nimport { Data, } from \"@douyinfe/semi-ui/lib/es/descriptions\"\nimport useClipboard from \"use-clipboard-hook\"\nimport \"../shared/styles/h-layout.scss\"\n\ntype crontabExample = {\n\tdes: string,\n\texp: string\n}\n\nconst exampleCrontabs: Array<crontabExample> = [\n\t{ des: \"Every minute\", exp: \"* * * * *\" },\n\t{ des: \"Every Five Minutes\", exp: \"*/5 * * * *\" },\n\t{ des: \"Every Hour\", exp: \"0 * * * *\" },\n\t{ des: \"Every Six Hours\", exp: \"*/6 * * * *\" },\n\t{ des: \"Evry 5 minutes from 9am to 5pm\", exp: \"*/5 9-17 * * *\" },\n\t{ des: \"Every minute on Sunday\", exp: \"* * * * SUN\" },\n\t{ des: \"Every day at 2am\", exp: \"0 2 * * *\" },\n\t{ des: \"On October 1st at 3pm\", exp: \"0 15 1 10 *\" },\n]\n\nconst CrontabParser = () => {\n\tconst { Text, } = Typography\n\tconst wasmAPI = useWasmAPI()\n\n\tconst defaultExplain = \"Please enter a cron expression\"\n\tconst [explain, setExplain] = useState(defaultExplain)\n\tconst [isErroCron, setIsErrorCron] = useState(false)\n\tconst [showCrontabHelp, setShowCrontabHelp] = useState(false)\n\tconst [inputExp, setInputExp] = useState(\"\")\n\tconst [data, setData] = useState<Array<Data>>(defaultData)\n\tconst [exmapleIdx, setExampleIdx] = useState<number | undefined>()\n\n\tconst onInpuExpChanged = (exp: string) => {\n\t\tsetInputExp(exp)\n\t\tsetExampleIdx(undefined)\n\t\tif (!exp) {\n\t\t\tsetExplain(defaultExplain)\n\t\t\tsetIsErrorCron(false)\n\t\t\treturn\n\t\t}\n\t\tconst defautlErr = () => {\n\t\t\tsetExplain(`Invalid Expression`)\n\t\t\tsetIsErrorCron(true)\n\t\t}\n\t\ttry {\n\t\t\tconst parseRes = wasmAPI?.parse_crontab_string(exp)\n\t\t\ttry {\n\t\t\t\tconst explain = cronstrue.toString(exp)\n\t\t\t\tsetExplain(explain.replace(\"aN:\", \"00:\"))\n\t\t\t\tsetIsErrorCron(false)\n\t\t\t\tconst expSegs = exp.replace(/\\s\\s/g, '').split(\" \")\n\t\t\t\tconst isAllMinutes = expSegs[0] === \"*\"\n\t\t\t\tconst isAllHours = expSegs[1] === \"*\"\n\t\t\t\tconst isAllDays = expSegs[2] === \"*\"\n\t\t\t\tconst isAllMonths = expSegs[3] === \"*\"\n\t\t\t\tconst isAllWeekdays = expSegs[4] === \"*\"\n\t\t\t\tsetData([\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Minutes\", value: isAllMinutes ? \"(All)\" : Array.from(new Set(parseRes?.minutes)).map((m: Number) => { return \":\" + `${m}`.padStart(2, \"0\") }).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Hours\", value: isAllHours ? \"(All)\" : Array.from(new Set(parseRes?.hours)).map((m: Number) => { return `${m}`.padStart(2, \"0\") }).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{ key: \"Days\", value: isAllDays ? \"(All)\" : Array.from(new Set(parseRes?.days)).map((m: Number) => { return `${m}` }).join(', '), },\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Day of Month\", value: isAllMonths ? \"(All)\" : Array.from(new Set(parseRes?.months)).map((m: Number) => {\n\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\"January\",\n\t\t\t\t\t\t\t\t\"February\",\n\t\t\t\t\t\t\t\t\"March\",\n\t\t\t\t\t\t\t\t\"April\",\n\t\t\t\t\t\t\t\t\"May\",\n\t\t\t\t\t\t\t\t\"June\",\n\t\t\t\t\t\t\t\t\"July\",\n\t\t\t\t\t\t\t\t\"August\",\n\t\t\t\t\t\t\t\t\"September\",\n\t\t\t\t\t\t\t\t\"October\",\n\t\t\t\t\t\t\t\t\"November\",\n\t\t\t\t\t\t\t\t\"December\"\n\n\t\t\t\t\t\t\t][(m) as number - 1]\n\t\t\t\t\t\t}).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Day of Week\", value: isAllWeekdays ? \"(All)\" : Array.from(new Set(parseRes?.weekdays)).map((m: Number) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t0: \"Sunday\",\n\t\t\t\t\t\t\t\t1: \"Monday\",\n\t\t\t\t\t\t\t\t2: \"Tuesday\",\n\t\t\t\t\t\t\t\t3: \"Wedensday\",\n\t\t\t\t\t\t\t\t4: \"Thursday\",\n\t\t\t\t\t\t\t\t5: \"Friday\",\n\t\t\t\t\t\t\t\t6: \"Saturday\",\n\n\t\t\t\t\t\t\t}[(m) as number - 1]\n\t\t\t\t\t\t}).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Next executions\", value:\n\t\t\t\t\t\t\t<Space vertical={true}>\n\t\t\t\t\t\t\t\t{parseRes?.next_executions.split(\"#\").map((n, idx) => {\n\t\t\t\t\t\t\t\t\tlet [local, utc] = n.split(\",\");\n\t\t\t\t\t\t\t\t\treturn <Space key={idx}>\n\t\t\t\t\t\t\t\t\t\t<Text code>{local}</Text>\n\t\t\t\t\t\t\t\t\t\t<span>{utc}</span>\n\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Space>\n\n\t\t\t\t\t}\n\t\t\t\t])\n\t\t\t} catch (_) {\n\t\t\t\tdefautlErr()\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tlet errMsg = `${e}`;\n\t\t\tif (errMsg.startsWith(\"RuntimeError\")) {\n\t\t\t\tconsole.error(e)\n\t\t\t\tdefautlErr();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetExplain(errMsg)\n\t\t\tsetIsErrorCron(true)\n\t\t}\n\t}\n\n\t// @ts-ignore\n\tconst onExampleSelected = (index: any) => {\n\t\tconst exp = exampleCrontabs[index].exp\n\t\tsetInputExp(exp)\n\t\tonInpuExpChanged(exp)\n\t}\n\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tToast.success({\n\t\t\t\tcontent: `Copied Crontab expression.`,\n\t\t\t})\n\t\t},\n\t})\n\n\t// setInputExp(\"0 */21 * * WED-THU\")\n\t// onInpuExpChanged(\"0 */21 * * WED-THU\")\n\n\treturn (\n\t\t<Row>\n\t\t\t<SideSheet\n\t\t\t\tsize={'medium'}\n\t\t\t\tvisible={showCrontabHelp}\n\t\t\t\tonCancel={() => {\n\t\t\t\t\tsetShowCrontabHelp(false)\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<CrontabHelp />\n\t\t\t</SideSheet>\n\t\t\t<Row className={'crontab-input-actions'}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Space>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tlet idx = Math.floor(exampleCrontabs.length * Math.random());\n\t\t\t\t\t\t\tconst exp = exampleCrontabs[idx].exp\n\t\t\t\t\t\t\tsetInputExp(exp)\n\t\t\t\t\t\t\tsetExplain(defaultExplain)\n\t\t\t\t\t\t\tonInpuExpChanged(exp)\n\t\t\t\t\t\t\tsetExampleIdx(idx)\n\t\t\t\t\t\t}} > Sample </Button>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tsetInputExp(\"\")\n\t\t\t\t\t\t\tsetExplain(defaultExplain)\n\t\t\t\t\t\t\tonInpuExpChanged(\"\")\n\t\t\t\t\t\t\tsetData(defaultData)\n\t\t\t\t\t\t}} > Clear </Button>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tcopy(inputExp)\n\t\t\t\t\t\t}} disabled={!inputExp} > Copy </Button>\n\t\t\t\t\t</Space>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t\t<Row className={'crontab-input-container'}>\n\t\t\t\t<Col span={11} style={{ paddingLeft: \"5px\" }}>\n\t\t\t\t\t<Space style={{ width: \"100%\" }} >\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={<IconHelpCircle />}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetShowCrontabHelp(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"* * * * *\" value={inputExp} onChange={onInpuExpChanged}></Input>\n\t\t\t\t\t</Space>\n\n\t\t\t\t</Col>\n\t\t\t\t<Col span={11} style={{ paddingLeft: \"10px\" }}>\n\t\t\t\t\t<Select style={{ width: \"100%\" }}\n\t\t\t\t\t\tplaceholder=\"Pick an example ...\"\n\t\t\t\t\t\tonSelect={onExampleSelected}\n\t\t\t\t\t\tdefaultValue={undefined}\n\t\t\t\t\t\tvalue={exmapleIdx}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\texampleCrontabs.map((exp, idx) => {\n\t\t\t\t\t\t\t\treturn <Select.Option\n\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\tvalue={idx}>{`${exp.des} (${exp.exp})`}</Select.Option>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</Select>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"crontab-content\">\n\t\t\t\t<Row className={'crontab-explain'}>\n\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t<Text type={isErroCron ? \"danger\" : \"secondary\"}>{explain}</Text>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row style={{ marginTop: \"20px\" }}>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<CrontabParserResDisplay data={data} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t</Row >\n\t)\n}\n\nlet defaultData: Array<Data> = [\n\t{ key: \"Minutes\", value: \"-\" },\n\t{ key: \"Hours\", value: \"-\" },\n\t{ key: \"Day of Month\", value: \"-\" },\n\t{ key: \"Months\", value: \"-\" },\n\t{ key: \"Day of Week\", value: \"-\" },\n\t{ key: \"Next executions\", value: \"-\" },\n]\nconst CrontabParserResDisplay = (props: { data: Array<Data> }) => {\n\tconst [data, setData] = useState<Array<Data> | undefined>()\n\n\tuseEffect(() => {\n\t\tsetData(props.data)\n\t}, [props])\n\n\treturn <Descriptions\n\t\talign={'left'}\n\t\tstyle={{ width: \"100%\" }} data={data}> </Descriptions>\n}\n\nconst CrontabHelp = () => {\n\treturn <Row>\n\t\t<Col>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Field</th>\n\t\t\t\t\t\t\t\t<th>Required</th>\n\t\t\t\t\t\t\t\t<th>Allowed values</th>\n\t\t\t\t\t\t\t\t<th>Allowed special characters</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Minutes</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>0–59</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Hours</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>0–23</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Day of month</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>1–31</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Month</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>1–12 or Jan-Dec</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Day of week</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>1–7 or Sun-Sat</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\n\t\t</Col>\n\t</Row>\n}\n\nexport const CrontabParserBlock = () => {\n\treturn (\n\t\t<isTauriAppContext.Consumer>\n\t\t\t{(isTauri) => (\n\t\t\t\t<Row className={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n\t\t\t\t\tstyle={{ padding: \"10px 10px\" }}\n\t\t\t\t>\n\t\t\t\t\t<CrontabParser></CrontabParser>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t</isTauriAppContext.Consumer>\n\t)\n}\n","function theDay(date) {\n  return Math.ceil(\n    (new Date(date) - new Date(new Date(date).getFullYear().toString())) /\n      (24 * 60 * 60 * 1000) +\n      1\n  )\n}\n\nfunction theWeek(now) {\n  //输入日期是年的第几天\n  var days = theDay(now)\n  //输入日期年的一月一日是周几\n  var startWeek = new Date(\n    new Date(now).getFullYear().toString() + '/01/01'\n  ).getDay()\n  //输入日期是年的第几周\n  var weeks = Math.ceil((days + startWeek - 1) / 7)\n  return weeks\n}\n\n/*\n ** 时间戳转换成指定格式日期\n ** eg.\n ** dateFormat(11111111111111, 'Y年m月d日 H时i分')\n ** → \"2322年02月06日 03时45分\"\n */\nvar dateFormat = function (timestamp, formats) {\n  // formats格式包括\n  // 1. Y-m-d\n  // 2. Y-m-d H:i:s\n  // 3. Y年m月d日\n  // 4. Y年m月d日 H时i分\n  formats = formats || 'Y-m-d'\n\n  var zero = function (value) {\n    if (value < 10) {\n      return '0' + value\n    }\n    return value\n  }\n\n  var myDate = timestamp ? new Date(timestamp) : new Date()\n\n  var year = myDate.getFullYear()\n  var month = zero(myDate.getMonth() + 1)\n  var day = zero(myDate.getDate())\n\n  var hour = zero(myDate.getHours())\n  var minite = zero(myDate.getMinutes())\n  var second = zero(myDate.getSeconds())\n\n  return formats.replace(/Y|m|d|H|i|s/gi, function (matches) {\n    return {\n      Y: year,\n      m: month,\n      d: day,\n      H: hour,\n      i: minite,\n      s: second,\n    }[matches]\n  })\n}\n\nfunction isLeap(now) {\n  return Math.round(now.getYear() / 4) == now.getYear() / 4\n}\n\nexport { theDay, theWeek, isLeap, dateFormat }\n","import { Input, Space, Typography } from \"@douyinfe/semi-ui\";\nimport { ValidateStatus } from \"@douyinfe/semi-ui/lib/es/timePicker\";\nimport { Copy, Correct } from \"@icon-park/react\";\nimport { useState } from \"react\";\nimport useClipboard from \"use-clipboard-hook\";\n\nexport const CopyableInput = (props: { content: string | number, width?: string, state?: ValidateStatus }) => {\n\tconst [copiedOk, setCopiedOk] = useState(false);\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tsetCopiedOk(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetCopiedOk(false);\n\t\t\t}, 2000);\n\t\t},\n\t});\n\t// @ts-ignore\n\tconst onClicked = (content: string | number) => {\n\t\tcopy(content.toString());\n\t};\n\n\treturn (\n\t\t<Space spacing={\"tight\"}\n\t\t\tstyle={{ width: \"100%\" }}\n\t\t>\n\t\t\t<Input\n\t\t\t\tstyle={{ paddingLeft: \"0\", width: `${props.width ? props.width : '300px'}` }}\n\t\t\t\tcontentEditable={false}\n\t\t\t\tvalidateStatus={props.state}\n\t\t\t\tvalue={props.content}\n\t\t\t/>\n\t\t\t<Typography.Text\n\t\t\t\tlink\n\t\t\t\tonClick={() => {\n\t\t\t\t\tonClicked(props.content);\n\t\t\t\t}}\n\t\t\t\ticon={\n\t\t\t\t\tcopiedOk ? (\n\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t<Correct theme=\"filled\" fill=\"#50e3c2\" />\n\t\t\t\t\t\t\t<Typography.Text>Copied</Typography.Text>\n\t\t\t\t\t\t</Space>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Copy theme=\"filled\" />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t></Typography.Text>\n\t\t</Space>\n\t);\n};\n","import { BaseFormApi } from \"@douyinfe/semi-foundation/lib/es/form/interface\";\nimport {\n\tButton,\n\tCard,\n\tCol,\n\tForm,\n\tInput,\n\tRow,\n\tSpace,\n\tTypography,\n} from \"@douyinfe/semi-ui\";\nimport Label from \"@douyinfe/semi-ui/lib/es/form/label\";\nimport { Copy } from \"@icon-park/react\";\nimport Correct from \"@icon-park/react/es/icons/Correct\";\nimport { dataDir } from \"@tauri-apps/api/path\";\nimport { useRef, useState } from \"react\";\nimport useClipboard from \"use-clipboard-hook\";\nimport { theDay, theWeek, isLeap, dateFormat } from \"../../utils/calendar\";\nimport { CopyableInput } from \"../shared/copyableInput\";\n\nconst WEEK_STR = [\n\t\"Monday\",\n\t\"Tuesday\",\n\t\"Wednesday\",\n\t\"Thursday\",\n\t\"Friday\",\n\t\"Saturday\",\n\t\"Sunday\",\n];\nconst MONTH_STR = [\n\t\"Jan\",\n\t\"Feb\",\n\t\"Mar\",\n\t\"Apr\",\n\t\"May\",\n\t\"June\",\n\t\"July\",\n\t\"Aug\",\n\t\"Sep\",\n\t\"Oct\",\n\t\"Nov\",\n\t\"Dec\",\n];\n\nexport const UnixTimeConverterPage = () => {\n\tconst [dateType, setDateType] = useState<String>(\"ms\");\n\tconst [curDate, setCurDate] = useState<Date>(new Date());\n\tconst formApi = useRef<BaseFormApi<any>>();\n\n\tconst itemStyle = { width: \"90%\" };\n\n\tconst renderLabelText = (text: String, _: string) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<span style={{ fontWeight: 600 }}>{text}</span>\n\t\t\t</div>\n\t\t);\n\t};\n\t//是否为Date对象\n\tconst isValidDate = (date: any) => {\n\t\treturn date instanceof Date && !isNaN(date.getTime());\n\t};\n\n\tconst setOtherField = (\n\t\ttimestamp: number,\n\t\tcurField: string,\n\t\ttype = dateType\n\t) => {\n\t\tlet t = timestamp;\n\t\tif (curField === \"timestamp\" && type === \"s\") {\n\t\t\tt = Number((t * 1000).toFixed(0));\n\t\t}\n\t\tconst date = new Date(t);\n\t\tif (isValidDate(date)) {\n\t\t\tconst setField = curField === \"timestamp\" ? \"date\" : \"timestamp\";\n\t\t\tconst setValue =\n\t\t\t\tsetField === \"timestamp\"\n\t\t\t\t\t? type === \"s\"\n\t\t\t\t\t\t? (t / 1000).toFixed(0)\n\t\t\t\t\t\t: String(t)\n\t\t\t\t\t: date;\n\t\t\tformApi.current?.setValue(setField, setValue);\n\t\t\tformApi.current?.setError(curField, \"\");\n\t\t\tsetCurDate(date);\n\t\t} else {\n\t\t\tformApi.current?.setError(curField, \"Invalid Date\");\n\t\t}\n\t};\n\n\tconst presetsTimes = [\n\t\t() => {\n\t\t\treturn {\n\t\t\t\ttext: \"Now\",\n\t\t\t\tstart: new Date(),\n\t\t\t\tend: new Date(),\n\t\t\t};\n\t\t},\n\t];\n\n\treturn (\n\t\t<Form\n\t\t\tstyle={{ padding: \"0 20px\", width: \"100%\", boxSizing: \"border-box\" }}\n\t\t\tgetFormApi={(api) => (formApi.current = api)}\n\t\t\tonValueChange={(_, changeValue) => {\n\t\t\t\tfor (let i in changeValue) {\n\t\t\t\t\t//任意输入为空、全部设置空\n\t\t\t\t\tif (!changeValue[i]) {\n\t\t\t\t\t\tformApi.current?.setValues({});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<Row>\n\t\t\t\t<Col span={8}>\n\t\t\t\t\t<Form.InputGroup\n\t\t\t\t\t\tstyle={itemStyle}\n\t\t\t\t\t\tlabel={{ text: renderLabelText(\"Unix Timestamp\", \"timestamp\") }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Input\n\t\t\t\t\t\t\tstyle={{ width: \"50%\" }}\n\t\t\t\t\t\t\tfield=\"timestamp\"\n\t\t\t\t\t\t\tinitValue={curDate.getTime()}\n\t\t\t\t\t\t\tonChange={(value: any) => {\n\t\t\t\t\t\t\t\tsetOtherField(Number(value), \"timestamp\");\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Form.Input>\n\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\tfield=\"dateType\"\n\t\t\t\t\t\t\tstyle={{ width: \"50%\" }}\n\t\t\t\t\t\t\tinitValue={dateType}\n\t\t\t\t\t\t\tonChange={(value: any) => {\n\t\t\t\t\t\t\t\tsetDateType(value);\n\t\t\t\t\t\t\t\tsetOtherField(\n\t\t\t\t\t\t\t\t\tNumber(formApi.current?.getValue(\"date\")),\n\t\t\t\t\t\t\t\t\t\"date\",\n\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Form.Select.Option value=\"ms\">Milliseconds</Form.Select.Option>\n\t\t\t\t\t\t\t<Form.Select.Option value=\"s\">Seconds</Form.Select.Option>\n\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t</Form.InputGroup>\n\t\t\t\t</Col>\n\t\t\t\t<Col span={5}>\n\t\t\t\t\t<Form.DatePicker\n\t\t\t\t\t\tpresets={presetsTimes}\n\t\t\t\t\t\tfield=\"date\"\n\t\t\t\t\t\tlabel={renderLabelText(\"Choose Time\", \"date\")}\n\t\t\t\t\t\tstyle={itemStyle}\n\t\t\t\t\t\tinitValue={curDate}\n\t\t\t\t\t\ttype=\"dateTime\"\n\t\t\t\t\t\tplaceholder=\"Select Time\"\n\t\t\t\t\t\tonChange={(value: any) => {\n\t\t\t\t\t\t\tif (value && isValidDate(value)) {\n\t\t\t\t\t\t\t\tformApi.current?.setValue(\"dateType\", \"ms\");\n\t\t\t\t\t\t\t\tsetOtherField(new Date(value).getTime(), \"date\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Card>\n\t\t\t\t<Row gutter={[20, 20]}>\n\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t<Label style={{ fontWeight: 600 }}>Now</Label>\n\t\t\t\t\t\t<CopyableInput content={curDate.toString()} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t<Label style={{ fontWeight: 600 }}>UTC</Label>\n\t\t\t\t\t\t<CopyableInput content={curDate.toUTCString()} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t<Label style={{ fontWeight: 600 }}>ISO</Label>\n\t\t\t\t\t\t<CopyableInput content={curDate.toString()} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Card>\n\t\t\t<Card style={{ marginTop: \"10px\" }}>\n\t\t\t\t<Row gutter={[20, 20]}>\n\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t<Label style={{ fontWeight: 600 }}>Day of Year</Label>\n\t\t\t\t\t\t<CopyableInput content={theDay(curDate)} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t<Label style={{ fontWeight: 600 }}>Week of Year</Label>\n\t\t\t\t\t\t<CopyableInput content={theWeek(curDate)} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t<Label style={{ fontWeight: 600 }}>Leap Year:</Label>\n\t\t\t\t\t\t<CopyableInput content={isLeap(curDate) ? \"Yes\" : \"No\"} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Card>\n\n\t\t\t<Card title=\"Other formats (local)\" style={{ marginTop: \"10px\" }}>\n\t\t\t\t<Row gutter={[0, 20]}>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<CopyableInput\n\t\t\t\t\t\t\tcontent={`${MONTH_STR[curDate.getMonth()]},${WEEK_STR[curDate.getDay()]\n\t\t\t\t\t\t\t\t}${dateFormat(curDate.getTime(), \" d, Y\")}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<CopyableInput content={dateFormat(curDate.getTime(), \"d/m/Y\")} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<CopyableInput content={dateFormat(curDate.getTime(), \"Y-m-d\")} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<CopyableInput\n\t\t\t\t\t\t\tcontent={dateFormat(curDate.getTime(), \"d-m-Y H:i\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<CopyableInput\n\t\t\t\t\t\t\tcontent={dateFormat(curDate.getTime(), \"Y-m-d H:i\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Card>\n\t\t</Form>\n\t);\n};\n","import {\n  Button,\n  Col,\n  Radio,\n  RadioGroup,\n  Row,\n  Space,\n  Notification,\n  Toast,\n  Typography,\n} from '@douyinfe/semi-ui'\nimport Textarea from '@douyinfe/semi-ui/lib/es/input/textarea'\nimport { RadioChangeEvent } from '@douyinfe/semi-ui/lib/es/radio'\nimport { ArrowDown, ArrowUp, Copy, CornerLeftUp } from '@icon-park/react'\nimport { type } from 'os'\nimport { useEffect, useState } from 'react'\nimport useClipboard from 'use-clipboard-hook'\nimport { isTauriAppContext } from '../../App'\nimport { AutoFitTextAreaWithRef } from '../wigetds/autofit-textarea'\nimport './url-encode.scss'\n\nconst exampleString = \"abc 0123 !@#$%^&*()|+?<>',.;:`\"\nconst inputPlaceholder = `Input`\nconst outputPlaceholder = `Output`\n\nexport const UrlEncodePage = () => {\n  const typeRadios = [\n    'Encode',\n    'Decode',\n    'Encode Component',\n    'Decode Component',\n  ]\n  const [curType, setCurType] = useState('Encode')\n  const [outputValue, setOutputValue] = useState<string>('')\n  const [inputValue, setInputValue] = useState<string>('')\n  const { copy } = useClipboard({\n    onSuccess: (_) => {\n      Toast.success('copied content!')\n    },\n  })\n  const inputChange = (type: string, value: string) => {\n    try {\n      if (type === 'Encode') {\n        setOutputValue(encodeURI(value))\n      } else if (type === 'Decode') {\n        setOutputValue(decodeURI(value))\n      } else if (type === 'Encode Component') {\n        setOutputValue(encodeURIComponent(value))\n      } else if (type === 'Decode Component') {\n        setOutputValue(decodeURIComponent(value))\n      }\n    } catch (err: any) {\n      Toast.error({ content: err.toString(), duration: 3 })\n      setOutputValue('')\n    }\n  }\n  useEffect(() => {\n    inputChange(curType, inputValue)\n  }, [inputValue, curType])\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauri) => (\n        <div className=\"url-encode-container\">\n          <div className=\"action-bar\">\n            <div>\n              <Space>\n                <Typography.Text>Input:</Typography.Text>\n                <Button\n                  onClick={() => {\n                    setInputValue(exampleString)\n                  }}\n                >\n                  Sample\n                </Button>\n                <Button\n                  onClick={() => {\n                    setInputValue('')\n                  }}\n                >\n                  Clear\n                </Button>\n              </Space>\n            </div>\n            <div>\n              <RadioGroup\n                onChange={(e) => {\n                  setCurType(e.target.value)\n                }}\n                value={curType}\n              >\n                {typeRadios.map((item, index) => {\n                  return (\n                    <Radio key={index} value={item}>\n                      {item}\n                    </Radio>\n                  )\n                })}\n              </RadioGroup>\n            </div>\n          </div>\n          <div className=\"input-wrap\">\n            <AutoFitTextAreaWithRef\n              placeholder={inputPlaceholder}\n              value={inputValue}\n              onChange={(value) => {\n                setInputValue(value)\n              }}\n            ></AutoFitTextAreaWithRef>\n          </div>\n          <div className=\"action-bar\">\n            <Space>\n              <Typography.Text>Output:</Typography.Text>\n              <Button\n                icon={<CornerLeftUp theme=\"outline\" />}\n                onClick={() => {\n                  setInputValue(outputValue)\n                }}\n              >\n                Use as input\n              </Button>\n            </Space>\n            <Button\n              icon={<Copy theme=\"outline\" />}\n              onClick={() => {\n                if (outputValue) {\n                  copy(outputValue)\n                }\n              }}\n            >\n              Copy\n            </Button>\n          </div>\n          <div className=\"input-wrap\">\n            <AutoFitTextAreaWithRef\n              value={outputValue}\n              placeholder={outputPlaceholder}\n            ></AutoFitTextAreaWithRef>\n          </div>\n        </div>\n      )}\n    </isTauriAppContext.Consumer>\n  )\n}\n","import { Button, Card, Checkbox, Col, Input, InputNumber, Row, Select, Space, TabPane, Tabs, TextArea, Toast, Typography } from \"@douyinfe/semi-ui\"\nimport { CheckboxEvent } from \"@douyinfe/semi-ui/lib/es/checkbox\"\nimport { useObservableCallback, useObservableState, useSubscription } from \"observable-hooks\"\nimport { useEffect, useRef, useState } from \"react\"\nimport { BehaviorSubject, map } from \"rxjs\"\nimport useClipboard from \"use-clipboard-hook\"\nimport { UUIDRes } from \"wasm-api\"\nimport { CopyableInput } from \"../shared/copyableInput\"\nimport './uuid-generator.scss'\n\nconst VerCopyItem = (props: { title: string, content: string }) => {\n\treturn <Space vertical style={{ marginTop: '10px', width: '100%' }} align='start'>\n\t\t<Typography.Text>{props.title}</Typography.Text>\n\t\t<CopyableInput content={props.content} width=\"100%\" ></CopyableInput>\n\t</Space>\n}\n\nconst LeftBlock = () => {\n\tconst decodeUuidUpperCased$ = new BehaviorSubject<boolean>(false)\n\n\tconst [decodeUuidRes, setDecodeUuidRes] = useObservableState<UUIDRes | undefined>(obs => obs, undefined)\n\n\tconst [decodeUuidResV1Tm, setDecodeUuidResV1Tm] = useObservableState<[string, string]>(obs => obs, [\"\", \"\"])\n\n\tconst [decodeUuidUpperCased, setDecodeUuidUpperCased] = useObservableState(obs => {\n\t\tobs.subscribe(checked => { decodeUuidUpperCased$.next(checked) })\n\t\treturn obs\n\t}, false)\n\n\tconst [decodeInputValue, setDecodeInputValue] = useObservableState<string | undefined>(obs => obs, undefined);\n\tconst [_, setDecodeInput] = useObservableState(obs => {\n\t\tobs.subscribe(inputChange => {\n\t\t\tsetDecodeInputValue(inputChange)\n\t\t\timport(\"wasm-api\").then(wasm => {\n\t\t\t\ttry {\n\t\t\t\t\tconst uuid = wasm.decode_uuid(inputChange);\n\t\t\t\t\tdecodeUuidUpperCased$.subscribe(yes => {\n\t\t\t\t\t\tsetDecodeUuidRes(transUUIDResCase(uuid, yes))\n\t\t\t\t\t\tif (uuid.version_num === 1) {\n\t\t\t\t\t\t\tlet clock = uuid.rfc4122.clock;\n\t\t\t\t\t\t\tsetDecodeUuidResV1Tm([uuid.rfc4122.epcho, clock])\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsetDecodeUuidRes(undefined)\n\t\t\t\t\t// TODO: show tooltip of error message until new uuid is input\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t\treturn obs\n\t}, \"\")\n\n\tconst sampleUUID = () => {\n\t\timport(\"wasm-api\").then(wasm => {\n\t\t\ttry {\n\t\t\t\tconst uuid: string = [wasm.gen_uuid_v1().std_string, wasm.gen_uuid_v4().std_string][\n\t\t\t\t\tMath.floor((Math.random() * 2))\n\t\t\t\t];\n\t\t\t\tsetDecodeInput(uuid)\n\t\t\t} catch (_) {\n\t\t\t}\n\t\t})\n\t}\n\n\tconst transUUIDResCase = (res?: UUIDRes, uupercase?: boolean) => {\n\t\tif (res) {\n\t\t\tif (!!uupercase) {\n\t\t\t\tres.std_string = res.std_string.toUpperCase()\n\t\t\t\tres.urn_string = res.urn_string.toUpperCase()\n\t\t\t\tres.simple_string = res.simple_string.toUpperCase()\n\t\t\t\tres.raw_content = res.raw_content.toUpperCase()\n\t\t\t} else {\n\t\t\t\tres.std_string = res.std_string.toLowerCase()\n\t\t\t\tres.urn_string = res.urn_string.toLowerCase()\n\t\t\t\tres.simple_string = res.simple_string.toLowerCase()\n\t\t\t\tres.raw_content = res.raw_content.toLowerCase()\n\t\t\t}\n\t\t}\n\t\treturn res\n\t}\n\n\treturn <div style={{height:'100%',display:'flex',flexDirection:'column'}}>\n\t\t<Row style={{ padding: '0 0 20px 0' }}>\n\t\t\t<Space style={{display:'flex',flexWrap:'wrap',justifyContent:'space-between'}}>\n\t\t\t\t<Space>\n\t\t\t\t\t<Typography.Text>Input:</Typography.Text>\n\t\t\t\t\t<Button onClick={sampleUUID}>Sample</Button>\n\t\t\t\t\t<Button onClick={() => { setDecodeInput(\"\") }}>Clear</Button>\n\t\t\t\t</Space>\n\t\t\t\t<Checkbox checked={decodeUuidUpperCased} onChange={(e: CheckboxEvent) => {\n\t\t\t\t\tconst checked = !!e.target.checked;\n\t\t\t\t\tsetDecodeUuidUpperCased(checked)\n\t\t\t\t\tsetDecodeUuidRes(transUUIDResCase(decodeUuidRes, checked))\n\t\t\t\t}}>Uppercase</Checkbox>\n\t\t\t</Space>\n\t\t</Row>\n\t\t<div className=\"hide-scroll-bar\" style={{flex:1,overflow:'auto',scrollbarWidth:'none'}}>\n\n\t\t<div>\n\t\t<Row style={{ width: \"100%\" }}>\n\t\t\t<Input\n\t\t\t\tstyle={{ paddingLeft: \"0\" }}\n\t\t\t\tplaceholder={'00000000-0000-0000-0000-000000000000'}\n\t\t\t\tonChange={setDecodeInput}\n\t\t\t\tvalue={decodeInputValue}\n\t\t\t/>\n\t\t</Row>\n\t\t<Row> <VerCopyItem title=\"Standard String Format\" content={decodeUuidRes?.std_string ?? ''}></VerCopyItem> </Row>\n\t\t<Row> <VerCopyItem title=\"URN Format\" content={decodeUuidRes?.urn_string ?? ''}></VerCopyItem> </Row>\n\t\t<Row> <VerCopyItem title=\"Simple Format\" content={decodeUuidRes?.simple_string ?? ''}></VerCopyItem> </Row>\n\t\t<Row> <VerCopyItem title=\"Single Integer Value\" content={decodeUuidRes?.integer_value ?? ''}></VerCopyItem> </Row>\n\t\t<Row> <VerCopyItem title=\"Version\" content={decodeUuidRes ? (`v${decodeUuidRes?.version_num ?? ''} (${decodeUuidRes?.version ?? ''})`) : ''}></VerCopyItem> </Row>\n\t\t<Row> <VerCopyItem title=\"Variant\" content={decodeUuidRes?.variant ?? ''}></VerCopyItem> </Row>\n\t\t<Row> <VerCopyItem title=\"Raw Contents\" content={decodeUuidRes?.raw_content ?? ''}></VerCopyItem> </Row>\n\n\t\t{decodeUuidRes?.version_num == 1 ?\n\t\t\t<>\n\t\t\t\t<Row> <VerCopyItem title=\"Content - Time\" content={decodeUuidResV1Tm[0]}></VerCopyItem> </Row>\n\t\t\t\t<Row> <VerCopyItem title={\"Content - Clock ID\"} content={decodeUuidResV1Tm[1]}></VerCopyItem> </Row>\n\t\t\t\t<Row> <VerCopyItem title=\"Content - Node\" content={decodeUuidRes?.raw_content.split(\":\").reverse().slice(0, 6).reverse().join(\":\") ?? ''}></VerCopyItem> </Row>\n\t\t\t</>\n\t\t\t: null}\n\t\t\t</div>\n\t\t\t</div>\n\n\t</div>\n}\n\nconst Uuid35Input = (props: { cb: (uuid: string, name: string) => void }) => {\n\tconst namespaces = [\"ns:DNS\", \"ns:URL\", \"ns:OID\", \"ns:X500\", 'Random']\n\n\tconst [inputUuid, setInputUuid] = useObservableState(obs => obs, \"\")\n\tconst [inputName, setInputName] = useObservableState(obs => obs, \"\")\n\tconst [_, setNs] = useObservableState(obs => {\n\t\tobs.subscribe(ns => {\n\t\t\tprops.cb(ns[0], ns[1])\n\t\t})\n\t\treturn obs\n\t}, [\"\", \"\"])\n\n\tconst onNamespaceClicked = (ns: string) => {\n\t\timport(\"wasm-api\").then(wasm => {\n\t\t\tlet ns_uuid = \"\"\n\t\t\tif (ns.startsWith(\"ns:\")) {\n\t\t\t\tns_uuid = wasm.uuid_namespace(ns.toLowerCase());\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tns_uuid = [wasm.gen_uuid_v1().std_string, wasm.gen_uuid_v4().std_string][\n\t\t\t\t\t\tMath.floor((Math.random() * 2))\n\t\t\t\t\t];\n\t\t\t\t} catch (_) {\n\t\t\t\t}\n\t\t\t}\n\t\t\tonInputUuidChanged(ns_uuid)\n\t\t})\n\t}\n\n\tconst onInputUuidChanged = async (v: string) => {\n\t\tsetInputUuid(v)\n\t\tsetNs([v, inputName])\n\t}\n\n\tconst onInputNameChanged = (v: string) => {\n\t\tsetInputName(v)\n\t\tsetNs([inputUuid, v])\n\t}\n\n\treturn (\n\t\t<Space vertical={true} style={{ width: '100%' }} align='start'>\n\t\t\t<Space>\n\t\t\t\t{namespaces.map((n, idx) => {\n\t\t\t\t\treturn <Button key={idx} onClick={() => { onNamespaceClicked(n) }}>{n}</Button>\n\t\t\t\t})}\n\t\t\t</Space>\n\t\t\t<Input\n\t\t\t\tvalue={inputUuid}\n\t\t\t\tplaceholder={'00000000-0000-0000-0000-000000000000'}\n\t\t\t\tvalidateStatus={/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/.test(inputUuid) ? \"default\" : \"error\"}\n\t\t\t\tonChange={onInputUuidChanged} />\n\t\t\t<Input\n\t\t\t\tplaceholder={'Anything: web.echoo.app'}\n\t\t\t\tvalue={inputName}\n\t\t\t\tonChange={onInputNameChanged}\n\t\t\t\tvalidateStatus={inputName ? \"default\" : \"error\"}\n\t\t\t/>\n\t\t</Space>\n\t)\n}\n\nconst RightBlock = () => {\n\tconst [inputHeight,setInputHeight] = useState(0)\n\tconst IDsTextArea = (props: { rows: number | string, content: string }) => {\n\n\t\treturn <TextArea\n\t\t\tcontentEditable={false}\n\t\t\tstyle={{height:inputHeight+'px',overflow:'auto'}} rows={props.rows as number} value={props.content}></TextArea>\n\t}\n\tlet otherHeight = 0\n\tuseEffect(()=>{\n\t\tconst parent = document.getElementsByClassName('input-tab')[0]\n\t\tsetInputHeight(parent?.clientHeight)\n        const winHeight = window.innerHeight;\n\t\totherHeight = winHeight - parent.clientHeight\n        window.addEventListener('resize', resizeUpdate);\n        return () => {\n            window.removeEventListener('resize', resizeUpdate);\n\t\t}\n\t},[])\n\tconst resizeUpdate = (e:any) => {\n        let h = e.target.innerHeight;\n\t\tsetInputHeight(h-otherHeight)\n    };\n\n\tconst tabRef = useRef<Tabs>(null)\n\n\tconst tabKeyMap = {\n\t\t\"1\": \"Standard\",\n\t\t\"2\": \"URN\",\n\t\t\"3\": \"Simple\",\n\t}\n\tconst [visibleTabs, setVisibleTabs] = useObservableState<string>(obs => obs, \"123\")\n\tconst [uuidCount, setUuidCount] = useObservableState(obs => {\n\t\tobs.subscribe(c => {\n\t\t\tsetUuids([])\n\t\t\tif (!!!c) { return }\n\t\t\tif (c <= 9999) {\n\t\t\t\tonGenerateClicked(c)\n\t\t\t}\n\t\t})\n\t\treturn obs\n\t}, 100)\n\n\tconst [uuidsState, setUuidsSate] = useState<UUIDRes[]>([])\n\tconst [setUuids, uuids$] = useObservableCallback<UUIDRes[], UUIDRes[]>(e$ => e$,)\n\tuseSubscription(uuids$, (uuids => {\n\t\tfillTextArea(uuids)\n\t\tsetUuidsSate(uuids)\n\t}))\n\n\tconst [setUuidStrings, uuidString$] = useObservableCallback<string, string[]>(\n\t\te$ => {\n\t\t\treturn e$.pipe(map(strings => {\n\t\t\t\tconst uuidString = strings.join(\"\\n\");\n\t\t\t\treturn (uuidString)\n\t\t\t}))\n\t\t}\n\t)\n\tuseSubscription(uuidString$, s => {\n\t\tconst transCase = (u: string) => {\n\t\t\treturn uppercase ? u.toUpperCase() : u.toLowerCase()\n\t\t}\n\t\tsetUuidString(transCase(s))\n\t})\n\n\tconst [uuidString, setUuidString] = useObservableState<string>(obs => obs, \"\")\n\tconst [enableUuidCount, setEnableUuidCount] = useObservableState<boolean>(obs => obs, true)\n\n\tconst [nsName, setNsName] = useObservableState(obs => obs, [\"\", \"\"])\n\n\tconst [genVersion, setGenVersion] = useObservableState(obs => obs, 'uuidv1')\n\n\tconst [uppercase, setUppserCase] = useObservableState(obs => obs, false)\n\tconst [onUppercaseChanged, uppercase$] = useObservableCallback<boolean, CheckboxEvent>(e => { return e.pipe(map(ie => !!ie.target.checked)) },)\n\tuseSubscription(uppercase$, (checked) => {\n\t\tsetUppserCase(checked)\n\t\tsetUuidString(checked ? uuidString.toUpperCase() : uuidString.toLowerCase())\n\t})\n\n\tconst [setActiveIndex, activeIndexChanged$] = useObservableCallback<string, string>($e => $e)\n\tuseSubscription(activeIndexChanged$, key => {\n\t\tfillTextArea(uuidsState, key)\n\t})\n\n\tconst fillTextArea = (uuids: UUIDRes[], activeKey?: string,) => {\n\t\tconst key = tabRef!.current?.state.activeKey as string\n\t\tswitch (activeKey || key) {\n\t\t\tcase \"1\": setUuidStrings(uuids.map(u => (u.std_string))); break;\n\t\t\tcase \"2\": setUuidStrings(uuids.map(u => (u.urn_string))); break;\n\t\t\tcase \"3\": setUuidStrings(uuids.map(u => (u.simple_string))); break;\n\t\t}\n\t}\n\n\tconst onGenerateClicked = (c?: number) => {\n\t\timport(\"wasm-api\").then(wasm => {\n\t\t\tconst genRange = new Array(c || uuidCount || 0).fill(0);\n\t\t\tconst [ns, n] = nsName;\n\t\t\tswitch (genVersion) {\n\t\t\t\tcase \"uuidv1\":\n\t\t\t\t\tsetUuids(genRange.map(_ => { return wasm.gen_uuid_v1() }))\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"uuidv3\":\n\t\t\t\t\tif (!!!ns || !!!n) { break }\n\t\t\t\t\tsetUuids(genRange.map(_ => { return wasm.gen_uuid_v3(ns, n) }))\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"uuidv4\":\n\t\t\t\t\tsetUuids(genRange.map(_ => { return wasm.gen_uuid_v4() }))\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"uuidv5\":\n\t\t\t\t\tif (!!!ns || !!!n) { break }\n\t\t\t\t\tsetUuids(genRange.map(_ => { return wasm.gen_uuid_v5(ns, n) }))\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ulid\":\n\t\t\t\t\tsetUuids(genRange.map(_ => {\n\t\t\t\t\t\tconst nanoid = wasm.gen_ulid();\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tlet uuidRes: UUIDRes = { std_string: nanoid, };\n\t\t\t\t\t\treturn uuidRes;\n\t\t\t\t\t}))\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"nanoid\":\n\t\t\t\t\tsetUuids(genRange.map(_ => {\n\t\t\t\t\t\tconst nanoid = wasm.gen_nanoid();\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tlet uuidRes: UUIDRes = { std_string: nanoid, };\n\t\t\t\t\t\treturn uuidRes;\n\t\t\t\t\t}))\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t})\n\t}\n\n\t//@ts-ignore\n\tconst onGenversionSelected = (ver) => {\n\t\tsetUuids([])\n\t\tsetGenVersion(ver)\n\t\tif ([\"uuidv1\", \"uuidv3\", \"uuidv4\", \"uuidv5\"].includes(ver)) {\n\t\t\tsetVisibleTabs(\"123\")\n\t\t}\n\t\tif ([\"uuidv3\", \"uuidv5\"].includes(ver)) {\n\t\t\tsetUuidCount(1)\n\t\t\tsetEnableUuidCount(false)\n\t\t} else {\n\t\t\tsetEnableUuidCount(true)\n\t\t}\n\t\tif ([\"nanoid\", \"ulid\"].includes(ver)) {\n\t\t\tsetVisibleTabs(\"1\")\n\t\t}\n\t}\n\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tToast.success({\n\t\t\t\tcontent: `content copied`,\n\t\t\t});\n\t\t},\n\t});\n\n\t// @ts-ignore\n\tconst onCopy = () => {\n\t\tcopy(uppercase ? uuidString.toUpperCase() : uuidString.toLowerCase())\n\t};\n\n\treturn <Row style={{height:'100%',display:'flex',flexDirection:'column'}}>\n\t\t<Row type=\"flex\" style={{ justifyContent: 'space-between' }}>\n\t\t\t<Col > <Typography.Text>Generate new IDs</Typography.Text> </Col>\n\t\t\t<Col >\n\t\t\t\t<Space>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tvalue={genVersion}\n\t\t\t\t\t\tdefaultValue=\"uuidv1\"\n\t\t\t\t\t\tstyle={{ width: 120 }}\n\t\t\t\t\t\tonChange={onGenversionSelected}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Select.Option value='uuidv1'>UUID v1</Select.Option>\n\t\t\t\t\t\t<Select.Option value='uuidv3'>UUID v3</Select.Option>\n\t\t\t\t\t\t<Select.Option value='uuidv4'>UUID v4</Select.Option>\n\t\t\t\t\t\t<Select.Option value='uuidv5'>UUID v5</Select.Option>\n\t\t\t\t\t\t<Select.Option value='ulid'>ULID</Select.Option>\n\t\t\t\t\t\t<Select.Option value='nanoid'>Nano ID</Select.Option>\n\t\t\t\t\t</Select>\n\t\t\t\t\t<Typography.Text>X</Typography.Text>\n\t\t\t\t\t<InputNumber\n\t\t\t\t\t\tdisabled={!enableUuidCount}\n\t\t\t\t\t\tstyle={{ width: \"70px\" }} min={1} max={9999} defaultValue={uuidCount} value={uuidCount} hideButtons onChange={v => {\n\t\t\t\t\t\t\tsetUuidCount(v as number)\n\t\t\t\t\t\t}} />\n\t\t\t\t</Space>\n\t\t\t</Col>\n\t\t</Row>\n\t\t{\n\t\t\t<Row style={(!['uuidv3', 'uuidv5'].includes(genVersion) ? { display: \"none\" } : {})} >\n\t\t\t\t<Uuid35Input cb={(ns, n) => { setNsName([ns, n]) }}></Uuid35Input>\n\t\t\t</Row>\n\t\t}\n\t\t<Row type='flex' justify=\"space-between\" style={{ paddingTop: '10px',flexWrap:'wrap' }} >\n\t\t\t<Col>\n\t\t\t\t<Space>\n\t\t\t\t\t<Button onClick={() => { onGenerateClicked() }}>Generate</Button>\n\t\t\t\t\t<Button disabled={uuidString.length == 0} onClick={() => { onCopy() }}>Copy</Button>\n\t\t\t\t\t<Button disabled={uuidString.length == 0} onClick={() => { setUuids([]) }}>Clear</Button>\n\t\t\t\t</Space>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<Checkbox style={{ padding: '7px 0' }} value={uppercase} onChange={onUppercaseChanged}>Uppercase</Checkbox>\n\t\t\t</Col>\n\t\t</Row >\n\t\t<Row style={{ paddingTop: '10px',flex:1,boxSizing:'border-box' }} className=\"input-tab\" >\n\t\t\t<Tabs tabPosition=\"left\" ref={tabRef} onChange={setActiveIndex} style={{height:'100%',}}>\n\t\t\t\t{Object.keys(tabKeyMap).map((k) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t<TabPane tab={tabKeyMap[k]} itemKey={k} key={k} disabled={!visibleTabs.includes(k)}style={{height:'100%'}}>\n\t\t\t\t\t\t\t<IDsTextArea rows={uuidCount} content={uuidString}></IDsTextArea>\n\t\t\t\t\t\t</TabPane>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Tabs>\n\t\t</Row>\n\t</Row >\n}\n\nexport const UUIDGeneratorBlock = () => {\n\treturn (\n\t\t<Row style={{ height: '100%' }} className=\"uuid-generator-container\">\n\t\t\t<Col span={8} style={{ padding: \"16px 10px 10px 10px\", height: '100%' }}>\n\t\t\t\t<Card title={\"Decoder\"} headerStyle={{ padding: \"10px 10px\" }} style={{ height: '100%',display:'flex',flexDirection:'column' }}  bodyStyle={{flex:1,boxSizing:'border-box',overflow:'hidden'}}>\n\t\t\t\t\t<LeftBlock />\n\t\t\t\t</Card>\n\t\t\t</Col>\n\t\t\t<Col span={16} style={{ padding: \"16px 10px 10px 10px\", height: '100%' }}>\n\t\t\t\t<Card title=\"Generator\" headerStyle={{ padding: \"10px 10px\" }} style={{ height: '100%',display:'flex',flexDirection:'column' }} bodyStyle={{flex:1,boxSizing:'border-box'}}>\n\t\t\t\t\t<RightBlock />\n\t\t\t\t</Card>\n\t\t\t</Col>\n\t\t</Row >\n\t)\n}\n","import { IconLoading } from \"@douyinfe/semi-icons\";\nimport {\n  Row,\n  Col,\n  Space,\n  Typography,\n  Button,\n  TextArea,\n  Input,\n  Divider,\n  Spin,\n} from \"@douyinfe/semi-ui\";\nimport { ValidateStatus } from \"@douyinfe/semi-ui/lib/es/timePicker\";\nimport { randSentence } from \"@ngneat/falso\";\nimport {\n  useObservableCallback,\n  useObservableState,\n  useSubscription,\n} from \"observable-hooks\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { useMount } from \"react-use\";\nimport { Subject, toArray } from \"rxjs\";\nimport { isTauriAppContext } from \"../../App\";\nimport { CopyableInput } from \"../shared/copyableInput\";\nimport { AutoFitTextAreaWithRef } from \"../wigetds/autofit-textarea\";\n\nfunction convertFromStringToBuffer(value: string): ArrayBuffer {\n  // Encode with UTF-8\n  const encoder = new TextEncoder();\n  return encoder.encode(value);\n}\n\n// function convertFromBufferToString(value: ArrayBuffer): string {\n// \t// Decode with UTF-8\n// \tconst decoder = new TextDecoder();\n// \treturn decoder.decode(value);\n// }\n\ntype isFileLoadingType = { loading: boolean; tip: string };\n\nconst LeftBlock = (props: {\n  onInputChanged: (v: Uint8Array, is_sample: boolean) => void;\n  fileLoading?: (sts: isFileLoadingType) => void;\n}) => {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [isLoadingFile, setIsLoadingFile] = useState<isFileLoadingType>({\n    loading: false,\n    tip: \"\",\n  });\n  useEffect(() => {\n    if (props.fileLoading) {\n      props.fileLoading(isLoadingFile);\n      if (!isLoadingFile.loading) {\n        onTextChanged(\"\");\n      }\n    }\n  }, [isLoadingFile]);\n\n  const onTextChanged = (v: string, is_sample?: boolean) => {\n    setInputValue(v);\n    props.onInputChanged(\n      new Uint8Array(convertFromStringToBuffer(v)),\n      !!is_sample\n    );\n  };\n\n  const fileReaderRef = useRef<HTMLInputElement>(null);\n  const handelInputChange = () => {\n    if (fileReaderRef?.current?.files) {\n      const selectedFile = fileReaderRef!.current!.files![0];\n      setIsLoadingFile({ loading: true, tip: \"loading & hashing\" });\n      selectedFile\n        .arrayBuffer()\n        .then((data) => {\n          props.onInputChanged(new Uint8Array(data), false);\n        })\n        .finally(() => {\n          setIsLoadingFile({ loading: false, tip: \"\" });\n        });\n    }\n  };\n\n  const isTauri = useContext(isTauriAppContext);\n\n  const onLoadFileClicked = async () => {\n    if (fileReaderRef.current) {\n      setIsLoadingFile({ loading: true, tip: \"loading & hashing\" });\n      if (isTauri) {\n        // @ts-ignore\n        const tauri = window.__TAURI__;\n        let filePath = await tauri.dialog.open();\n        if (filePath) {\n          tauri\n            .invoke(\"read_binary_file\", { path: filePath })\n            .then((invokeRes: [string, Uint8Array]) => {\n              let data = invokeRes[1];\n              props.onInputChanged(data, false);\n            });\n        }\n      } else {\n        fileReaderRef.current.click();\n      }\n      setIsLoadingFile({ loading: false, tip: \"\" });\n    }\n  };\n\n  return (\n    <div style={{ width: \"100%\", height: \"100%\" }}>\n      <input\n        type={\"file\"}\n        style={{ display: \"none\" }}\n        ref={fileReaderRef}\n        onChange={handelInputChange}\n      />\n      <Space\n        vertical\n        align=\"start\"\n        style={{\n          width: \"100%\",\n          height: \"100%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n        }}\n      >\n        <Space>\n          <Typography.Text>Input</Typography.Text>\n          <Button\n            onClick={() => {\n              onTextChanged(randSentence({ length: 1 })[0], true);\n            }}\n          >\n            Sample\n          </Button>\n          <Button onClick={onLoadFileClicked}>Loadfile...</Button>\n          <Button\n            onClick={() => {\n              onTextChanged(\"\");\n            }}\n          >\n            Clear\n          </Button>\n        </Space>\n        <AutoFitTextAreaWithRef\n          value={inputValue}\n          onChange={(v) => {\n            onTextChanged(v);\n          }}\n        ></AutoFitTextAreaWithRef>\n\t\t<Space></Space>\n      </Space>\n    </div>\n  );\n};\n\nconst RightBlock = (props: { source: Uint8Array; selectSample: boolean }) => {\n  const [isLoadingFile, setIsLoadingFile] = useState<isFileLoadingType>({\n    loading: false,\n    tip: \"\",\n  });\n\n  type hashField = {\n    title: string;\n    content: string;\n    state: ValidateStatus;\n  };\n\n  const hilightInputMatch = (m: string) => {\n    hashFields.forEach((f) => {\n      f.state = m == f.content ? \"warning\" : \"default\";\n    });\n    setHashFields$(hashFields);\n  };\n\n  const [hashFields, _setHashFields] = useObservableState<hashField[]>(\n    (obs) => obs,\n    []\n  );\n  const [setHashFields$, hashFields$] = useObservableCallback<\n    hashField[],\n    hashField[]\n  >((e$) => e$);\n  useSubscription(hashFields$, (res) => {\n    _setHashFields(res);\n    setIsLoadingFile({ tip: \"\", loading: false });\n  });\n\n  const [hashFieldsLoading, setHashFieldsLoading] = useObservableState<{\n    [key: string]: boolean;\n  }>((obs) => obs, { \"\": false });\n\n  const [matchField, _setMatchField] = useState<string>(\"\");\n  const [setMatchField$, matchField$] = useObservableCallback<string, string>(\n    (e$) => e$\n  );\n  useSubscription(matchField$, (matchInput) => {\n    hilightInputMatch(matchInput);\n    _setMatchField(matchInput);\n  });\n\n  const algoItems = (wasm?: any) => {\n    return {\n      md5: wasm?.digest_md5,\n      sha224: wasm?.digest_sha224,\n      sha256: wasm?.digest_sha256,\n      sha348: wasm?.digest_sha348,\n      sha512: wasm?.digest_sha512,\n      \"sha3-224\": wasm?.digest_sha3_224,\n      \"sha3-256\": wasm?.digest_sha3_256,\n      \"sha3-384\": wasm?.digest_sha3_384,\n      \"sha3-512\": wasm?.digest_sha3_512,\n    };\n  };\n\n  const resetFields = () => {\n    setHashFields$(\n      Object.keys(algoItems()).map((algo) => {\n        return { title: algo.toUpperCase(), content: \"\", state: \"default\" };\n      })\n    );\n  };\n\n  useMount(() => {\n    resetFields();\n  });\n\n  useEffect(() => {\n    if (props.source.length == 0) {\n      // resetFields()\n      return;\n    }\n\n    setIsLoadingFile({ loading: true, tip: \"\" });\n    import(\"wasm-api\").then((wasm) => {\n      const _items = algoItems(wasm);\n      Object.keys(_items).forEach((algo) => {\n        hashFieldsLoading[algo] = true;\n      });\n      setHashFieldsLoading(hashFieldsLoading);\n\n      const genHashField = (algo: string) => {\n        //@ts-ignore\n        const gen_hash_func = _items[algo];\n        const content = gen_hash_func ? gen_hash_func(props.source) : \"\";\n\n        const found = content == matchField && content != \"\";\n        const f: hashField = {\n          title: algo.toUpperCase(),\n          content: content,\n          state: found ? \"warning\" : \"default\",\n        };\n\n        return f;\n      };\n\n      setHashFields$(\n        Object.keys(_items).map((algo) => {\n          return genHashField(algo);\n        })\n      );\n      setIsLoadingFile({ loading: false, tip: \"\" });\n    });\n  }, [props]);\n\n  useEffect(() => {\n    if (props.selectSample) {\n      const contents: string[] = hashFields.map((f) => f.content);\n      const sample = contents[Math.floor(Math.random() * contents.length)];\n      hashFields.forEach((f) => {\n        f.state = sample == f.content ? \"warning\" : \"default\";\n      });\n      inputMatchFieldChanged(sample);\n    }\n  }, [hashFields]);\n\n  const inputMatchFieldChanged = (v: string) => {\n    setMatchField$(v);\n  };\n\n  return (\n    <Row gutter={4} style={{ width: \"100%\" }}>\n      <Col span={20} style={{ width: \"100%\", paddingRight: \"20px\" }}>\n        <Space vertical align=\"start\" style={{ width: \"100%\" }}>\n          <Typography.Text>\n            <b>Match Hash:</b>\n          </Typography.Text>\n          <Input\n            placeholder={\"Input hash string to match below calculated\"}\n            style={{ width: \"100%\" }}\n            value={matchField}\n            onChange={inputMatchFieldChanged}\n          />\n        </Space>\n      </Col>\n\n      <Col span={20} style={{ width: \"100%\" }}>\n        <Divider style={{ paddingTop: \"15px\" }}></Divider>\n      </Col>\n\n      <Col span={20} style={{ width: \"100%\" }}>\n        <Row gutter={4}>\n          {hashFields.map((f, idx) => {\n            const matched = f.state == \"warning\" ? \"warning\" : undefined;\n            const weight = f.state == \"warning\" ? \"bold\" : undefined;\n\n            return (\n              <Col span={12} style={{ padding: \"10px\" }} key={idx}>\n                <Spin spinning={isLoadingFile.loading}>\n                  <Space\n                    key={idx}\n                    vertical\n                    align=\"start\"\n                    style={{ width: \"100%\" }}\n                  >\n                    <Typography.Text\n                      type={matched}\n                      style={{ fontWeight: weight }}\n                    >\n                      {f.title}:{f.state == \"warning\" ? \" ✅\" : \"\"}\n                    </Typography.Text>\n                    <CopyableInput\n                      state={f.state}\n                      content={f.content}\n                      width=\"100%\"\n                    />\n                  </Space>\n                </Spin>\n              </Col>\n            );\n          })}\n        </Row>\n      </Col>\n    </Row>\n  );\n};\n\nexport const HashGeneratorBlock = () => {\n  const [input, setInput] = useState<Uint8Array>(new Uint8Array());\n  const [isSample, setIsSample] = useState<boolean>(false);\n  const [isLoading, setIsLoading] = useState<isFileLoadingType>({\n    loading: false,\n    tip: \"\",\n  });\n\n  // FIXME: Spin does not work in MacOS - Safari on state changing\n  return (\n    <Spin\n      indicator={<IconLoading />}\n      tip={isLoading.tip}\n      size=\"large\"\n      childStyle={{ height: \"100%\" }}\n      children={\n        <Row style={{ height: \"100%\" }}>\n          <Col span={8} style={{ padding: \"10px 0 0 10px\", height: \"100%\" }}>\n            <LeftBlock\n              fileLoading={(res) => {\n                setIsLoading(res);\n              }}\n              onInputChanged={(v, is_sample) => {\n                setInput(v);\n                setIsSample(is_sample);\n              }}\n            />\n          </Col>\n          <Col span={16} style={{ padding: \"20px 0 0 10px\", height: \"100%\" }}>\n            <RightBlock source={input} selectSample={isSample}></RightBlock>{\" \"}\n          </Col>\n        </Row>\n      }\n      spinning={isLoading.loading}\n      style={{ height: \"100%\" }}\n    ></Spin>\n  );\n};\n","import { NavItemProps } from '@douyinfe/semi-ui/lib/es/navigation'\nimport {\n\tCalendar,\n\tCodeBrackets,\n\tFingerprintThree,\n\tLinkOne,\n\tPayCode,\n\tPercentage,\n\tTime,\n\tWavesRight,\n} from '@icon-park/react'\nimport { ReactNode } from 'react'\nimport { JsonFormatterBlock } from '../tool-blocks/json-formatter'\nimport { Icon } from '@douyinfe/semi-ui'\nimport { Base64Serde } from '../tool-blocks/base64serde'\nimport { UrlParser } from '../tool-blocks/url-parser'\nimport { CrontabParserBlock } from '../tool-blocks/crontab-parser'\nimport { UnixTimeConverterPage } from '../tool-blocks/unix-time-converter'\nimport { UrlEncodePage } from '../tool-blocks/url-encode'\nimport { UUIDGeneratorBlock } from '../tool-blocks/uuid-generator'\nimport { HashGeneratorBlock } from '../tool-blocks/hash-gnerater'\n\ntype ToolSiderItem = {\n\tnavItemProps: NavItemProps\n\tnode: ReactNode\n}\n\nconst ToolSiderConfigs: { [key: string]: ToolSiderItem } = {\n\t'json-formatter': {\n\t\tnavItemProps: {\n\t\t\titemKey: 'json-formatter',\n\t\t\ttext: 'JSON Formatter',\n\t\t\ticon: <Icon svg={<CodeBrackets theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <JsonFormatterBlock />,\n\t},\n\t'base64-serde': {\n\t\tnavItemProps: {\n\t\t\titemKey: 'base64-serde',\n\t\t\ttext: 'Base64 Coders',\n\t\t\ticon: <Icon svg={<PayCode theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <Base64Serde />,\n\t},\n\t'url-parser': {\n\t\tnavItemProps: {\n\t\t\titemKey: 'url-parser',\n\t\t\ttext: 'URL Parser',\n\t\t\ticon: <Icon svg={<LinkOne theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <UrlParser />,\n\t},\n\t'crontab-parser': {\n\t\tnavItemProps: {\n\t\t\titemKey: 'crontab-parser',\n\t\t\ttext: 'Crontab Parser',\n\t\t\ticon: <Icon svg={<Calendar theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <CrontabParserBlock />,\n\t},\n\t'unix-time-converter': {\n\t\tnavItemProps: {\n\t\t\titemKey: 'unix-time-converter',\n\t\t\ttext: 'Unix Time Converter',\n\t\t\ticon: <Icon svg={<Time theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <UnixTimeConverterPage />,\n\t},\n\t'url-encode': {\n\t\tnavItemProps: {\n\t\t\titemKey: 'url-encode',\n\t\t\ttext: 'URL Encode/Decode',\n\t\t\ticon: <Icon svg={<Percentage theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <UrlEncodePage />,\n\t},\n\t'uuid-generator': {\n\t\tnavItemProps: {\n\t\t\titemKey: 'uuid-generator',\n\t\t\ttext: 'UUID Generator/Decoder',\n\t\t\ticon: <Icon svg={<FingerprintThree theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <UUIDGeneratorBlock />,\n\t},\n\t'hash-generator': {\n\t\tnavItemProps: {\n\t\t\titemKey: 'hash-generator',\n\t\t\ttext: 'Hash Generator',\n\t\t\ticon: <Icon svg={<WavesRight theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <HashGeneratorBlock />,\n\t},\n}\n\nexport default ToolSiderConfigs\n","import { useEffect, useState } from \"react\";\n\nexport function GetStorageValue<T>(key: string, defaultValue: T) {\n\tconst saved = localStorage.getItem(key);\n\tif (!saved) {\n\t\treturn defaultValue\n\t}\n\ttry {\n\t\tconst initial = JSON.parse(saved);\n\t\t//@ts-ignore\n\t\tObject.assign(defaultValue, initial)\n\t\treturn initial || defaultValue;\n\t} catch (e) {\n\t\treturn defaultValue\n\t}\n}\n\nexport const useLocalStore = function <T>(key: string, defaultValue: T) {\n\tconst [value, setValue] = useState<T>(GetStorageValue(key, defaultValue));\n\n\tfunction f(val: T) {\n\t\tlocalStorage.setItem(key, JSON.stringify(value))\n\t\tsetValue(val)\n\t}\n\n\tuseEffect(() => {\n\t\tlocalStorage.setItem(key, JSON.stringify(value))\n\t}, [key, value])\n\n\treturn [value, f]\n}\n","import { Typography } from \"@douyinfe/semi-ui\";\n\nexport const PrivacyPage = () => {\n  return (\n    <Typography.Paragraph style={{ padding: \"0 20px\" }}>\n      <h1>Privacy Policy</h1>\n      <br />\n      <br />\n      This software respects and protects the personal privacy of all users who\n      use the service. In order to provide you with more accurate and\n      personalized services, this software will use and disclose your personal\n      information in accordance with the provisions of this Privacy Policy.\n      However, this software will treat this information with a high degree of\n      diligence and prudence. Except as otherwise provided in this Privacy\n      Policy, this software will not disclose or provide this information to\n      third parties without your prior permission. This software will update\n      this privacy policy from time to time. When you agree to the software\n      service use agreement, you are deemed to have agreed to the entire content\n      of this privacy policy. This privacy policy is an integral part of this\n      software service use agreement.\n      <br />\n      <br />\n      1. Scope of application\n      <br />\n      <br />\n      a) When you use the software network services, the software automatically\n      receives and records the information on your PC/Mac, including language\n      used, access date and time, software and hardware feature information and\n      your needs Web page records and other data;\n      <br />\n      <br />\n      2. Use of Information\n      <br />\n      <br />\n      a) After obtaining your data, the software will upload it to the server to\n      generate your ranking data so that you can use the service better.\n      <br />\n      <br />\n      3. Information disclosure\n      <br />\n      <br />\n      a) This software will not disclose your information to untrusted third\n      parties.\n      <br />\n      <br />\n      b) In accordance with the relevant provisions of the law, or the\n      requirements of administrative or judicial institutions, disclose to third\n      parties or administrative or judicial institutions;\n      <br />\n      <br />\n      4. Information storage and exchange The information and materials about\n      you collected by this software will be saved on the servers of this\n      software and (or) its affiliated companies, and these information and\n      materials may be transmitted to your country, region or the information\n      and materials collected by this software. The material is located outside\n      the country and is accessed, stored and displayed outside the country.\n      <br />\n      <br />\n      5. Information Security\n      <br />\n      <br />\n      a) When using the network services of this software to conduct online\n      transactions, you will inevitably disclose your personal information, such\n      as contact information or postal address, to the counterparty or potential\n      counterparty. Please properly protect your personal information and\n      provide it to others only when necessary. If you find that your personal\n      information is leaked, please contact the software customer service\n      immediately so that the software can take corresponding measures.\n    </Typography.Paragraph>\n  );\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { Button, Col, Form, Modal, Row, SideSheet, Space, Typography } from \"@douyinfe/semi-ui\";\nimport Section from \"@douyinfe/semi-ui/lib/es/form/section\";\nimport { IMac, Magic, } from \"@icon-park/react\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport { IconMoon, IconSun } from \"@douyinfe/semi-icons\";\nimport { useLocalStore } from \"../libs/hooks/localstore\";\nimport { useObservableState } from \"observable-hooks\";\nimport { Pref } from \"../context/pref\";\nimport { PrivacyPage } from './privacy';\nimport { useLocation } from 'react-router-dom';\n\nexport type EchooSettings = {\n\t\"appearance:theme\": \"dark\" | \"light\" | \"system\"\n\t\"updates:check-automatically\": boolean\n}\n\nexport const EchooSettingsDefault: EchooSettings = {\n\t\"appearance:theme\": \"system\",\n\t\"updates:check-automatically\": true\n}\n\ntype settingsModelProps = { visible: boolean, onVisibleChange: (v: boolean) => void }\nexport const SettingsModal = ({ visible, onVisibleChange }: settingsModelProps) => {\n\tconst [settings, setSettings] = useLocalStore(\"settings\", EchooSettingsDefault)\n\tconst [shown, setShown] = useObservableState<boolean>(obs => {\n\t\tobs.subscribe(shown => {\n\t\t\tonVisibleChange(shown)\n\t\t})\n\t\treturn obs\n\t}, visible)\n\n\tconst formRef = useRef<Form>(null)\n\n\tconst onChangeOfAnyField = (v: any) => {\n\t\t// @ts-ignore\n\t\tsetSettings(v)\n\n\t\tlet theme = v['appearance:theme'];\n\t\tPref.getInstance().theme.$.next(theme)\n\t}\n\n\tconst location = useLocation()\n\tconst [showPrivacy, setShowPrivacy] = useState(false)\n\n\tuseEffect(() => {\n\t\tsetShown(visible)\n\t\tif (location.pathname === \"/privacy\") {\n\t\t\tsetShowPrivacy(true)\n\t\t}\n\t}, [setShown, visible, location.pathname])\n\n\t// noinspection RequiredAttributes\n\treturn (\n\t\t<Modal centered visible={shown}\n\t\t\tfooter={\n\t\t\t\t<Button type={\"danger\"} onClick={() => {\n\t\t\t\t\tsetShown(!shown)\n\t\t\t\t}}>Close</Button>\n\t\t\t}\n\t\t\tclosable={false}\n\t\t\twidth={\"600px\"}\n\t\t\theight={\"520px\"}\n\t\t\tkeepDOM={true}\n\t\t\tbodyStyle={{ overflow: 'auto', height: \"400px\", width: \"600px\" }}\n\t\t>\n\n\t\t\t<SideSheet size='medium' visible={showPrivacy} onCancel={() => { setShowPrivacy(false) }}>\n\t\t\t\t<PrivacyPage />\n\t\t\t</SideSheet>\n\n\t\t\t<Form initValues={settings} ref={formRef} onValueChange={onChangeOfAnyField}\n\t\t\t\tstyle={{ height: \"100%\" }}>\n\t\t\t\t<Section text={<Space> <Magic size={28} /> <Typography.Text\n\t\t\t\t\tstyle={{ fontSize: 18 }}>Appearance</Typography.Text> </Space>}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t<Space spacing={20}>\n\t\t\t\t\t\t\t\t<Text>Theme</Text>\n\t\t\t\t\t\t\t\t<Form.Select noLabel field={\"appearance:theme\"}>\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IMac style={{ height: 14 }} />\n\t\t\t\t\t\t\t\t\t\t\t<span>System</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"system\"} />\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IconMoon />\n\t\t\t\t\t\t\t\t\t\t\t<span>Dark</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"dark\"} />\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IconSun />\n\t\t\t\t\t\t\t\t\t\t\t<span>Light</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"light\"} />\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Section>\n\t\t\t\t<Section text={<Space> <Typography.Text\n\t\t\t\t\tstyle={{ fontSize: 18 }}>Others</Typography.Text> </Space>}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Button onClick={() => { setShowPrivacy(true) }}>Privacy Policy</Button>\n\t\t\t\t\t</Row>\n\t\t\t\t</Section>\n\t\t\t\t{/*{isTauri &&*/}\n\t\t\t\t{/*    <Section text={<Space> <UpdateRotation size={28}/> <Typography.Text*/}\n\t\t\t\t{/*        style={{fontSize: 18}}>Updates</Typography.Text> </Space>}>*/}\n\n\t\t\t\t{/*        <Space>*/}\n\t\t\t\t{/*            <Form.Checkbox noLabel field=\"updates:check-automatically\">*/}\n\t\t\t\t{/*                Check for updates automatically*/}\n\t\t\t\t{/*            </Form.Checkbox>*/}\n\n\t\t\t\t{/*            <Tooltip content={\"Check now\"}>*/}\n\t\t\t\t{/*                <Button icon={<IconSync/>} size={\"small\"}/>*/}\n\t\t\t\t{/*            </Tooltip>*/}\n\t\t\t\t{/*        </Space>*/}\n\t\t\t\t{/*    </Section>*/}\n\t\t\t\t{/*}*/}\n\t\t\t</Form>\n\t\t</Modal >\n\t);\n};\n","import { Button, Input, Nav, Row, Space } from '@douyinfe/semi-ui'\nimport { OnSelectedData } from '@douyinfe/semi-ui/lib/es/navigation'\nimport React, { useContext, useRef, useState } from 'react'\nimport ToolSiderConfigs from '../consts/tool-sider-configs'\nimport toolSiderConfigs from '../consts/tool-sider-configs'\nimport { SharedSubjectContext } from '../context/shared-subjects'\nimport { useMount } from 'react-use'\nimport { useLocation, useSearchParams } from 'react-router-dom'\nimport './tools-sider.scss'\nimport { useObservableState } from 'observable-hooks/dist/esm2015'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport { IconSetting, IconSidebar } from '@douyinfe/semi-icons'\nimport { findDOMNode } from 'react-dom'\nimport { Pref } from '../context/pref'\nimport { SettingsModal } from './setting'\n\nexport const ToolsSider = () => {\n  const sharedSubsCtx = useContext(SharedSubjectContext)\n  const navRef = useRef<Nav>(null)\n  const [selectedItems, setSelectedItems] = useObservableState<Array<string>>(\n    (obs) => {\n      return obs\n    },\n    ['json-formatter']\n  )\n  const [tools, setTools] = useObservableState(\n    (obs) => {\n      return obs\n    },\n    Object.values(ToolSiderConfigs).map((i) => {\n      return i.navItemProps\n    })\n  )\n\n  const [, setToolSearchKeyword] = useObservableState<string>((obs) => {\n    obs.subscribe((keyword) => {\n      let filteredTools = Object.values(ToolSiderConfigs)\n        .filter((i) => {\n          return (i.navItemProps.text as string)\n            .toUpperCase()\n            .trim()\n            .includes(keyword.toUpperCase().trim())\n        })\n        .map((i) => {\n          return i.navItemProps\n        })\n      setTools(filteredTools)\n      let filteredItemKeys = filteredTools.map((i) => {\n        return i.itemKey as string\n      })\n      if (filteredItemKeys.length >= 1) {\n        console.debug(`filtered tool item keys: ${filteredItemKeys}`)\n        let firstKey = filteredItemKeys[0]\n        console.debug(`filtered first key: ${firstKey}`)\n        setSelectedItems([firstKey])\n        // send first node to content\n        sharedSubsCtx.activeToolNode$.next(ToolSiderConfigs[firstKey].node)\n      }\n    })\n    return obs\n  }, '')\n\n  const [searchParams, setSearchParams] = useSearchParams()\n  const [sidebarCollapsed, setSideBarCollapsed] = useObservableState<boolean>(\n    (obs) => {\n      obs.subscribe((collapsed) => {\n        Pref.getInstance().toolsSiderCollapsed.value = collapsed as boolean\n        hideSearchBar(collapsed)\n      })\n      return obs\n    },\n    Pref.getInstance().toolsSiderCollapsed.value\n  )\n\n  const hideSearchBar = (hide: Boolean) => {\n    // if collapsed remove header blank from nav header which is\n    // <div class=\"semi-navigation-header semi-navigation-header-collapsed\"></div>\n    // the header left a blank because <GlobalHotKeys> is blocking the place\n    let navNode = findDOMNode(navRef.current) as Element\n    if (navNode) {\n      let nodes = navNode.getElementsByClassName('semi-navigation-header')\n      if (nodes.length >= 0) {\n        let node = nodes.item(0) as HTMLElement\n        node!.style!.display = hide ? 'none' : 'block'\n      }\n    }\n  }\n\n  // handle events\n  const onSiderToolSelected = (data: OnSelectedData) => {\n    let siderToolItem = ToolSiderConfigs[data.itemKey]\n    if (siderToolItem) {\n      console.log(`tool <${data.itemKey}> activated`)\n      sharedSubsCtx.activeToolNode$.next(siderToolItem.node)\n      let itemKey = data.itemKey as string\n      setSelectedItems([itemKey])\n      setSearchParams({ tk: itemKey })\n    }\n  }\n\n  // const search = useLocation().search\n\n  // hooks\n  useMount(() => {\n    hideSearchBar(sidebarCollapsed)\n  })\n\n  useMount(() => {\n    const toolItemKey = searchParams.get('tk')\n\n    // init tool node\n    // default show json-formatter\n    let defaultKey = selectedItems[0]\n    if (\n      toolItemKey &&\n      Object.keys(toolSiderConfigs)\n        .map((k) => {\n          return k.toUpperCase().trim()\n        })\n        .includes(toolItemKey?.toUpperCase().trim())\n    ) {\n      defaultKey = toolItemKey.toLowerCase().trim()\n      setSelectedItems([defaultKey])\n    }\n    sharedSubsCtx.activeToolNode$.next(ToolSiderConfigs[defaultKey].node)\n  })\n\n  const location = useLocation()\n  useMount(() => {\n    if (location.pathname === '/privacy') {\n      setShowSettings(true)\n    }\n    sharedSubsCtx.beEvent$.subscribe((evt: any) => {\n      if (evt['event'] === 'open-settings') {\n        setShowSettings(true)\n      }\n    })\n  })\n\n  //<editor-fold desc=\"Define hot keys\">\n  const searchToolInputRef = useRef<HTMLInputElement>(null)\n  const onFocusSearchTools = React.useCallback(\n    (ke: KeyboardEvent | undefined) => {\n      console.debug('hotkey invoked: focus search tools', JSON.stringify(ke))\n      setSideBarCollapsed(false)\n      searchToolInputRef.current?.focus()\n    },\n    [setSideBarCollapsed]\n  )\n  const hotkeyHandlers = {\n    SEARCH_TOOLS: onFocusSearchTools,\n  }\n  const keyMap = {\n    SEARCH_TOOLS: 'command+.',\n  }\n  //</editor-fold>\n\n  const HeaderNode = (\n    <Row type=\"flex\" justify=\"center\">\n      <Input\n        style={{ marginTop: '10px' }}\n        ref={searchToolInputRef}\n        onChange={(value) => {\n          setToolSearchKeyword(value)\n        }}\n        placeholder=\"Search by ⌘ + .\"\n      />\n    </Row>\n  )\n  const [showSettings, setShowSettings] = useState(false)\n\n  const FooterNode = (\n    <Space vertical={sidebarCollapsed}>\n      <Button\n        icon={<IconSidebar />}\n        onClick={() => {\n          if (sidebarCollapsed) {\n            setSideBarCollapsed(false)\n          } else {\n            setSideBarCollapsed(true)\n          }\n        }}\n      />\n      <Button\n        icon={<IconSetting />}\n        onClick={() => {\n          setShowSettings(true)\n        }}\n      />\n    </Space>\n  )\n\n  return (\n    <>\n      <SettingsModal visible={showSettings} onVisibleChange={setShowSettings} />\n      <Nav\n        ref={navRef}\n        selectedKeys={selectedItems}\n        multiple={false}\n        style={{}}\n        mode=\"vertical\"\n        items={tools}\n        isCollapsed={sidebarCollapsed as boolean}\n        footer={{\n          collapseButton: true,\n          children: FooterNode,\n        }}\n        header={\n          <GlobalHotKeys handlers={hotkeyHandlers} keyMap={keyMap}>\n            {!sidebarCollapsed ? HeaderNode : null}\n          </GlobalHotKeys>\n        }\n        onSelect={onSiderToolSelected}\n        className={'tools-sider'}\n      />\n    </>\n  )\n}\n","import { Layout, Notification } from \"@douyinfe/semi-ui\";\nimport Sider from \"@douyinfe/semi-ui/lib/es/layout/Sider\";\nimport { useObservableState } from \"observable-hooks\";\nimport { ReactNode, useContext, useEffect } from \"react\";\nimport { SharedSubjectContext } from \"../context/shared-subjects\";\nimport { MainFooter } from \"../shared/main-footer\";\nimport { MainNav } from \"../shared/main-nav\";\nimport { ToolsSider } from \"../shared/tools-sider\";\nimport { isTauriAppContext } from \"../../App\";\nimport \"./main-page.scss\";\n\nexport const MainPage = () => {\n  const { Header, Content } = Layout;\n  const sharedSubs = useContext(SharedSubjectContext);\n  const isTauri = useContext(isTauriAppContext);\n  const [activeToolNode, setActiveToolNode] = useObservableState<ReactNode>(\n    (obs) => {\n      obs.subscribe((node) => {\n        console.debug(`active tool node set: ${node}`);\n      });\n      return obs;\n    },\n    null\n  );\n\n  // hooks\n  useEffect(() => {\n    sharedSubs.activeToolNode$.subscribe((node) => {\n      console.debug(`activeToolNode$ received next: ${node}`);\n      setActiveToolNode(node);\n    });\n  }, [setActiveToolNode, sharedSubs]);\n\n  useEffect(() => {\n    if (isTauri) {\n      // @ts-ignore\n      let tauri = window.__TAURI__;\n      tauri.event.listen(\"be-error\", (event: object) => {\n        Notification.error({\n          // @ts-ignore\n          content: event[\"payload\"] as string,\n          position: \"topRight\",\n          showClose: false,\n        });\n      });\n\n      tauri.event.listen(\"be-success\", (event: object) => {\n        Notification.success({\n          // @ts-ignore\n          content: event[\"payload\"] as string,\n          position: \"topRight\",\n          showClose: false,\n        });\n      });\n    }\n  }, [isTauri]);\n\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauriApp) => (\n        <Layout className=\"main-layout\">\n          {!isTauriApp && (\n            <Header>\n              <MainNav />\n            </Header>\n          )}\n          <Layout\n            className={`central-layout ${\n              isTauri ? \"main-view-tauri\" : \"main-view-web\"\n            }`}\n          >\n            <Sider children={<ToolsSider />} />\n            <Content children={activeToolNode} />\n          </Layout>\n          {!isTauriApp && (\n            <Layout.Footer className=\"main-footer-container\">\n              <MainFooter />\n            </Layout.Footer>\n          )}\n        </Layout>\n      )}\n    </isTauriAppContext.Consumer>\n  );\n};\n","import { useRef, useState } from \"react\";\nimport {\n  Button,\n  Col,\n  Form,\n  Modal,\n  Row,\n  SideSheet,\n  Space,\n  Typography,\n} from \"@douyinfe/semi-ui\";\nimport Section from \"@douyinfe/semi-ui/lib/es/form/section\";\nimport { Github, LinkOne, Protect } from \"@icon-park/react\";\nimport { useLocalStore } from \"../libs/hooks/localstore\";\nimport { Pref } from \"../context/pref\";\nimport { PersonalPrivacy } from \"@icon-park/react/es\";\nimport { PrivacyPage } from \"./privacy\";\n\nexport type FirstLanchingModalSettings = {\n  \"allow-analytics\": string;\n};\n\nexport const FirstLanchingModalSettingsDefault: FirstLanchingModalSettings = {\n  \"allow-analytics\": \"\",\n};\n\ntype props = { onVisibleChange: (v: FirstLanchingModalSettings) => void };\n\nexport const FirstLanchingModal = ({ onVisibleChange }: props) => {\n  const [settings, setSettings] = useLocalStore(\n    \"first-launching-settings\",\n    FirstLanchingModalSettingsDefault\n  );\n  const formRef = useRef<Form>(null);\n\n  const onChangeOfAnyField = (v: any) => {\n    // @ts-ignore\n    setSettings(v);\n  };\n\n  const [showPrivacy, setShowPrivacy] = useState(false);\n  // noinspection RequiredAttributes\n  return (\n    <Modal\n      centered\n      visible={true}\n      footer={\n        <Button\n          // @ts-ignore\n          type={settings[\"allow-analytics\"] == \"\" ? \"tertiary\" : \"primary\"}\n          onClick={() => {\n            // @ts-ignore\n            let allow = settings[\"allow-analytics\"] == \"yes\";\n            Pref.getInstance().allowAnalytics.$.next(allow);\n            onVisibleChange(settings as FirstLanchingModalSettings);\n          }}\n          // @ts-ignore\n          disabled={settings[\"allow-analytics\"] == \"\"}\n        >\n          Continue\n        </Button>\n      }\n      closable={false}\n      width={\"600px\"}\n      height={\"auto\"}\n      keepDOM={true}\n      bodyStyle={{ overflow: \"auto\", height: \"380px\", width: \"auto\" }}\n    >\n      <SideSheet\n        size=\"medium\"\n        visible={showPrivacy}\n        onCancel={() => {\n          setShowPrivacy(false);\n        }}\n      >\n        <PrivacyPage />\n      </SideSheet>\n      <Form\n        initValues={settings}\n        ref={formRef}\n        onValueChange={onChangeOfAnyField}\n        style={{ height: \"100%\" }}\n      >\n        <Section\n          text={\n            <Space>\n              {\" \"}\n              <PersonalPrivacy size={28} />{\" \"}\n              <Typography.Text style={{ fontSize: 18 }}>\n                Anonymouse Analysis Notice\n              </Typography.Text>{\" \"}\n            </Space>\n          }\n        >\n          <Row>\n            <Col>\n              <Typography.Paragraph\n                style={{ padding: \"20px 0\" }}\n                spacing=\"extended\"\n              >\n                <Typography.Paragraph>\n                  Echoo.app uses anonymouse analysis to trackdown usage and\n                  website traffic, we use this kind of data to improve this\n                  application. You can always opt-out the analysis by adding\n                  browser add-on or un-check below option and continue.\n                </Typography.Paragraph>\n                <br />\n                <Typography.Text\n                  link\n                  icon={<LinkOne />}\n                  onClick={() => {\n                    setShowPrivacy(true);\n                  }}\n                >\n                  Check Echoo.app's Privacy Policy\n                </Typography.Text>\n              </Typography.Paragraph>\n              <Typography.Title heading={4}>\n                Echoo.app guarentees:\n              </Typography.Title>\n              <br />\n              <Typography.Paragraph spacing=\"extended\">\n                <Space align=\"center\">\n                  <Protect size={24.5} />\n                  <span>\n                    Will NOT collect any of your data input into this\n                    application.\n                  </span>\n                </Space>\n                <Space align=\"center\" style={{ marginTop: \"10px\" }}>\n                  <Github size={24.5} />\n                  <Typography.Text>\n                    Aways be an{\" \"}\n                    <a\n                      rel=\"noreferrer\"\n                      href=\"https://github.com/zsmatrix62/echoo.app\"\n                      target=\"_blank\"\n                    >\n                      {\" \"}\n                      open source software\n                    </a>\n                  </Typography.Text>\n                </Space>\n              </Typography.Paragraph>\n            </Col>\n          </Row>\n          <Row style={{ position: \"fixed\", width: \"100%\", bottom: \"60px\" }}>\n            <Col span={14}>\n              <Form.RadioGroup\n                field=\"allow-analytics\"\n                label=\"Share anonymouse data with Echoo.app?\"\n                initValue={undefined}\n                rules={[\n                  {\n                    required: true,\n                    message: \"Will you share anonymouse data with Echoo.app?\",\n                  },\n                ]}\n              >\n                <Form.Radio value={\"no\"}>No</Form.Radio>\n                <Form.Radio value={\"yes\"}>Yes</Form.Radio>\n              </Form.RadioGroup>\n            </Col>\n          </Row>\n        </Section>\n      </Form>\n    </Modal>\n  );\n};\n","import \"./App.scss\";\nimport { MainPage } from \"./app/pages/main-page\";\nimport { useMount } from \"react-use\";\nimport { createContext, useContext, useState } from \"react\";\nimport { SharedSubjectContext } from \"./app/context/shared-subjects\";\nimport { useObservableState } from \"observable-hooks\";\nimport { Pref } from \"./app/context/pref\";\nimport { useLocalStore } from \"./app/libs/hooks/localstore\";\nimport { EchooSettings, EchooSettingsDefault } from \"./app/shared/setting\";\nimport { FirstLanchingModal } from \"./app/shared/first-lanching-dialog\";\nimport zh_CN from '@douyinfe/semi-ui/lib/es/locale/source/zh_CN';\nimport en_GB from '@douyinfe/semi-ui/lib/es/locale/source/en_GB';\nimport { LocaleProvider } from '@douyinfe/semi-ui';\nexport const isTauriAppContext = createContext(false);\n\nfunction App() {\n\tconst sharedSubsCtx = useContext(SharedSubjectContext);\n\t// const appEnvs = useContext(AppEnvsContext)\n\tconst [isTauri, setIsTauri] = useObservableState((obs) => {\n\t\treturn obs;\n\t}, false);\n\n\tconst p = Pref.getInstance();\n\t// hooks\n\t// listen window resize events\n\tuseMount(() => {\n\t\tconst sendEvent = () => {\n\t\t\tsharedSubsCtx.windowSizeChange$.next([\n\t\t\t\twindow.innerWidth ?? 0,\n\t\t\t\twindow.innerHeight ?? 0,\n\t\t\t]);\n\t\t};\n\t\twindow.addEventListener(\"resize\", () => {\n\t\t\tsendEvent();\n\t\t});\n\t\tsendEvent();\n\t});\n\n\t// check is in tauri client or not\n\tuseMount(() => {\n\t\tsetIsTauri(!!window.__TAURI__);\n\t});\n\n\tconst [settings] = useLocalStore<EchooSettings>(\n\t\t\"settings\",\n\t\tEchooSettingsDefault\n\t);\n\n\t// subscribe dark mode\n\tuseMount(() => {\n\t\tfunction enableDark(enable: boolean) {\n\t\t\tconst body = document.body;\n\t\t\tif (enable) {\n\t\t\t\tbody.setAttribute(\"theme-mode\", \"dark\");\n\t\t\t} else {\n\t\t\t\tif (body.hasAttribute(\"theme-mode\")) {\n\t\t\t\t\tbody.removeAttribute(\"theme-mode\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tp.darkModeEnabled.$.next(enable);\n\t\t}\n\n\t\t// @ts-ignore\n\t\tp.theme.$.next(settings[\"appearance:theme\"] as string);\n\t\tp.theme.subscribe({\n\t\t\tnext: (theme) => {\n\t\t\t\tconst mql = window.matchMedia(\"(prefers-color-scheme: dark)\");\n\t\t\t\tswitch (theme) {\n\t\t\t\t\tcase \"dark\":\n\t\t\t\t\t\tenableDark(true);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"light\":\n\t\t\t\t\t\tenableDark(false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tenableDark(mql.matches);\n\t\t\t\t\t\tmql.addEventListener(\"change\", (e) => {\n\t\t\t\t\t\t\tenableDark(e.matches);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t});\n\n\t// notify user to allow analytics\n\tlet [showFirstLanchingDialog, setShowFirstLanchingDialog] = useState(false)\n\tuseMount(() => {\n\t\tp.isFirstLanching.$.subscribe(yes => {\n\t\t\tsetShowFirstLanchingDialog(yes)\n\t\t})\n\t\tp.allowAnalytics.$.subscribe(yes => {\n\t\t\tif (yes) {\n\t\t\t\tinjectAnalyticsCodes()\n\t\t\t}\n\t\t})\n\t})\n\n\tuseMount(() => {\n\t\t// @ts-ignore\n\t\tlet tauri = window.__TAURI__;\n\t\tif (tauri) {\n\t\t\ttauri.invoke(\"get_system\", {}).then((os: string) => {\n\t\t\t\tPref.getInstance().osName.value = os;\n\t\t\t});\n\t\t\ttauri.path.appDir().then((s: any) => {\n\t\t\t\tconsole.log(s);\n\t\t\t});\n\t\t\t[\"open-settings\", \"open-about\", \"open-help\"].forEach((evt) => {\n\t\t\t\ttauri.event.listen(evt, (event: object) => {\n\t\t\t\t\tsharedSubsCtx.beEvent$.next(event);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\tconst injectAnalyticsCodes = () => {\n\t\tconst h = document.getElementsByTagName(\"head\")[0]\n\t\tconst body = document.getElementsByTagName(\"body\")[0]\n\n\t\tconst ga_s = document.createElement(\"script\")\n\t\tconst gs_ss = document.createElement(\"script\")\n\t\tga_s.src = \"https://www.googletagmanager.com/gtag/js?id=G-68ZK6XEPVH\"\n\t\tga_s.async = true\n\t\tgs_ss.innerHTML = `\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\tfunction gtag() {\n\t\t\tdataLayer.push(arguments);\n\t\t};\n\t\tgtag('js', new Date());\n\t\tgtag('config', 'G-68ZK6XEPVH');\n\t\t`\n\t\tconst tag_mgr_head = document.createElement(\"script\")\n\t\ttag_mgr_head.innerHTML = `\n\t\t(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n\t\t\t\t\t\t\t\t\t\t\t\t\t new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n\t\t j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n\t\t 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n\t\t })(window,document,'script','dataLayer','GTM-N9NMZCN');\n\t\t`\n\t\tconst ns = body.getElementsByTagName(\"noscript\")[0]\n\t\tconst f = document.createElement(\"iframe\")\n\t\tf.src = \"https://www.googletagmanager.com/ns.html?id=GTM-N9NMZCN\"\n\t\tf.height = \"0\"\n\t\tf.width = \"0\"\n\t\tf.style.display = \"none\"\n\t\tf.style.visibility = \"hidden\"\n\t\tns.appendChild(f)\n\n\t\th.appendChild(ga_s)\n\t\th.appendChild(gs_ss)\n\t\th.appendChild(tag_mgr_head)\n\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{showFirstLanchingDialog &&\n\t\t\t\t<FirstLanchingModal onVisibleChange={(v: any) => {\n\t\t\t\t\tconst p = Pref.getInstance();\n\t\t\t\t\tp.allowAnalytics.value = v[\"allow-analytics\"]\n\t\t\t\t\tp.isFirstLanching.value = false\n\t\t\t\t\tsetShowFirstLanchingDialog(false)\n\t\t\t\t}} />}\n\t\t\t<isTauriAppContext.Provider value={isTauri}>\n\t\t\t\t<LocaleProvider locale={en_GB}>\n\t\t\t\t\t<MainPage />\n\t\t\t\t</LocaleProvider>\n\t\t\t</isTauriAppContext.Provider>\n\t\t</>\n\t);\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport './index.scss';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\nimport { HashRouter, Route, Routes } from 'react-router-dom';\n\nReactDOM.render(\n\t<HashRouter basename='/'>\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={<App />}> </Route>\n\t\t\t<Route path=\"/privacy\" element={<App />}> </Route>\n\t\t</Routes>\n\t</HashRouter>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}